import{r as gh,c as mh,g as xo,a as ju}from"./index-BXxLH8De.js";import{d as Ju,c as xs}from"./format-CPlBv4Ik.js";var vc={},Ft={};Object.defineProperty(Ft,"__esModule",{value:!0});var ph=Ft.getLocalStorage=Ft.getLocalStorageOrThrow=Ft.getCrypto=Ft.getCryptoOrThrow=wh=Ft.getLocation=Ft.getLocationOrThrow=yh=Ft.getNavigator=Ft.getNavigatorOrThrow=Ft.getDocument=Ft.getDocumentOrThrow=Ft.getFromWindowOrThrow=Ft.getFromWindow=void 0;function ci(n){let e;return typeof window<"u"&&typeof window[n]<"u"&&(e=window[n]),e}Ft.getFromWindow=ci;function bo(n){const e=ci(n);if(!e)throw new Error(`${n} is not defined in Window`);return e}Ft.getFromWindowOrThrow=bo;function Yu(){return bo("document")}Ft.getDocumentOrThrow=Yu;function Xu(){return ci("document")}Ft.getDocument=Xu;function Zu(){return bo("navigator")}Ft.getNavigatorOrThrow=Zu;function Qu(){return ci("navigator")}var yh=Ft.getNavigator=Qu;function el(){return bo("location")}Ft.getLocationOrThrow=el;function tl(){return ci("location")}var wh=Ft.getLocation=tl;function nl(){return bo("crypto")}Ft.getCryptoOrThrow=nl;function rl(){return ci("crypto")}Ft.getCrypto=rl;function il(){return bo("localStorage")}Ft.getLocalStorageOrThrow=il;function ol(){return ci("localStorage")}ph=Ft.getLocalStorage=ol;Object.defineProperty(vc,"__esModule",{value:!0});var vh=vc.getWindowMetadata=void 0;const zc=Ft;function sl(){let n,e;try{n=zc.getDocumentOrThrow(),e=zc.getLocationOrThrow()}catch{return null}function t(){const J=n.getElementsByTagName("link"),Z=[];for(let he=0;he<J.length;he++){const ne=J[he],le=ne.getAttribute("rel");if(le&&le.toLowerCase().indexOf("icon")>-1){const k=ne.getAttribute("href");if(k)if(k.toLowerCase().indexOf("https:")===-1&&k.toLowerCase().indexOf("http:")===-1&&k.indexOf("//")!==0){let P=e.protocol+"//"+e.host;if(k.indexOf("/")===0)P+=k;else{const N=e.pathname.split("/");N.pop();const G=N.join("/");P+=G+"/"+k}Z.push(P)}else if(k.indexOf("//")===0){const P=e.protocol+k;Z.push(P)}else Z.push(k)}}return Z}function r(...J){const Z=n.getElementsByTagName("meta");for(let he=0;he<Z.length;he++){const ne=Z[he],le=["itemprop","property","name"].map(k=>ne.getAttribute(k)).filter(k=>k?J.includes(k):!1);if(le.length&&le){const k=ne.getAttribute("content");if(k)return k}}return""}function i(){let J=r("name","og:site_name","og:title","twitter:title");return J||(J=n.title),J}function o(){return r("description","og:description","twitter:description","keywords")}const h=i(),v=o(),V=e.origin,p=t();return{description:v,url:V,icons:p,name:h}}vh=vc.getWindowMetadata=sl;var al=function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var o=arguments[e],h=0,v=o.length;h<v;h++,i++)r[i]=o[h];return r},cl=function(){function n(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"}return n}(),hl=function(){function n(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return n}(),ul=function(){function n(e,t,r,i){this.name=e,this.version=t,this.os=r,this.bot=i,this.type="bot-device"}return n}(),ll=function(){function n(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return n}(),dl=function(){function n(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return n}(),fl=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,gl=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Hc=3,ml=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",fl]],Gc=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function pl(n){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new dl:typeof navigator<"u"?wl(navigator.userAgent):Sl()}function yl(n){return n!==""&&ml.reduce(function(e,t){var r=t[0],i=t[1];if(e)return e;var o=i.exec(n);return!!o&&[r,o]},!1)}function wl(n){var e=yl(n);if(!e)return null;var t=e[0],r=e[1];if(t==="searchbot")return new ll;var i=r[1]&&r[1].split(/[._]/).slice(0,3);i?i.length<Hc&&(i=al(i,El(Hc-i.length))):i=[];var o=i.join("."),h=vl(n),v=gl.exec(n);return v&&v[1]?new ul(t,o,h,v[1]):new cl(t,o,h)}function vl(n){for(var e=0,t=Gc.length;e<t;e++){var r=Gc[e],i=r[0],o=r[1],h=o.exec(n);if(h)return i}return null}function Sl(){var n=typeof process<"u"&&process.version;return n?new hl(process.version.slice(1)):null}function El(n){for(var e=[],t=0;t<n;t++)e.push("0");return e}function Sc(n){return pl()}function Ec(){const n=Sc();return n&&n.os?n.os:void 0}function xl(){const n=Ec();return n?n.toLowerCase().includes("android"):!1}function bl(){const n=Ec();return n?n.toLowerCase().includes("ios")||n.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function kl(){return Ec()?xl()||bl():!1}function Ml(){const n=Sc();return n&&n.name?n.name.toLowerCase()==="node":!1}function Al(){return!Ml()&&!!Dl()}const Dl=yh,Il=wh,xc=ph;function Kc(){return vh()}function Tl(n){if(typeof n!="string")throw new Error(`Cannot safe json parse value of type ${typeof n}`);try{return JSON.parse(n)}catch{return n}}function Rl(n){return typeof n=="string"?n:JSON.stringify(n)}const Vl=Tl,_l=Rl;function Bl(n,e){const t=_l(e),r=xc();r&&r.setItem(n,t)}function Sh(n){let e=null,t=null;const r=xc();return r&&(t=r.getItem(n)),e=t&&Vl(t),e}function Eh(n){const e=xc();e&&e.removeItem(n)}const Wc="WALLETCONNECT_DEEPLINK_CHOICE",Pl=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],xh=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"];var bc={exports:{}};bc.exports;(function(n){(function(e,t){function r(y,s){if(!y)throw new Error(s||"Assertion failed")}function i(y,s){y.super_=s;var u=function(){};u.prototype=s.prototype,y.prototype=new u,y.prototype.constructor=y}function o(y,s,u){if(o.isBN(y))return y;this.negative=0,this.words=null,this.length=0,this.red=null,y!==null&&((s==="le"||s==="be")&&(u=s,s=10),this._init(y||0,s||10,u||"be"))}typeof e=="object"?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;var h;try{h=gh.Buffer}catch{}o.isBN=function(s){return s instanceof o?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===o.wordSize&&Array.isArray(s.words)},o.max=function(s,u){return s.cmp(u)>0?s:u},o.min=function(s,u){return s.cmp(u)<0?s:u},o.prototype._init=function(s,u,d){if(typeof s=="number")return this._initNumber(s,u,d);if(typeof s=="object")return this._initArray(s,u,d);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),s=s.toString().replace(/\s+/g,"");var S=0;s[0]==="-"&&S++,u===16?this._parseHex(s,S):this._parseBase(s,u,S),s[0]==="-"&&(this.negative=1),this.strip(),d==="le"&&this._initArray(this.toArray(),u,d)},o.prototype._initNumber=function(s,u,d){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(r(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),u,d)},o.prototype._initArray=function(s,u,d){if(r(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var A,_,L=0;if(d==="be")for(S=s.length-1,A=0;S>=0;S-=3)_=s[S]|s[S-1]<<8|s[S-2]<<16,this.words[A]|=_<<L&67108863,this.words[A+1]=_>>>26-L&67108863,L+=24,L>=26&&(L-=26,A++);else if(d==="le")for(S=0,A=0;S<s.length;S+=3)_=s[S]|s[S+1]<<8|s[S+2]<<16,this.words[A]|=_<<L&67108863,this.words[A+1]=_>>>26-L&67108863,L+=24,L>=26&&(L-=26,A++);return this.strip()};function v(y,s,u){for(var d=0,S=Math.min(y.length,u),A=s;A<S;A++){var _=y.charCodeAt(A)-48;d<<=4,_>=49&&_<=54?d|=_-49+10:_>=17&&_<=22?d|=_-17+10:d|=_&15}return d}o.prototype._parseHex=function(s,u){this.length=Math.ceil((s.length-u)/6),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var S,A,_=0;for(d=s.length-6,S=0;d>=u;d-=6)A=v(s,d,d+6),this.words[S]|=A<<_&67108863,this.words[S+1]|=A>>>26-_&4194303,_+=24,_>=26&&(_-=26,S++);d+6!==u&&(A=v(s,u,d+6),this.words[S]|=A<<_&67108863,this.words[S+1]|=A>>>26-_&4194303),this.strip()};function V(y,s,u,d){for(var S=0,A=Math.min(y.length,u),_=s;_<A;_++){var L=y.charCodeAt(_)-48;S*=d,L>=49?S+=L-49+10:L>=17?S+=L-17+10:S+=L}return S}o.prototype._parseBase=function(s,u,d){this.words=[0],this.length=1;for(var S=0,A=1;A<=67108863;A*=u)S++;S--,A=A/u|0;for(var _=s.length-d,L=_%S,I=Math.min(_,_-L)+d,c=0,T=d;T<I;T+=S)c=V(s,T,T+S,u),this.imuln(A),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(L!==0){var Ie=1;for(c=V(s,T,s.length,u),T=0;T<L;T++)Ie*=u;this.imuln(Ie),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},o.prototype.copy=function(s){s.words=new Array(this.length);for(var u=0;u<this.length;u++)s.words[u]=this.words[u];s.length=this.length,s.negative=this.negative,s.red=this.red},o.prototype.clone=function(){var s=new o(null);return this.copy(s),s},o.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],C=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],J=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(s,u){s=s||10,u=u|0||1;var d;if(s===16||s==="hex"){d="";for(var S=0,A=0,_=0;_<this.length;_++){var L=this.words[_],I=((L<<S|A)&16777215).toString(16);A=L>>>24-S&16777215,A!==0||_!==this.length-1?d=p[6-I.length]+I+d:d=I+d,S+=2,S>=26&&(S-=26,_--)}for(A!==0&&(d=A.toString(16)+d);d.length%u!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(s===(s|0)&&s>=2&&s<=36){var c=C[s],T=J[s];d="";var Ie=this.clone();for(Ie.negative=0;!Ie.isZero();){var ye=Ie.modn(T).toString(s);Ie=Ie.idivn(T),Ie.isZero()?d=ye+d:d=p[c-ye.length]+ye+d}for(this.isZero()&&(d="0"+d);d.length%u!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(s,u){return r(typeof h<"u"),this.toArrayLike(h,s,u)},o.prototype.toArray=function(s,u){return this.toArrayLike(Array,s,u)},o.prototype.toArrayLike=function(s,u,d){var S=this.byteLength(),A=d||Math.max(1,S);r(S<=A,"byte array longer than desired length"),r(A>0,"Requested array length <= 0"),this.strip();var _=u==="le",L=new s(A),I,c,T=this.clone();if(_){for(c=0;!T.isZero();c++)I=T.andln(255),T.iushrn(8),L[c]=I;for(;c<A;c++)L[c]=0}else{for(c=0;c<A-S;c++)L[c]=0;for(c=0;!T.isZero();c++)I=T.andln(255),T.iushrn(8),L[A-c-1]=I}return L},Math.clz32?o.prototype._countBits=function(s){return 32-Math.clz32(s)}:o.prototype._countBits=function(s){var u=s,d=0;return u>=4096&&(d+=13,u>>>=13),u>=64&&(d+=7,u>>>=7),u>=8&&(d+=4,u>>>=4),u>=2&&(d+=2,u>>>=2),d+u},o.prototype._zeroBits=function(s){if(s===0)return 26;var u=s,d=0;return u&8191||(d+=13,u>>>=13),u&127||(d+=7,u>>>=7),u&15||(d+=4,u>>>=4),u&3||(d+=2,u>>>=2),u&1||d++,d},o.prototype.bitLength=function(){var s=this.words[this.length-1],u=this._countBits(s);return(this.length-1)*26+u};function Z(y){for(var s=new Array(y.bitLength()),u=0;u<s.length;u++){var d=u/26|0,S=u%26;s[u]=(y.words[d]&1<<S)>>>S}return s}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,u=0;u<this.length;u++){var d=this._zeroBits(this.words[u]);if(s+=d,d!==26)break}return s},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},o.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var u=0;u<s.length;u++)this.words[u]=this.words[u]|s.words[u];return this.strip()},o.prototype.ior=function(s){return r((this.negative|s.negative)===0),this.iuor(s)},o.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},o.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},o.prototype.iuand=function(s){var u;this.length>s.length?u=s:u=this;for(var d=0;d<u.length;d++)this.words[d]=this.words[d]&s.words[d];return this.length=u.length,this.strip()},o.prototype.iand=function(s){return r((this.negative|s.negative)===0),this.iuand(s)},o.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},o.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},o.prototype.iuxor=function(s){var u,d;this.length>s.length?(u=this,d=s):(u=s,d=this);for(var S=0;S<d.length;S++)this.words[S]=u.words[S]^d.words[S];if(this!==u)for(;S<u.length;S++)this.words[S]=u.words[S];return this.length=u.length,this.strip()},o.prototype.ixor=function(s){return r((this.negative|s.negative)===0),this.iuxor(s)},o.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},o.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},o.prototype.inotn=function(s){r(typeof s=="number"&&s>=0);var u=Math.ceil(s/26)|0,d=s%26;this._expand(u),d>0&&u--;for(var S=0;S<u;S++)this.words[S]=~this.words[S]&67108863;return d>0&&(this.words[S]=~this.words[S]&67108863>>26-d),this.strip()},o.prototype.notn=function(s){return this.clone().inotn(s)},o.prototype.setn=function(s,u){r(typeof s=="number"&&s>=0);var d=s/26|0,S=s%26;return this._expand(d+1),u?this.words[d]=this.words[d]|1<<S:this.words[d]=this.words[d]&~(1<<S),this.strip()},o.prototype.iadd=function(s){var u;if(this.negative!==0&&s.negative===0)return this.negative=0,u=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,u=this.isub(s),s.negative=1,u._normSign();var d,S;this.length>s.length?(d=this,S=s):(d=s,S=this);for(var A=0,_=0;_<S.length;_++)u=(d.words[_]|0)+(S.words[_]|0)+A,this.words[_]=u&67108863,A=u>>>26;for(;A!==0&&_<d.length;_++)u=(d.words[_]|0)+A,this.words[_]=u&67108863,A=u>>>26;if(this.length=d.length,A!==0)this.words[this.length]=A,this.length++;else if(d!==this)for(;_<d.length;_++)this.words[_]=d.words[_];return this},o.prototype.add=function(s){var u;return s.negative!==0&&this.negative===0?(s.negative=0,u=this.sub(s),s.negative^=1,u):s.negative===0&&this.negative!==0?(this.negative=0,u=s.sub(this),this.negative=1,u):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},o.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var u=this.iadd(s);return s.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var d=this.cmp(s);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var S,A;d>0?(S=this,A=s):(S=s,A=this);for(var _=0,L=0;L<A.length;L++)u=(S.words[L]|0)-(A.words[L]|0)+_,_=u>>26,this.words[L]=u&67108863;for(;_!==0&&L<S.length;L++)u=(S.words[L]|0)+_,_=u>>26,this.words[L]=u&67108863;if(_===0&&L<S.length&&S!==this)for(;L<S.length;L++)this.words[L]=S.words[L];return this.length=Math.max(this.length,L),S!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(s){return this.clone().isub(s)};function he(y,s,u){u.negative=s.negative^y.negative;var d=y.length+s.length|0;u.length=d,d=d-1|0;var S=y.words[0]|0,A=s.words[0]|0,_=S*A,L=_&67108863,I=_/67108864|0;u.words[0]=L;for(var c=1;c<d;c++){for(var T=I>>>26,Ie=I&67108863,ye=Math.min(c,s.length-1),pe=Math.max(0,c-y.length+1);pe<=ye;pe++){var ee=c-pe|0;S=y.words[ee]|0,A=s.words[pe]|0,_=S*A+Ie,T+=_/67108864|0,Ie=_&67108863}u.words[c]=Ie|0,I=T|0}return I!==0?u.words[c]=I|0:u.length--,u.strip()}var ne=function(s,u,d){var S=s.words,A=u.words,_=d.words,L=0,I,c,T,Ie=S[0]|0,ye=Ie&8191,pe=Ie>>>13,ee=S[1]|0,g=ee&8191,re=ee>>>13,we=S[2]|0,F=we&8191,X=we>>>13,m=S[3]|0,E=m&8191,R=m>>>13,W=S[4]|0,B=W&8191,$=W>>>13,ie=S[5]|0,U=ie&8191,q=ie>>>13,te=S[6]|0,H=te&8191,se=te>>>13,Se=S[7]|0,ge=Se&8191,Ve=Se>>>13,He=S[8]|0,qe=He&8191,Oe=He>>>13,Xe=S[9]|0,Ge=Xe&8191,at=Xe>>>13,Vt=A[0]|0,it=Vt&8191,Je=Vt>>>13,bt=A[1]|0,Ke=bt&8191,ze=bt>>>13,tt=A[2]|0,ut=tt&8191,lt=tt>>>13,Ut=A[3]|0,gt=Ut&8191,mt=Ut>>>13,qt=A[4]|0,kt=qt&8191,It=qt>>>13,fn=A[5]|0,Bt=fn&8191,Pt=fn>>>13,An=A[6]|0,$t=An&8191,Et=An>>>13,Dn=A[7]|0,l=Dn&8191,w=Dn>>>13,x=A[8]|0,a=x&8191,M=x>>>13,j=A[9]|0,K=j&8191,ue=j>>>13;d.negative=s.negative^u.negative,d.length=19,I=Math.imul(ye,it),c=Math.imul(ye,Je),c=c+Math.imul(pe,it)|0,T=Math.imul(pe,Je);var Te=(L+I|0)+((c&8191)<<13)|0;L=(T+(c>>>13)|0)+(Te>>>26)|0,Te&=67108863,I=Math.imul(g,it),c=Math.imul(g,Je),c=c+Math.imul(re,it)|0,T=Math.imul(re,Je),I=I+Math.imul(ye,Ke)|0,c=c+Math.imul(ye,ze)|0,c=c+Math.imul(pe,Ke)|0,T=T+Math.imul(pe,ze)|0;var Ue=(L+I|0)+((c&8191)<<13)|0;L=(T+(c>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,I=Math.imul(F,it),c=Math.imul(F,Je),c=c+Math.imul(X,it)|0,T=Math.imul(X,Je),I=I+Math.imul(g,Ke)|0,c=c+Math.imul(g,ze)|0,c=c+Math.imul(re,Ke)|0,T=T+Math.imul(re,ze)|0,I=I+Math.imul(ye,ut)|0,c=c+Math.imul(ye,lt)|0,c=c+Math.imul(pe,ut)|0,T=T+Math.imul(pe,lt)|0;var Be=(L+I|0)+((c&8191)<<13)|0;L=(T+(c>>>13)|0)+(Be>>>26)|0,Be&=67108863,I=Math.imul(E,it),c=Math.imul(E,Je),c=c+Math.imul(R,it)|0,T=Math.imul(R,Je),I=I+Math.imul(F,Ke)|0,c=c+Math.imul(F,ze)|0,c=c+Math.imul(X,Ke)|0,T=T+Math.imul(X,ze)|0,I=I+Math.imul(g,ut)|0,c=c+Math.imul(g,lt)|0,c=c+Math.imul(re,ut)|0,T=T+Math.imul(re,lt)|0,I=I+Math.imul(ye,gt)|0,c=c+Math.imul(ye,mt)|0,c=c+Math.imul(pe,gt)|0,T=T+Math.imul(pe,mt)|0;var pt=(L+I|0)+((c&8191)<<13)|0;L=(T+(c>>>13)|0)+(pt>>>26)|0,pt&=67108863,I=Math.imul(B,it),c=Math.imul(B,Je),c=c+Math.imul($,it)|0,T=Math.imul($,Je),I=I+Math.imul(E,Ke)|0,c=c+Math.imul(E,ze)|0,c=c+Math.imul(R,Ke)|0,T=T+Math.imul(R,ze)|0,I=I+Math.imul(F,ut)|0,c=c+Math.imul(F,lt)|0,c=c+Math.imul(X,ut)|0,T=T+Math.imul(X,lt)|0,I=I+Math.imul(g,gt)|0,c=c+Math.imul(g,mt)|0,c=c+Math.imul(re,gt)|0,T=T+Math.imul(re,mt)|0,I=I+Math.imul(ye,kt)|0,c=c+Math.imul(ye,It)|0,c=c+Math.imul(pe,kt)|0,T=T+Math.imul(pe,It)|0;var Ce=(L+I|0)+((c&8191)<<13)|0;L=(T+(c>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,I=Math.imul(U,it),c=Math.imul(U,Je),c=c+Math.imul(q,it)|0,T=Math.imul(q,Je),I=I+Math.imul(B,Ke)|0,c=c+Math.imul(B,ze)|0,c=c+Math.imul($,Ke)|0,T=T+Math.imul($,ze)|0,I=I+Math.imul(E,ut)|0,c=c+Math.imul(E,lt)|0,c=c+Math.imul(R,ut)|0,T=T+Math.imul(R,lt)|0,I=I+Math.imul(F,gt)|0,c=c+Math.imul(F,mt)|0,c=c+Math.imul(X,gt)|0,T=T+Math.imul(X,mt)|0,I=I+Math.imul(g,kt)|0,c=c+Math.imul(g,It)|0,c=c+Math.imul(re,kt)|0,T=T+Math.imul(re,It)|0,I=I+Math.imul(ye,Bt)|0,c=c+Math.imul(ye,Pt)|0,c=c+Math.imul(pe,Bt)|0,T=T+Math.imul(pe,Pt)|0;var Ze=(L+I|0)+((c&8191)<<13)|0;L=(T+(c>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,I=Math.imul(H,it),c=Math.imul(H,Je),c=c+Math.imul(se,it)|0,T=Math.imul(se,Je),I=I+Math.imul(U,Ke)|0,c=c+Math.imul(U,ze)|0,c=c+Math.imul(q,Ke)|0,T=T+Math.imul(q,ze)|0,I=I+Math.imul(B,ut)|0,c=c+Math.imul(B,lt)|0,c=c+Math.imul($,ut)|0,T=T+Math.imul($,lt)|0,I=I+Math.imul(E,gt)|0,c=c+Math.imul(E,mt)|0,c=c+Math.imul(R,gt)|0,T=T+Math.imul(R,mt)|0,I=I+Math.imul(F,kt)|0,c=c+Math.imul(F,It)|0,c=c+Math.imul(X,kt)|0,T=T+Math.imul(X,It)|0,I=I+Math.imul(g,Bt)|0,c=c+Math.imul(g,Pt)|0,c=c+Math.imul(re,Bt)|0,T=T+Math.imul(re,Pt)|0,I=I+Math.imul(ye,$t)|0,c=c+Math.imul(ye,Et)|0,c=c+Math.imul(pe,$t)|0,T=T+Math.imul(pe,Et)|0;var Qe=(L+I|0)+((c&8191)<<13)|0;L=(T+(c>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,I=Math.imul(ge,it),c=Math.imul(ge,Je),c=c+Math.imul(Ve,it)|0,T=Math.imul(Ve,Je),I=I+Math.imul(H,Ke)|0,c=c+Math.imul(H,ze)|0,c=c+Math.imul(se,Ke)|0,T=T+Math.imul(se,ze)|0,I=I+Math.imul(U,ut)|0,c=c+Math.imul(U,lt)|0,c=c+Math.imul(q,ut)|0,T=T+Math.imul(q,lt)|0,I=I+Math.imul(B,gt)|0,c=c+Math.imul(B,mt)|0,c=c+Math.imul($,gt)|0,T=T+Math.imul($,mt)|0,I=I+Math.imul(E,kt)|0,c=c+Math.imul(E,It)|0,c=c+Math.imul(R,kt)|0,T=T+Math.imul(R,It)|0,I=I+Math.imul(F,Bt)|0,c=c+Math.imul(F,Pt)|0,c=c+Math.imul(X,Bt)|0,T=T+Math.imul(X,Pt)|0,I=I+Math.imul(g,$t)|0,c=c+Math.imul(g,Et)|0,c=c+Math.imul(re,$t)|0,T=T+Math.imul(re,Et)|0,I=I+Math.imul(ye,l)|0,c=c+Math.imul(ye,w)|0,c=c+Math.imul(pe,l)|0,T=T+Math.imul(pe,w)|0;var nt=(L+I|0)+((c&8191)<<13)|0;L=(T+(c>>>13)|0)+(nt>>>26)|0,nt&=67108863,I=Math.imul(qe,it),c=Math.imul(qe,Je),c=c+Math.imul(Oe,it)|0,T=Math.imul(Oe,Je),I=I+Math.imul(ge,Ke)|0,c=c+Math.imul(ge,ze)|0,c=c+Math.imul(Ve,Ke)|0,T=T+Math.imul(Ve,ze)|0,I=I+Math.imul(H,ut)|0,c=c+Math.imul(H,lt)|0,c=c+Math.imul(se,ut)|0,T=T+Math.imul(se,lt)|0,I=I+Math.imul(U,gt)|0,c=c+Math.imul(U,mt)|0,c=c+Math.imul(q,gt)|0,T=T+Math.imul(q,mt)|0,I=I+Math.imul(B,kt)|0,c=c+Math.imul(B,It)|0,c=c+Math.imul($,kt)|0,T=T+Math.imul($,It)|0,I=I+Math.imul(E,Bt)|0,c=c+Math.imul(E,Pt)|0,c=c+Math.imul(R,Bt)|0,T=T+Math.imul(R,Pt)|0,I=I+Math.imul(F,$t)|0,c=c+Math.imul(F,Et)|0,c=c+Math.imul(X,$t)|0,T=T+Math.imul(X,Et)|0,I=I+Math.imul(g,l)|0,c=c+Math.imul(g,w)|0,c=c+Math.imul(re,l)|0,T=T+Math.imul(re,w)|0,I=I+Math.imul(ye,a)|0,c=c+Math.imul(ye,M)|0,c=c+Math.imul(pe,a)|0,T=T+Math.imul(pe,M)|0;var dt=(L+I|0)+((c&8191)<<13)|0;L=(T+(c>>>13)|0)+(dt>>>26)|0,dt&=67108863,I=Math.imul(Ge,it),c=Math.imul(Ge,Je),c=c+Math.imul(at,it)|0,T=Math.imul(at,Je),I=I+Math.imul(qe,Ke)|0,c=c+Math.imul(qe,ze)|0,c=c+Math.imul(Oe,Ke)|0,T=T+Math.imul(Oe,ze)|0,I=I+Math.imul(ge,ut)|0,c=c+Math.imul(ge,lt)|0,c=c+Math.imul(Ve,ut)|0,T=T+Math.imul(Ve,lt)|0,I=I+Math.imul(H,gt)|0,c=c+Math.imul(H,mt)|0,c=c+Math.imul(se,gt)|0,T=T+Math.imul(se,mt)|0,I=I+Math.imul(U,kt)|0,c=c+Math.imul(U,It)|0,c=c+Math.imul(q,kt)|0,T=T+Math.imul(q,It)|0,I=I+Math.imul(B,Bt)|0,c=c+Math.imul(B,Pt)|0,c=c+Math.imul($,Bt)|0,T=T+Math.imul($,Pt)|0,I=I+Math.imul(E,$t)|0,c=c+Math.imul(E,Et)|0,c=c+Math.imul(R,$t)|0,T=T+Math.imul(R,Et)|0,I=I+Math.imul(F,l)|0,c=c+Math.imul(F,w)|0,c=c+Math.imul(X,l)|0,T=T+Math.imul(X,w)|0,I=I+Math.imul(g,a)|0,c=c+Math.imul(g,M)|0,c=c+Math.imul(re,a)|0,T=T+Math.imul(re,M)|0,I=I+Math.imul(ye,K)|0,c=c+Math.imul(ye,ue)|0,c=c+Math.imul(pe,K)|0,T=T+Math.imul(pe,ue)|0;var ot=(L+I|0)+((c&8191)<<13)|0;L=(T+(c>>>13)|0)+(ot>>>26)|0,ot&=67108863,I=Math.imul(Ge,Ke),c=Math.imul(Ge,ze),c=c+Math.imul(at,Ke)|0,T=Math.imul(at,ze),I=I+Math.imul(qe,ut)|0,c=c+Math.imul(qe,lt)|0,c=c+Math.imul(Oe,ut)|0,T=T+Math.imul(Oe,lt)|0,I=I+Math.imul(ge,gt)|0,c=c+Math.imul(ge,mt)|0,c=c+Math.imul(Ve,gt)|0,T=T+Math.imul(Ve,mt)|0,I=I+Math.imul(H,kt)|0,c=c+Math.imul(H,It)|0,c=c+Math.imul(se,kt)|0,T=T+Math.imul(se,It)|0,I=I+Math.imul(U,Bt)|0,c=c+Math.imul(U,Pt)|0,c=c+Math.imul(q,Bt)|0,T=T+Math.imul(q,Pt)|0,I=I+Math.imul(B,$t)|0,c=c+Math.imul(B,Et)|0,c=c+Math.imul($,$t)|0,T=T+Math.imul($,Et)|0,I=I+Math.imul(E,l)|0,c=c+Math.imul(E,w)|0,c=c+Math.imul(R,l)|0,T=T+Math.imul(R,w)|0,I=I+Math.imul(F,a)|0,c=c+Math.imul(F,M)|0,c=c+Math.imul(X,a)|0,T=T+Math.imul(X,M)|0,I=I+Math.imul(g,K)|0,c=c+Math.imul(g,ue)|0,c=c+Math.imul(re,K)|0,T=T+Math.imul(re,ue)|0;var ct=(L+I|0)+((c&8191)<<13)|0;L=(T+(c>>>13)|0)+(ct>>>26)|0,ct&=67108863,I=Math.imul(Ge,ut),c=Math.imul(Ge,lt),c=c+Math.imul(at,ut)|0,T=Math.imul(at,lt),I=I+Math.imul(qe,gt)|0,c=c+Math.imul(qe,mt)|0,c=c+Math.imul(Oe,gt)|0,T=T+Math.imul(Oe,mt)|0,I=I+Math.imul(ge,kt)|0,c=c+Math.imul(ge,It)|0,c=c+Math.imul(Ve,kt)|0,T=T+Math.imul(Ve,It)|0,I=I+Math.imul(H,Bt)|0,c=c+Math.imul(H,Pt)|0,c=c+Math.imul(se,Bt)|0,T=T+Math.imul(se,Pt)|0,I=I+Math.imul(U,$t)|0,c=c+Math.imul(U,Et)|0,c=c+Math.imul(q,$t)|0,T=T+Math.imul(q,Et)|0,I=I+Math.imul(B,l)|0,c=c+Math.imul(B,w)|0,c=c+Math.imul($,l)|0,T=T+Math.imul($,w)|0,I=I+Math.imul(E,a)|0,c=c+Math.imul(E,M)|0,c=c+Math.imul(R,a)|0,T=T+Math.imul(R,M)|0,I=I+Math.imul(F,K)|0,c=c+Math.imul(F,ue)|0,c=c+Math.imul(X,K)|0,T=T+Math.imul(X,ue)|0;var st=(L+I|0)+((c&8191)<<13)|0;L=(T+(c>>>13)|0)+(st>>>26)|0,st&=67108863,I=Math.imul(Ge,gt),c=Math.imul(Ge,mt),c=c+Math.imul(at,gt)|0,T=Math.imul(at,mt),I=I+Math.imul(qe,kt)|0,c=c+Math.imul(qe,It)|0,c=c+Math.imul(Oe,kt)|0,T=T+Math.imul(Oe,It)|0,I=I+Math.imul(ge,Bt)|0,c=c+Math.imul(ge,Pt)|0,c=c+Math.imul(Ve,Bt)|0,T=T+Math.imul(Ve,Pt)|0,I=I+Math.imul(H,$t)|0,c=c+Math.imul(H,Et)|0,c=c+Math.imul(se,$t)|0,T=T+Math.imul(se,Et)|0,I=I+Math.imul(U,l)|0,c=c+Math.imul(U,w)|0,c=c+Math.imul(q,l)|0,T=T+Math.imul(q,w)|0,I=I+Math.imul(B,a)|0,c=c+Math.imul(B,M)|0,c=c+Math.imul($,a)|0,T=T+Math.imul($,M)|0,I=I+Math.imul(E,K)|0,c=c+Math.imul(E,ue)|0,c=c+Math.imul(R,K)|0,T=T+Math.imul(R,ue)|0;var $e=(L+I|0)+((c&8191)<<13)|0;L=(T+(c>>>13)|0)+($e>>>26)|0,$e&=67108863,I=Math.imul(Ge,kt),c=Math.imul(Ge,It),c=c+Math.imul(at,kt)|0,T=Math.imul(at,It),I=I+Math.imul(qe,Bt)|0,c=c+Math.imul(qe,Pt)|0,c=c+Math.imul(Oe,Bt)|0,T=T+Math.imul(Oe,Pt)|0,I=I+Math.imul(ge,$t)|0,c=c+Math.imul(ge,Et)|0,c=c+Math.imul(Ve,$t)|0,T=T+Math.imul(Ve,Et)|0,I=I+Math.imul(H,l)|0,c=c+Math.imul(H,w)|0,c=c+Math.imul(se,l)|0,T=T+Math.imul(se,w)|0,I=I+Math.imul(U,a)|0,c=c+Math.imul(U,M)|0,c=c+Math.imul(q,a)|0,T=T+Math.imul(q,M)|0,I=I+Math.imul(B,K)|0,c=c+Math.imul(B,ue)|0,c=c+Math.imul($,K)|0,T=T+Math.imul($,ue)|0;var We=(L+I|0)+((c&8191)<<13)|0;L=(T+(c>>>13)|0)+(We>>>26)|0,We&=67108863,I=Math.imul(Ge,Bt),c=Math.imul(Ge,Pt),c=c+Math.imul(at,Bt)|0,T=Math.imul(at,Pt),I=I+Math.imul(qe,$t)|0,c=c+Math.imul(qe,Et)|0,c=c+Math.imul(Oe,$t)|0,T=T+Math.imul(Oe,Et)|0,I=I+Math.imul(ge,l)|0,c=c+Math.imul(ge,w)|0,c=c+Math.imul(Ve,l)|0,T=T+Math.imul(Ve,w)|0,I=I+Math.imul(H,a)|0,c=c+Math.imul(H,M)|0,c=c+Math.imul(se,a)|0,T=T+Math.imul(se,M)|0,I=I+Math.imul(U,K)|0,c=c+Math.imul(U,ue)|0,c=c+Math.imul(q,K)|0,T=T+Math.imul(q,ue)|0;var Ne=(L+I|0)+((c&8191)<<13)|0;L=(T+(c>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,I=Math.imul(Ge,$t),c=Math.imul(Ge,Et),c=c+Math.imul(at,$t)|0,T=Math.imul(at,Et),I=I+Math.imul(qe,l)|0,c=c+Math.imul(qe,w)|0,c=c+Math.imul(Oe,l)|0,T=T+Math.imul(Oe,w)|0,I=I+Math.imul(ge,a)|0,c=c+Math.imul(ge,M)|0,c=c+Math.imul(Ve,a)|0,T=T+Math.imul(Ve,M)|0,I=I+Math.imul(H,K)|0,c=c+Math.imul(H,ue)|0,c=c+Math.imul(se,K)|0,T=T+Math.imul(se,ue)|0;var Le=(L+I|0)+((c&8191)<<13)|0;L=(T+(c>>>13)|0)+(Le>>>26)|0,Le&=67108863,I=Math.imul(Ge,l),c=Math.imul(Ge,w),c=c+Math.imul(at,l)|0,T=Math.imul(at,w),I=I+Math.imul(qe,a)|0,c=c+Math.imul(qe,M)|0,c=c+Math.imul(Oe,a)|0,T=T+Math.imul(Oe,M)|0,I=I+Math.imul(ge,K)|0,c=c+Math.imul(ge,ue)|0,c=c+Math.imul(Ve,K)|0,T=T+Math.imul(Ve,ue)|0;var Fe=(L+I|0)+((c&8191)<<13)|0;L=(T+(c>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,I=Math.imul(Ge,a),c=Math.imul(Ge,M),c=c+Math.imul(at,a)|0,T=Math.imul(at,M),I=I+Math.imul(qe,K)|0,c=c+Math.imul(qe,ue)|0,c=c+Math.imul(Oe,K)|0,T=T+Math.imul(Oe,ue)|0;var Pe=(L+I|0)+((c&8191)<<13)|0;L=(T+(c>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,I=Math.imul(Ge,K),c=Math.imul(Ge,ue),c=c+Math.imul(at,K)|0,T=Math.imul(at,ue);var ae=(L+I|0)+((c&8191)<<13)|0;return L=(T+(c>>>13)|0)+(ae>>>26)|0,ae&=67108863,_[0]=Te,_[1]=Ue,_[2]=Be,_[3]=pt,_[4]=Ce,_[5]=Ze,_[6]=Qe,_[7]=nt,_[8]=dt,_[9]=ot,_[10]=ct,_[11]=st,_[12]=$e,_[13]=We,_[14]=Ne,_[15]=Le,_[16]=Fe,_[17]=Pe,_[18]=ae,L!==0&&(_[19]=L,d.length++),d};Math.imul||(ne=he);function le(y,s,u){u.negative=s.negative^y.negative,u.length=y.length+s.length;for(var d=0,S=0,A=0;A<u.length-1;A++){var _=S;S=0;for(var L=d&67108863,I=Math.min(A,s.length-1),c=Math.max(0,A-y.length+1);c<=I;c++){var T=A-c,Ie=y.words[T]|0,ye=s.words[c]|0,pe=Ie*ye,ee=pe&67108863;_=_+(pe/67108864|0)|0,ee=ee+L|0,L=ee&67108863,_=_+(ee>>>26)|0,S+=_>>>26,_&=67108863}u.words[A]=L,d=_,_=S}return d!==0?u.words[A]=d:u.length--,u.strip()}function k(y,s,u){var d=new P;return d.mulp(y,s,u)}o.prototype.mulTo=function(s,u){var d,S=this.length+s.length;return this.length===10&&s.length===10?d=ne(this,s,u):S<63?d=he(this,s,u):S<1024?d=le(this,s,u):d=k(this,s,u),d};function P(y,s){this.x=y,this.y=s}P.prototype.makeRBT=function(s){for(var u=new Array(s),d=o.prototype._countBits(s)-1,S=0;S<s;S++)u[S]=this.revBin(S,d,s);return u},P.prototype.revBin=function(s,u,d){if(s===0||s===d-1)return s;for(var S=0,A=0;A<u;A++)S|=(s&1)<<u-A-1,s>>=1;return S},P.prototype.permute=function(s,u,d,S,A,_){for(var L=0;L<_;L++)S[L]=u[s[L]],A[L]=d[s[L]]},P.prototype.transform=function(s,u,d,S,A,_){this.permute(_,s,u,d,S,A);for(var L=1;L<A;L<<=1)for(var I=L<<1,c=Math.cos(2*Math.PI/I),T=Math.sin(2*Math.PI/I),Ie=0;Ie<A;Ie+=I)for(var ye=c,pe=T,ee=0;ee<L;ee++){var g=d[Ie+ee],re=S[Ie+ee],we=d[Ie+ee+L],F=S[Ie+ee+L],X=ye*we-pe*F;F=ye*F+pe*we,we=X,d[Ie+ee]=g+we,S[Ie+ee]=re+F,d[Ie+ee+L]=g-we,S[Ie+ee+L]=re-F,ee!==I&&(X=c*ye-T*pe,pe=c*pe+T*ye,ye=X)}},P.prototype.guessLen13b=function(s,u){var d=Math.max(u,s)|1,S=d&1,A=0;for(d=d/2|0;d;d=d>>>1)A++;return 1<<A+1+S},P.prototype.conjugate=function(s,u,d){if(!(d<=1))for(var S=0;S<d/2;S++){var A=s[S];s[S]=s[d-S-1],s[d-S-1]=A,A=u[S],u[S]=-u[d-S-1],u[d-S-1]=-A}},P.prototype.normalize13b=function(s,u){for(var d=0,S=0;S<u/2;S++){var A=Math.round(s[2*S+1]/u)*8192+Math.round(s[2*S]/u)+d;s[S]=A&67108863,A<67108864?d=0:d=A/67108864|0}return s},P.prototype.convert13b=function(s,u,d,S){for(var A=0,_=0;_<u;_++)A=A+(s[_]|0),d[2*_]=A&8191,A=A>>>13,d[2*_+1]=A&8191,A=A>>>13;for(_=2*u;_<S;++_)d[_]=0;r(A===0),r((A&-8192)===0)},P.prototype.stub=function(s){for(var u=new Array(s),d=0;d<s;d++)u[d]=0;return u},P.prototype.mulp=function(s,u,d){var S=2*this.guessLen13b(s.length,u.length),A=this.makeRBT(S),_=this.stub(S),L=new Array(S),I=new Array(S),c=new Array(S),T=new Array(S),Ie=new Array(S),ye=new Array(S),pe=d.words;pe.length=S,this.convert13b(s.words,s.length,L,S),this.convert13b(u.words,u.length,T,S),this.transform(L,_,I,c,S,A),this.transform(T,_,Ie,ye,S,A);for(var ee=0;ee<S;ee++){var g=I[ee]*Ie[ee]-c[ee]*ye[ee];c[ee]=I[ee]*ye[ee]+c[ee]*Ie[ee],I[ee]=g}return this.conjugate(I,c,S),this.transform(I,c,pe,_,S,A),this.conjugate(pe,_,S),this.normalize13b(pe,S),d.negative=s.negative^u.negative,d.length=s.length+u.length,d.strip()},o.prototype.mul=function(s){var u=new o(null);return u.words=new Array(this.length+s.length),this.mulTo(s,u)},o.prototype.mulf=function(s){var u=new o(null);return u.words=new Array(this.length+s.length),k(this,s,u)},o.prototype.imul=function(s){return this.clone().mulTo(s,this)},o.prototype.imuln=function(s){r(typeof s=="number"),r(s<67108864);for(var u=0,d=0;d<this.length;d++){var S=(this.words[d]|0)*s,A=(S&67108863)+(u&67108863);u>>=26,u+=S/67108864|0,u+=A>>>26,this.words[d]=A&67108863}return u!==0&&(this.words[d]=u,this.length++),this},o.prototype.muln=function(s){return this.clone().imuln(s)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(s){var u=Z(s);if(u.length===0)return new o(1);for(var d=this,S=0;S<u.length&&u[S]===0;S++,d=d.sqr());if(++S<u.length)for(var A=d.sqr();S<u.length;S++,A=A.sqr())u[S]!==0&&(d=d.mul(A));return d},o.prototype.iushln=function(s){r(typeof s=="number"&&s>=0);var u=s%26,d=(s-u)/26,S=67108863>>>26-u<<26-u,A;if(u!==0){var _=0;for(A=0;A<this.length;A++){var L=this.words[A]&S,I=(this.words[A]|0)-L<<u;this.words[A]=I|_,_=L>>>26-u}_&&(this.words[A]=_,this.length++)}if(d!==0){for(A=this.length-1;A>=0;A--)this.words[A+d]=this.words[A];for(A=0;A<d;A++)this.words[A]=0;this.length+=d}return this.strip()},o.prototype.ishln=function(s){return r(this.negative===0),this.iushln(s)},o.prototype.iushrn=function(s,u,d){r(typeof s=="number"&&s>=0);var S;u?S=(u-u%26)/26:S=0;var A=s%26,_=Math.min((s-A)/26,this.length),L=67108863^67108863>>>A<<A,I=d;if(S-=_,S=Math.max(0,S),I){for(var c=0;c<_;c++)I.words[c]=this.words[c];I.length=_}if(_!==0)if(this.length>_)for(this.length-=_,c=0;c<this.length;c++)this.words[c]=this.words[c+_];else this.words[0]=0,this.length=1;var T=0;for(c=this.length-1;c>=0&&(T!==0||c>=S);c--){var Ie=this.words[c]|0;this.words[c]=T<<26-A|Ie>>>A,T=Ie&L}return I&&T!==0&&(I.words[I.length++]=T),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(s,u,d){return r(this.negative===0),this.iushrn(s,u,d)},o.prototype.shln=function(s){return this.clone().ishln(s)},o.prototype.ushln=function(s){return this.clone().iushln(s)},o.prototype.shrn=function(s){return this.clone().ishrn(s)},o.prototype.ushrn=function(s){return this.clone().iushrn(s)},o.prototype.testn=function(s){r(typeof s=="number"&&s>=0);var u=s%26,d=(s-u)/26,S=1<<u;if(this.length<=d)return!1;var A=this.words[d];return!!(A&S)},o.prototype.imaskn=function(s){r(typeof s=="number"&&s>=0);var u=s%26,d=(s-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(u!==0&&d++,this.length=Math.min(d,this.length),u!==0){var S=67108863^67108863>>>u<<u;this.words[this.length-1]&=S}return this.strip()},o.prototype.maskn=function(s){return this.clone().imaskn(s)},o.prototype.iaddn=function(s){return r(typeof s=="number"),r(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},o.prototype._iaddn=function(s){this.words[0]+=s;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},o.prototype.isubn=function(s){if(r(typeof s=="number"),r(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},o.prototype.addn=function(s){return this.clone().iaddn(s)},o.prototype.subn=function(s){return this.clone().isubn(s)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(s,u,d){var S=s.length+d,A;this._expand(S);var _,L=0;for(A=0;A<s.length;A++){_=(this.words[A+d]|0)+L;var I=(s.words[A]|0)*u;_-=I&67108863,L=(_>>26)-(I/67108864|0),this.words[A+d]=_&67108863}for(;A<this.length-d;A++)_=(this.words[A+d]|0)+L,L=_>>26,this.words[A+d]=_&67108863;if(L===0)return this.strip();for(r(L===-1),L=0,A=0;A<this.length;A++)_=-(this.words[A]|0)+L,L=_>>26,this.words[A]=_&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(s,u){var d=this.length-s.length,S=this.clone(),A=s,_=A.words[A.length-1]|0,L=this._countBits(_);d=26-L,d!==0&&(A=A.ushln(d),S.iushln(d),_=A.words[A.length-1]|0);var I=S.length-A.length,c;if(u!=="mod"){c=new o(null),c.length=I+1,c.words=new Array(c.length);for(var T=0;T<c.length;T++)c.words[T]=0}var Ie=S.clone()._ishlnsubmul(A,1,I);Ie.negative===0&&(S=Ie,c&&(c.words[I]=1));for(var ye=I-1;ye>=0;ye--){var pe=(S.words[A.length+ye]|0)*67108864+(S.words[A.length+ye-1]|0);for(pe=Math.min(pe/_|0,67108863),S._ishlnsubmul(A,pe,ye);S.negative!==0;)pe--,S.negative=0,S._ishlnsubmul(A,1,ye),S.isZero()||(S.negative^=1);c&&(c.words[ye]=pe)}return c&&c.strip(),S.strip(),u!=="div"&&d!==0&&S.iushrn(d),{div:c||null,mod:S}},o.prototype.divmod=function(s,u,d){if(r(!s.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var S,A,_;return this.negative!==0&&s.negative===0?(_=this.neg().divmod(s,u),u!=="mod"&&(S=_.div.neg()),u!=="div"&&(A=_.mod.neg(),d&&A.negative!==0&&A.iadd(s)),{div:S,mod:A}):this.negative===0&&s.negative!==0?(_=this.divmod(s.neg(),u),u!=="mod"&&(S=_.div.neg()),{div:S,mod:_.mod}):this.negative&s.negative?(_=this.neg().divmod(s.neg(),u),u!=="div"&&(A=_.mod.neg(),d&&A.negative!==0&&A.isub(s)),{div:_.div,mod:A}):s.length>this.length||this.cmp(s)<0?{div:new o(0),mod:this}:s.length===1?u==="div"?{div:this.divn(s.words[0]),mod:null}:u==="mod"?{div:null,mod:new o(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new o(this.modn(s.words[0]))}:this._wordDiv(s,u)},o.prototype.div=function(s){return this.divmod(s,"div",!1).div},o.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},o.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},o.prototype.divRound=function(s){var u=this.divmod(s);if(u.mod.isZero())return u.div;var d=u.div.negative!==0?u.mod.isub(s):u.mod,S=s.ushrn(1),A=s.andln(1),_=d.cmp(S);return _<0||A===1&&_===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},o.prototype.modn=function(s){r(s<=67108863);for(var u=(1<<26)%s,d=0,S=this.length-1;S>=0;S--)d=(u*d+(this.words[S]|0))%s;return d},o.prototype.idivn=function(s){r(s<=67108863);for(var u=0,d=this.length-1;d>=0;d--){var S=(this.words[d]|0)+u*67108864;this.words[d]=S/s|0,u=S%s}return this.strip()},o.prototype.divn=function(s){return this.clone().idivn(s)},o.prototype.egcd=function(s){r(s.negative===0),r(!s.isZero());var u=this,d=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var S=new o(1),A=new o(0),_=new o(0),L=new o(1),I=0;u.isEven()&&d.isEven();)u.iushrn(1),d.iushrn(1),++I;for(var c=d.clone(),T=u.clone();!u.isZero();){for(var Ie=0,ye=1;!(u.words[0]&ye)&&Ie<26;++Ie,ye<<=1);if(Ie>0)for(u.iushrn(Ie);Ie-- >0;)(S.isOdd()||A.isOdd())&&(S.iadd(c),A.isub(T)),S.iushrn(1),A.iushrn(1);for(var pe=0,ee=1;!(d.words[0]&ee)&&pe<26;++pe,ee<<=1);if(pe>0)for(d.iushrn(pe);pe-- >0;)(_.isOdd()||L.isOdd())&&(_.iadd(c),L.isub(T)),_.iushrn(1),L.iushrn(1);u.cmp(d)>=0?(u.isub(d),S.isub(_),A.isub(L)):(d.isub(u),_.isub(S),L.isub(A))}return{a:_,b:L,gcd:d.iushln(I)}},o.prototype._invmp=function(s){r(s.negative===0),r(!s.isZero());var u=this,d=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var S=new o(1),A=new o(0),_=d.clone();u.cmpn(1)>0&&d.cmpn(1)>0;){for(var L=0,I=1;!(u.words[0]&I)&&L<26;++L,I<<=1);if(L>0)for(u.iushrn(L);L-- >0;)S.isOdd()&&S.iadd(_),S.iushrn(1);for(var c=0,T=1;!(d.words[0]&T)&&c<26;++c,T<<=1);if(c>0)for(d.iushrn(c);c-- >0;)A.isOdd()&&A.iadd(_),A.iushrn(1);u.cmp(d)>=0?(u.isub(d),S.isub(A)):(d.isub(u),A.isub(S))}var Ie;return u.cmpn(1)===0?Ie=S:Ie=A,Ie.cmpn(0)<0&&Ie.iadd(s),Ie},o.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var u=this.clone(),d=s.clone();u.negative=0,d.negative=0;for(var S=0;u.isEven()&&d.isEven();S++)u.iushrn(1),d.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;d.isEven();)d.iushrn(1);var A=u.cmp(d);if(A<0){var _=u;u=d,d=_}else if(A===0||d.cmpn(1)===0)break;u.isub(d)}while(!0);return d.iushln(S)},o.prototype.invm=function(s){return this.egcd(s).a.umod(s)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(s){return this.words[0]&s},o.prototype.bincn=function(s){r(typeof s=="number");var u=s%26,d=(s-u)/26,S=1<<u;if(this.length<=d)return this._expand(d+1),this.words[d]|=S,this;for(var A=S,_=d;A!==0&&_<this.length;_++){var L=this.words[_]|0;L+=A,A=L>>>26,L&=67108863,this.words[_]=L}return A!==0&&(this.words[_]=A,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(s){var u=s<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var d;if(this.length>1)d=1;else{u&&(s=-s),r(s<=67108863,"Number is too big");var S=this.words[0]|0;d=S===s?0:S<s?-1:1}return this.negative!==0?-d|0:d},o.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var u=this.ucmp(s);return this.negative!==0?-u|0:u},o.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var u=0,d=this.length-1;d>=0;d--){var S=this.words[d]|0,A=s.words[d]|0;if(S!==A){S<A?u=-1:S>A&&(u=1);break}}return u},o.prototype.gtn=function(s){return this.cmpn(s)===1},o.prototype.gt=function(s){return this.cmp(s)===1},o.prototype.gten=function(s){return this.cmpn(s)>=0},o.prototype.gte=function(s){return this.cmp(s)>=0},o.prototype.ltn=function(s){return this.cmpn(s)===-1},o.prototype.lt=function(s){return this.cmp(s)===-1},o.prototype.lten=function(s){return this.cmpn(s)<=0},o.prototype.lte=function(s){return this.cmp(s)<=0},o.prototype.eqn=function(s){return this.cmpn(s)===0},o.prototype.eq=function(s){return this.cmp(s)===0},o.red=function(s){return new Y(s)},o.prototype.toRed=function(s){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(s){return this.red=s,this},o.prototype.forceRed=function(s){return r(!this.red,"Already a number in reduction context"),this._forceRed(s)},o.prototype.redAdd=function(s){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},o.prototype.redIAdd=function(s){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},o.prototype.redSub=function(s){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},o.prototype.redISub=function(s){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},o.prototype.redShl=function(s){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},o.prototype.redMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},o.prototype.redIMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(s){return r(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var N={k256:null,p224:null,p192:null,p25519:null};function G(y,s){this.name=y,this.p=new o(s,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}G.prototype._tmp=function(){var s=new o(null);return s.words=new Array(Math.ceil(this.n/13)),s},G.prototype.ireduce=function(s){var u=s,d;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),d=u.bitLength();while(d>this.n);var S=d<this.n?-1:u.ucmp(this.p);return S===0?(u.words[0]=0,u.length=1):S>0?u.isub(this.p):u.strip(),u},G.prototype.split=function(s,u){s.iushrn(this.n,0,u)},G.prototype.imulK=function(s){return s.imul(this.k)};function fe(){G.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(fe,G),fe.prototype.split=function(s,u){for(var d=4194303,S=Math.min(s.length,9),A=0;A<S;A++)u.words[A]=s.words[A];if(u.length=S,s.length<=9){s.words[0]=0,s.length=1;return}var _=s.words[9];for(u.words[u.length++]=_&d,A=10;A<s.length;A++){var L=s.words[A]|0;s.words[A-10]=(L&d)<<4|_>>>22,_=L}_>>>=22,s.words[A-10]=_,_===0&&s.length>10?s.length-=10:s.length-=9},fe.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var u=0,d=0;d<s.length;d++){var S=s.words[d]|0;u+=S*977,s.words[d]=u&67108863,u=S*64+(u/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function ve(){G.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(ve,G);function D(){G.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(D,G);function Q(){G.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Q,G),Q.prototype.imulK=function(s){for(var u=0,d=0;d<s.length;d++){var S=(s.words[d]|0)*19+u,A=S&67108863;S>>>=26,s.words[d]=A,u=S}return u!==0&&(s.words[s.length++]=u),s},o._prime=function(s){if(N[s])return N[s];var u;if(s==="k256")u=new fe;else if(s==="p224")u=new ve;else if(s==="p192")u=new D;else if(s==="p25519")u=new Q;else throw new Error("Unknown prime "+s);return N[s]=u,u};function Y(y){if(typeof y=="string"){var s=o._prime(y);this.m=s.p,this.prime=s}else r(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}Y.prototype._verify1=function(s){r(s.negative===0,"red works only with positives"),r(s.red,"red works only with red numbers")},Y.prototype._verify2=function(s,u){r((s.negative|u.negative)===0,"red works only with positives"),r(s.red&&s.red===u.red,"red works only with red numbers")},Y.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},Y.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},Y.prototype.add=function(s,u){this._verify2(s,u);var d=s.add(u);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},Y.prototype.iadd=function(s,u){this._verify2(s,u);var d=s.iadd(u);return d.cmp(this.m)>=0&&d.isub(this.m),d},Y.prototype.sub=function(s,u){this._verify2(s,u);var d=s.sub(u);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},Y.prototype.isub=function(s,u){this._verify2(s,u);var d=s.isub(u);return d.cmpn(0)<0&&d.iadd(this.m),d},Y.prototype.shl=function(s,u){return this._verify1(s),this.imod(s.ushln(u))},Y.prototype.imul=function(s,u){return this._verify2(s,u),this.imod(s.imul(u))},Y.prototype.mul=function(s,u){return this._verify2(s,u),this.imod(s.mul(u))},Y.prototype.isqr=function(s){return this.imul(s,s.clone())},Y.prototype.sqr=function(s){return this.mul(s,s)},Y.prototype.sqrt=function(s){if(s.isZero())return s.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var d=this.m.add(new o(1)).iushrn(2);return this.pow(s,d)}for(var S=this.m.subn(1),A=0;!S.isZero()&&S.andln(1)===0;)A++,S.iushrn(1);r(!S.isZero());var _=new o(1).toRed(this),L=_.redNeg(),I=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);this.pow(c,I).cmp(L)!==0;)c.redIAdd(L);for(var T=this.pow(c,S),Ie=this.pow(s,S.addn(1).iushrn(1)),ye=this.pow(s,S),pe=A;ye.cmp(_)!==0;){for(var ee=ye,g=0;ee.cmp(_)!==0;g++)ee=ee.redSqr();r(g<pe);var re=this.pow(T,new o(1).iushln(pe-g-1));Ie=Ie.redMul(re),T=re.redSqr(),ye=ye.redMul(T),pe=g}return Ie},Y.prototype.invm=function(s){var u=s._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},Y.prototype.pow=function(s,u){if(u.isZero())return new o(1).toRed(this);if(u.cmpn(1)===0)return s.clone();var d=4,S=new Array(1<<d);S[0]=new o(1).toRed(this),S[1]=s;for(var A=2;A<S.length;A++)S[A]=this.mul(S[A-1],s);var _=S[0],L=0,I=0,c=u.bitLength()%26;for(c===0&&(c=26),A=u.length-1;A>=0;A--){for(var T=u.words[A],Ie=c-1;Ie>=0;Ie--){var ye=T>>Ie&1;if(_!==S[0]&&(_=this.sqr(_)),ye===0&&L===0){I=0;continue}L<<=1,L|=ye,I++,!(I!==d&&(A!==0||Ie!==0))&&(_=this.mul(_,S[L]),I=0,L=0)}c=26}return _},Y.prototype.convertTo=function(s){var u=s.umod(this.m);return u===s?u.clone():u},Y.prototype.convertFrom=function(s){var u=s.clone();return u.red=null,u},o.mont=function(s){return new me(s)};function me(y){Y.call(this,y),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(me,Y),me.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},me.prototype.convertFrom=function(s){var u=this.imod(s.mul(this.rinv));return u.red=null,u},me.prototype.imul=function(s,u){if(s.isZero()||u.isZero())return s.words[0]=0,s.length=1,s;var d=s.imul(u),S=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=d.isub(S).iushrn(this.shift),_=A;return A.cmp(this.m)>=0?_=A.isub(this.m):A.cmpn(0)<0&&(_=A.iadd(this.m)),_._forceRed(this)},me.prototype.mul=function(s,u){if(s.isZero()||u.isZero())return new o(0)._forceRed(this);var d=s.mul(u),S=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=d.isub(S).iushrn(this.shift),_=A;return A.cmp(this.m)>=0?_=A.isub(this.m):A.cmpn(0)<0&&(_=A.iadd(this.m)),_._forceRed(this)},me.prototype.invm=function(s){var u=this.imod(s._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(n,mh)})(bc);var Ol=bc.exports;const Cl=xo(Ol);var Nl=kc;kc.strict=bh;kc.loose=kh;var Ul=Object.prototype.toString,$l={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function kc(n){return bh(n)||kh(n)}function bh(n){return n instanceof Int8Array||n instanceof Int16Array||n instanceof Int32Array||n instanceof Uint8Array||n instanceof Uint8ClampedArray||n instanceof Uint16Array||n instanceof Uint32Array||n instanceof Float32Array||n instanceof Float64Array}function kh(n){return $l[Ul.call(n)]}var Ll=Nl.strict,Fl=function(e){if(Ll(e)){var t=Buffer.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(t=t.slice(e.byteOffset,e.byteOffset+e.byteLength)),t}else return Buffer.from(e)};const ql=xo(Fl),Mh="hex",Ah="utf8",qs="0";function gi(n){return new Uint8Array(n)}function Dh(n,e=!1){const t=n.toString(Mh);return e?ko(t):t}function zl(n){return n.toString(Ah)}function zs(n){return ql(n)}function ui(n,e=!1){return Dh(zs(n),e)}function Hl(n){return zl(zs(n))}function Gl(n){return Buffer.from(nr(n),Mh)}function li(n){return gi(Gl(n))}function Mc(n){return Buffer.from(n,Ah)}function Kl(n){return gi(Mc(n))}function Wl(n,e=!1){return Dh(Mc(n),e)}function jl(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/))}function Ih(...n){let e=[];return n.forEach(t=>e=e.concat(Array.from(t))),new Uint8Array([...e])}function Jl(n,e=8){const t=n%e;return t?(n-t)/e*e+e:n}function Yl(n,e=8,t=qs){return Xl(n,Jl(n.length,e),t)}function Xl(n,e,t=qs){return Ql(n,e,!0,t)}function nr(n){return n.replace(/^0x/,"")}function ko(n){return n.startsWith("0x")?n:`0x${n}`}function Th(n){return n=nr(n),n=Yl(n,2),n&&(n=ko(n)),n}function Zl(n){const e=n.startsWith("0x");return n=nr(n),n=n.startsWith(qs)?n.substring(1):n,e?ko(n):n}function Ql(n,e,t,r=qs){const i=e-n.length;let o=n;return i>0&&(o=r.repeat(i)+n),o}function ba(n){return zs(new Uint8Array(n))}function ed(n,e){return ui(new Uint8Array(n),!e)}function td(n){return gi(n).buffer}function nd(n){return Mc(n)}function rd(n,e){return Wl(n,!e)}function id(n){return li(n).buffer}function Rh(n,e){const t=nr(Th(new Cl(n).toString(16)));return e?t:ko(t)}var Vh={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(n){(function(){var e="input is invalid type",t="finalize already called",r=typeof window=="object",i=r?window:{};i.JS_SHA3_NO_WINDOW&&(r=!1);var o=!r&&typeof self=="object",h=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;h?i=globalThis:o&&(i=self);var v=!i.JS_SHA3_NO_COMMON_JS&&!0&&n.exports,V=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",p="0123456789abcdef".split(""),C=[31,7936,2031616,520093696],J=[4,1024,262144,67108864],Z=[1,256,65536,16777216],he=[6,1536,393216,100663296],ne=[0,8,16,24],le=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],k=[224,256,384,512],P=[128,256],N=["hex","buffer","arrayBuffer","array","digest"],G={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(g){return Object.prototype.toString.call(g)==="[object Array]"}),V&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(g){return typeof g=="object"&&g.buffer&&g.buffer.constructor===ArrayBuffer});for(var fe=function(g,re,we){return function(F){return new ye(g,re,g).update(F)[we]()}},ve=function(g,re,we){return function(F,X){return new ye(g,re,X).update(F)[we]()}},D=function(g,re,we){return function(F,X,m,E){return S["cshake"+g].update(F,X,m,E)[we]()}},Q=function(g,re,we){return function(F,X,m,E){return S["kmac"+g].update(F,X,m,E)[we]()}},Y=function(g,re,we,F){for(var X=0;X<N.length;++X){var m=N[X];g[m]=re(we,F,m)}return g},me=function(g,re){var we=fe(g,re,"hex");return we.create=function(){return new ye(g,re,g)},we.update=function(F){return we.create().update(F)},Y(we,fe,g,re)},y=function(g,re){var we=ve(g,re,"hex");return we.create=function(F){return new ye(g,re,F)},we.update=function(F,X){return we.create(X).update(F)},Y(we,ve,g,re)},s=function(g,re){var we=G[g],F=D(g,re,"hex");return F.create=function(X,m,E){return!m&&!E?S["shake"+g].create(X):new ye(g,re,X).bytepad([m,E],we)},F.update=function(X,m,E,R){return F.create(m,E,R).update(X)},Y(F,D,g,re)},u=function(g,re){var we=G[g],F=Q(g,re,"hex");return F.create=function(X,m,E){return new pe(g,re,m).bytepad(["KMAC",E],we).bytepad([X],we)},F.update=function(X,m,E,R){return F.create(X,E,R).update(m)},Y(F,Q,g,re)},d=[{name:"keccak",padding:Z,bits:k,createMethod:me},{name:"sha3",padding:he,bits:k,createMethod:me},{name:"shake",padding:C,bits:P,createMethod:y},{name:"cshake",padding:J,bits:P,createMethod:s},{name:"kmac",padding:J,bits:P,createMethod:u}],S={},A=[],_=0;_<d.length;++_)for(var L=d[_],I=L.bits,c=0;c<I.length;++c){var T=L.name+"_"+I[c];if(A.push(T),S[T]=L.createMethod(I[c],L.padding),L.name!=="sha3"){var Ie=L.name+I[c];A.push(Ie),S[Ie]=S[T]}}function ye(g,re,we){this.blocks=[],this.s=[],this.padding=re,this.outputBits=we,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(g<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=we>>5,this.extraBytes=(we&31)>>3;for(var F=0;F<50;++F)this.s[F]=0}ye.prototype.update=function(g){if(this.finalized)throw new Error(t);var re,we=typeof g;if(we!=="string"){if(we==="object"){if(g===null)throw new Error(e);if(V&&g.constructor===ArrayBuffer)g=new Uint8Array(g);else if(!Array.isArray(g)&&(!V||!ArrayBuffer.isView(g)))throw new Error(e)}else throw new Error(e);re=!0}for(var F=this.blocks,X=this.byteCount,m=g.length,E=this.blockCount,R=0,W=this.s,B,$;R<m;){if(this.reset)for(this.reset=!1,F[0]=this.block,B=1;B<E+1;++B)F[B]=0;if(re)for(B=this.start;R<m&&B<X;++R)F[B>>2]|=g[R]<<ne[B++&3];else for(B=this.start;R<m&&B<X;++R)$=g.charCodeAt(R),$<128?F[B>>2]|=$<<ne[B++&3]:$<2048?(F[B>>2]|=(192|$>>6)<<ne[B++&3],F[B>>2]|=(128|$&63)<<ne[B++&3]):$<55296||$>=57344?(F[B>>2]|=(224|$>>12)<<ne[B++&3],F[B>>2]|=(128|$>>6&63)<<ne[B++&3],F[B>>2]|=(128|$&63)<<ne[B++&3]):($=65536+(($&1023)<<10|g.charCodeAt(++R)&1023),F[B>>2]|=(240|$>>18)<<ne[B++&3],F[B>>2]|=(128|$>>12&63)<<ne[B++&3],F[B>>2]|=(128|$>>6&63)<<ne[B++&3],F[B>>2]|=(128|$&63)<<ne[B++&3]);if(this.lastByteIndex=B,B>=X){for(this.start=B-X,this.block=F[E],B=0;B<E;++B)W[B]^=F[B];ee(W),this.reset=!0}else this.start=B}return this},ye.prototype.encode=function(g,re){var we=g&255,F=1,X=[we];for(g=g>>8,we=g&255;we>0;)X.unshift(we),g=g>>8,we=g&255,++F;return re?X.push(F):X.unshift(F),this.update(X),X.length},ye.prototype.encodeString=function(g){var re,we=typeof g;if(we!=="string"){if(we==="object"){if(g===null)throw new Error(e);if(V&&g.constructor===ArrayBuffer)g=new Uint8Array(g);else if(!Array.isArray(g)&&(!V||!ArrayBuffer.isView(g)))throw new Error(e)}else throw new Error(e);re=!0}var F=0,X=g.length;if(re)F=X;else for(var m=0;m<g.length;++m){var E=g.charCodeAt(m);E<128?F+=1:E<2048?F+=2:E<55296||E>=57344?F+=3:(E=65536+((E&1023)<<10|g.charCodeAt(++m)&1023),F+=4)}return F+=this.encode(F*8),this.update(g),F},ye.prototype.bytepad=function(g,re){for(var we=this.encode(re),F=0;F<g.length;++F)we+=this.encodeString(g[F]);var X=re-we%re,m=[];return m.length=X,this.update(m),this},ye.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var g=this.blocks,re=this.lastByteIndex,we=this.blockCount,F=this.s;if(g[re>>2]|=this.padding[re&3],this.lastByteIndex===this.byteCount)for(g[0]=g[we],re=1;re<we+1;++re)g[re]=0;for(g[we-1]|=2147483648,re=0;re<we;++re)F[re]^=g[re];ee(F)}},ye.prototype.toString=ye.prototype.hex=function(){this.finalize();for(var g=this.blockCount,re=this.s,we=this.outputBlocks,F=this.extraBytes,X=0,m=0,E="",R;m<we;){for(X=0;X<g&&m<we;++X,++m)R=re[X],E+=p[R>>4&15]+p[R&15]+p[R>>12&15]+p[R>>8&15]+p[R>>20&15]+p[R>>16&15]+p[R>>28&15]+p[R>>24&15];m%g===0&&(ee(re),X=0)}return F&&(R=re[X],E+=p[R>>4&15]+p[R&15],F>1&&(E+=p[R>>12&15]+p[R>>8&15]),F>2&&(E+=p[R>>20&15]+p[R>>16&15])),E},ye.prototype.arrayBuffer=function(){this.finalize();var g=this.blockCount,re=this.s,we=this.outputBlocks,F=this.extraBytes,X=0,m=0,E=this.outputBits>>3,R;F?R=new ArrayBuffer(we+1<<2):R=new ArrayBuffer(E);for(var W=new Uint32Array(R);m<we;){for(X=0;X<g&&m<we;++X,++m)W[m]=re[X];m%g===0&&ee(re)}return F&&(W[X]=re[X],R=R.slice(0,E)),R},ye.prototype.buffer=ye.prototype.arrayBuffer,ye.prototype.digest=ye.prototype.array=function(){this.finalize();for(var g=this.blockCount,re=this.s,we=this.outputBlocks,F=this.extraBytes,X=0,m=0,E=[],R,W;m<we;){for(X=0;X<g&&m<we;++X,++m)R=m<<2,W=re[X],E[R]=W&255,E[R+1]=W>>8&255,E[R+2]=W>>16&255,E[R+3]=W>>24&255;m%g===0&&ee(re)}return F&&(R=m<<2,W=re[X],E[R]=W&255,F>1&&(E[R+1]=W>>8&255),F>2&&(E[R+2]=W>>16&255)),E};function pe(g,re,we){ye.call(this,g,re,we)}pe.prototype=new ye,pe.prototype.finalize=function(){return this.encode(this.outputBits,!0),ye.prototype.finalize.call(this)};var ee=function(g){var re,we,F,X,m,E,R,W,B,$,ie,U,q,te,H,se,Se,ge,Ve,He,qe,Oe,Xe,Ge,at,Vt,it,Je,bt,Ke,ze,tt,ut,lt,Ut,gt,mt,qt,kt,It,fn,Bt,Pt,An,$t,Et,Dn,l,w,x,a,M,j,K,ue,Te,Ue,Be,pt,Ce,Ze,Qe,nt;for(F=0;F<48;F+=2)X=g[0]^g[10]^g[20]^g[30]^g[40],m=g[1]^g[11]^g[21]^g[31]^g[41],E=g[2]^g[12]^g[22]^g[32]^g[42],R=g[3]^g[13]^g[23]^g[33]^g[43],W=g[4]^g[14]^g[24]^g[34]^g[44],B=g[5]^g[15]^g[25]^g[35]^g[45],$=g[6]^g[16]^g[26]^g[36]^g[46],ie=g[7]^g[17]^g[27]^g[37]^g[47],U=g[8]^g[18]^g[28]^g[38]^g[48],q=g[9]^g[19]^g[29]^g[39]^g[49],re=U^(E<<1|R>>>31),we=q^(R<<1|E>>>31),g[0]^=re,g[1]^=we,g[10]^=re,g[11]^=we,g[20]^=re,g[21]^=we,g[30]^=re,g[31]^=we,g[40]^=re,g[41]^=we,re=X^(W<<1|B>>>31),we=m^(B<<1|W>>>31),g[2]^=re,g[3]^=we,g[12]^=re,g[13]^=we,g[22]^=re,g[23]^=we,g[32]^=re,g[33]^=we,g[42]^=re,g[43]^=we,re=E^($<<1|ie>>>31),we=R^(ie<<1|$>>>31),g[4]^=re,g[5]^=we,g[14]^=re,g[15]^=we,g[24]^=re,g[25]^=we,g[34]^=re,g[35]^=we,g[44]^=re,g[45]^=we,re=W^(U<<1|q>>>31),we=B^(q<<1|U>>>31),g[6]^=re,g[7]^=we,g[16]^=re,g[17]^=we,g[26]^=re,g[27]^=we,g[36]^=re,g[37]^=we,g[46]^=re,g[47]^=we,re=$^(X<<1|m>>>31),we=ie^(m<<1|X>>>31),g[8]^=re,g[9]^=we,g[18]^=re,g[19]^=we,g[28]^=re,g[29]^=we,g[38]^=re,g[39]^=we,g[48]^=re,g[49]^=we,te=g[0],H=g[1],Et=g[11]<<4|g[10]>>>28,Dn=g[10]<<4|g[11]>>>28,Je=g[20]<<3|g[21]>>>29,bt=g[21]<<3|g[20]>>>29,Ce=g[31]<<9|g[30]>>>23,Ze=g[30]<<9|g[31]>>>23,Bt=g[40]<<18|g[41]>>>14,Pt=g[41]<<18|g[40]>>>14,lt=g[2]<<1|g[3]>>>31,Ut=g[3]<<1|g[2]>>>31,se=g[13]<<12|g[12]>>>20,Se=g[12]<<12|g[13]>>>20,l=g[22]<<10|g[23]>>>22,w=g[23]<<10|g[22]>>>22,Ke=g[33]<<13|g[32]>>>19,ze=g[32]<<13|g[33]>>>19,Qe=g[42]<<2|g[43]>>>30,nt=g[43]<<2|g[42]>>>30,K=g[5]<<30|g[4]>>>2,ue=g[4]<<30|g[5]>>>2,gt=g[14]<<6|g[15]>>>26,mt=g[15]<<6|g[14]>>>26,ge=g[25]<<11|g[24]>>>21,Ve=g[24]<<11|g[25]>>>21,x=g[34]<<15|g[35]>>>17,a=g[35]<<15|g[34]>>>17,tt=g[45]<<29|g[44]>>>3,ut=g[44]<<29|g[45]>>>3,Ge=g[6]<<28|g[7]>>>4,at=g[7]<<28|g[6]>>>4,Te=g[17]<<23|g[16]>>>9,Ue=g[16]<<23|g[17]>>>9,qt=g[26]<<25|g[27]>>>7,kt=g[27]<<25|g[26]>>>7,He=g[36]<<21|g[37]>>>11,qe=g[37]<<21|g[36]>>>11,M=g[47]<<24|g[46]>>>8,j=g[46]<<24|g[47]>>>8,An=g[8]<<27|g[9]>>>5,$t=g[9]<<27|g[8]>>>5,Vt=g[18]<<20|g[19]>>>12,it=g[19]<<20|g[18]>>>12,Be=g[29]<<7|g[28]>>>25,pt=g[28]<<7|g[29]>>>25,It=g[38]<<8|g[39]>>>24,fn=g[39]<<8|g[38]>>>24,Oe=g[48]<<14|g[49]>>>18,Xe=g[49]<<14|g[48]>>>18,g[0]=te^~se&ge,g[1]=H^~Se&Ve,g[10]=Ge^~Vt&Je,g[11]=at^~it&bt,g[20]=lt^~gt&qt,g[21]=Ut^~mt&kt,g[30]=An^~Et&l,g[31]=$t^~Dn&w,g[40]=K^~Te&Be,g[41]=ue^~Ue&pt,g[2]=se^~ge&He,g[3]=Se^~Ve&qe,g[12]=Vt^~Je&Ke,g[13]=it^~bt&ze,g[22]=gt^~qt&It,g[23]=mt^~kt&fn,g[32]=Et^~l&x,g[33]=Dn^~w&a,g[42]=Te^~Be&Ce,g[43]=Ue^~pt&Ze,g[4]=ge^~He&Oe,g[5]=Ve^~qe&Xe,g[14]=Je^~Ke&tt,g[15]=bt^~ze&ut,g[24]=qt^~It&Bt,g[25]=kt^~fn&Pt,g[34]=l^~x&M,g[35]=w^~a&j,g[44]=Be^~Ce&Qe,g[45]=pt^~Ze&nt,g[6]=He^~Oe&te,g[7]=qe^~Xe&H,g[16]=Ke^~tt&Ge,g[17]=ze^~ut&at,g[26]=It^~Bt&lt,g[27]=fn^~Pt&Ut,g[36]=x^~M&An,g[37]=a^~j&$t,g[46]=Ce^~Qe&K,g[47]=Ze^~nt&ue,g[8]=Oe^~te&se,g[9]=Xe^~H&Se,g[18]=tt^~Ge&Vt,g[19]=ut^~at&it,g[28]=Bt^~lt&gt,g[29]=Pt^~Ut&mt,g[38]=M^~An&Et,g[39]=j^~$t&Dn,g[48]=Qe^~K&Te,g[49]=nt^~ue&Ue,g[0]^=le[F],g[1]^=le[F+1]};if(v)n.exports=S;else for(_=0;_<A.length;++_)i[A[_]]=S[A[_]]})()})(Vh);var od=Vh.exports;function Ms(n){return Th(n)}function sd(n){return Zl(ko(n))}const ad=Ju;function la(){return((e,t)=>{for(t=e="";e++<36;t+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return t})()}function cd(n){return n===""||typeof n=="string"&&n.trim()===""}function hd(n){return!(n&&n.length)}function _h(n,e){return jl(n)}function ud(n){return typeof n.method<"u"}function No(n){return typeof n.result<"u"}function _s(n){return typeof n.error<"u"}function jc(n){return typeof n.event<"u"}function ld(n){return Pl.includes(n)||n.startsWith("wc_")}function dd(n){return n.method.startsWith("wc_")?!0:!xh.includes(n.method)}function fd(n){n=nr(n.toLowerCase());const e=nr(od.keccak_256(nd(n)));let t="";for(let r=0;r<n.length;r++)parseInt(e[r],16)>7?t+=n[r].toUpperCase():t+=n[r];return ko(t)}const gd=n=>n?n.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(n)?/^(0x)?[0-9a-f]{40}$/.test(n)||/^(0x)?[0-9A-F]{40}$/.test(n)?!0:n===fd(n):!1:!1;function Jc(n){return!hd(n)&&!_h(n[0])&&(n[0]=rd(n[0])),n}function da(n){if(typeof n.type<"u"&&n.type!=="0")return n;if(typeof n.from>"u"||!gd(n.from))throw new Error("Transaction object must include a valid 'from' value.");function e(i){let o=i;return(typeof i=="number"||typeof i=="string"&&!cd(i))&&(_h(i)?typeof i=="string"&&(o=Ms(i)):o=Rh(i)),typeof o=="string"&&(o=sd(o)),o}const t={from:Ms(n.from),to:typeof n.to>"u"?void 0:Ms(n.to),gasPrice:typeof n.gasPrice>"u"?"":e(n.gasPrice),gas:typeof n.gas>"u"?typeof n.gasLimit>"u"?"":e(n.gasLimit):e(n.gas),value:typeof n.value>"u"?"":e(n.value),nonce:typeof n.nonce>"u"?"":e(n.nonce),data:typeof n.data>"u"?"":Ms(n.data)||"0x"},r=["gasPrice","gas","value","nonce"];return Object.keys(t).forEach(i=>{(typeof t[i]>"u"||typeof t[i]=="string"&&!t[i].trim().length)&&r.includes(i)&&delete t[i]}),t}function md(n){const e=n.message||"Failed or Rejected Request";let t=-32e3;if(n&&!n.code)switch(e){case"Parse error":t=-32700;break;case"Invalid request":t=-32600;break;case"Method not found":t=-32601;break;case"Invalid params":t=-32602;break;case"Internal error":t=-32603;break;default:t=-32e3;break}const r={code:t,message:e};return n.data&&(r.data=n.data),r}var Ac={},pd=n=>encodeURIComponent(n).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),Bh="%[a-f0-9]{2}",Yc=new RegExp("("+Bh+")|([^%]+?)","gi"),Xc=new RegExp("("+Bh+")+","gi");function ka(n,e){try{return[decodeURIComponent(n.join(""))]}catch{}if(n.length===1)return n;e=e||1;var t=n.slice(0,e),r=n.slice(e);return Array.prototype.concat.call([],ka(t),ka(r))}function yd(n){try{return decodeURIComponent(n)}catch{for(var e=n.match(Yc)||[],t=1;t<e.length;t++)n=ka(e,t).join(""),e=n.match(Yc)||[];return n}}function wd(n){for(var e={"%FE%FF":"��","%FF%FE":"��"},t=Xc.exec(n);t;){try{e[t[0]]=decodeURIComponent(t[0])}catch{var r=yd(t[0]);r!==t[0]&&(e[t[0]]=r)}t=Xc.exec(n)}e["%C2"]="�";for(var i=Object.keys(e),o=0;o<i.length;o++){var h=i[o];n=n.replace(new RegExp(h,"g"),e[h])}return n}var vd=function(n){if(typeof n!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof n+"`");try{return n=n.replace(/\+/g," "),decodeURIComponent(n)}catch{return wd(n)}},Sd=(n,e)=>{if(!(typeof n=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[n];const t=n.indexOf(e);return t===-1?[n]:[n.slice(0,t),n.slice(t+e.length)]};(function(n){const e=pd,t=vd,r=Sd,i=k=>k==null;function o(k){switch(k.arrayFormat){case"index":return P=>(N,G)=>{const fe=N.length;return G===void 0||k.skipNull&&G===null||k.skipEmptyString&&G===""?N:G===null?[...N,[V(P,k),"[",fe,"]"].join("")]:[...N,[V(P,k),"[",V(fe,k),"]=",V(G,k)].join("")]};case"bracket":return P=>(N,G)=>G===void 0||k.skipNull&&G===null||k.skipEmptyString&&G===""?N:G===null?[...N,[V(P,k),"[]"].join("")]:[...N,[V(P,k),"[]=",V(G,k)].join("")];case"comma":case"separator":return P=>(N,G)=>G==null||G.length===0?N:N.length===0?[[V(P,k),"=",V(G,k)].join("")]:[[N,V(G,k)].join(k.arrayFormatSeparator)];default:return P=>(N,G)=>G===void 0||k.skipNull&&G===null||k.skipEmptyString&&G===""?N:G===null?[...N,V(P,k)]:[...N,[V(P,k),"=",V(G,k)].join("")]}}function h(k){let P;switch(k.arrayFormat){case"index":return(N,G,fe)=>{if(P=/\[(\d*)\]$/.exec(N),N=N.replace(/\[\d*\]$/,""),!P){fe[N]=G;return}fe[N]===void 0&&(fe[N]={}),fe[N][P[1]]=G};case"bracket":return(N,G,fe)=>{if(P=/(\[\])$/.exec(N),N=N.replace(/\[\]$/,""),!P){fe[N]=G;return}if(fe[N]===void 0){fe[N]=[G];return}fe[N]=[].concat(fe[N],G)};case"comma":case"separator":return(N,G,fe)=>{const D=typeof G=="string"&&G.split("").indexOf(k.arrayFormatSeparator)>-1?G.split(k.arrayFormatSeparator).map(Q=>p(Q,k)):G===null?G:p(G,k);fe[N]=D};default:return(N,G,fe)=>{if(fe[N]===void 0){fe[N]=G;return}fe[N]=[].concat(fe[N],G)}}}function v(k){if(typeof k!="string"||k.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function V(k,P){return P.encode?P.strict?e(k):encodeURIComponent(k):k}function p(k,P){return P.decode?t(k):k}function C(k){return Array.isArray(k)?k.sort():typeof k=="object"?C(Object.keys(k)).sort((P,N)=>Number(P)-Number(N)).map(P=>k[P]):k}function J(k){const P=k.indexOf("#");return P!==-1&&(k=k.slice(0,P)),k}function Z(k){let P="";const N=k.indexOf("#");return N!==-1&&(P=k.slice(N)),P}function he(k){k=J(k);const P=k.indexOf("?");return P===-1?"":k.slice(P+1)}function ne(k,P){return P.parseNumbers&&!Number.isNaN(Number(k))&&typeof k=="string"&&k.trim()!==""?k=Number(k):P.parseBooleans&&k!==null&&(k.toLowerCase()==="true"||k.toLowerCase()==="false")&&(k=k.toLowerCase()==="true"),k}function le(k,P){P=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},P),v(P.arrayFormatSeparator);const N=h(P),G=Object.create(null);if(typeof k!="string"||(k=k.trim().replace(/^[?#&]/,""),!k))return G;for(const fe of k.split("&")){let[ve,D]=r(P.decode?fe.replace(/\+/g," "):fe,"=");D=D===void 0?null:["comma","separator"].includes(P.arrayFormat)?D:p(D,P),N(p(ve,P),D,G)}for(const fe of Object.keys(G)){const ve=G[fe];if(typeof ve=="object"&&ve!==null)for(const D of Object.keys(ve))ve[D]=ne(ve[D],P);else G[fe]=ne(ve,P)}return P.sort===!1?G:(P.sort===!0?Object.keys(G).sort():Object.keys(G).sort(P.sort)).reduce((fe,ve)=>{const D=G[ve];return D&&typeof D=="object"&&!Array.isArray(D)?fe[ve]=C(D):fe[ve]=D,fe},Object.create(null))}n.extract=he,n.parse=le,n.stringify=(k,P)=>{if(!k)return"";P=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},P),v(P.arrayFormatSeparator);const N=D=>P.skipNull&&i(k[D])||P.skipEmptyString&&k[D]==="",G=o(P),fe={};for(const D of Object.keys(k))N(D)||(fe[D]=k[D]);const ve=Object.keys(fe);return P.sort!==!1&&ve.sort(P.sort),ve.map(D=>{const Q=k[D];return Q===void 0?"":Q===null?V(D,P):Array.isArray(Q)?Q.reduce(G(D),[]).join("&"):V(D,P)+"="+V(Q,P)}).filter(D=>D.length>0).join("&")},n.parseUrl=(k,P)=>{P=Object.assign({decode:!0},P);const[N,G]=r(k,"#");return Object.assign({url:N.split("?")[0]||"",query:le(he(k),P)},P&&P.parseFragmentIdentifier&&G?{fragmentIdentifier:p(G,P)}:{})},n.stringifyUrl=(k,P)=>{P=Object.assign({encode:!0,strict:!0},P);const N=J(k.url).split("?")[0]||"",G=n.extract(k.url),fe=n.parse(G,{sort:!1}),ve=Object.assign(fe,k.query);let D=n.stringify(ve,P);D&&(D=`?${D}`);let Q=Z(k.url);return k.fragmentIdentifier&&(Q=`#${V(k.fragmentIdentifier,P)}`),`${N}${D}${Q}`}})(Ac);function Ed(n){const e=n.indexOf("?")!==-1?n.indexOf("?"):void 0;return typeof e<"u"?n.substr(e):""}function xd(n,e){let t=Ph(n);return t=Object.assign(Object.assign({},t),e),n=bd(t),n}function Ph(n){return Ac.parse(n)}function bd(n){return Ac.stringify(n)}function kd(n){return typeof n.bridge<"u"}function Md(n){const e=n.indexOf(":"),t=n.indexOf("?")!==-1?n.indexOf("?"):void 0,r=n.substring(0,e),i=n.substring(e+1,t);function o(J){const he=J.split("@");return{handshakeTopic:he[0],version:parseInt(he[1],10)}}const h=o(i),v=typeof t<"u"?n.substr(t):"";function V(J){const Z=Ph(J);return{key:Z.key||"",bridge:Z.bridge||""}}const p=V(v);return Object.assign(Object.assign({protocol:r},h),p)}class Ad{constructor(){this._eventEmitters=[],typeof window<"u"&&typeof window.addEventListener<"u"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(e,t){this._eventEmitters.push({event:e,callback:t})}trigger(e){let t=[];e&&(t=this._eventEmitters.filter(r=>r.event===e)),t.forEach(r=>{r.callback()})}}const Dd=typeof globalThis.WebSocket<"u"?globalThis.WebSocket:require("ws");class Id{constructor(e){if(this.opts=e,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=e.protocol,this._version=e.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=e.subscriptions||[],this._netMonitor=e.netMonitor||new Ad,!e.url||typeof e.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=e.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(e){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(e){}get connecting(){return this.readyState===0}set connected(e){}get connected(){return this.readyState===1}set closing(e){}get closing(){return this.readyState===2}set closed(e){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(e,t,r){if(!t||typeof t!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:t,type:"pub",payload:e,silent:!!r})}subscribe(e){this._socketSend({topic:e,type:"sub",payload:"",silent:!0})}on(e,t){this._events.push({event:e,callback:t})}_socketCreate(){if(this._nextSocket)return;const e=Td(this._url,this._protocol,this._version);if(this._nextSocket=new Dd(e),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=t=>this._socketReceive(t),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=t=>this._socketError(t),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(e){const t=JSON.stringify(e);this._socket&&this._socket.readyState===1?this._socket.send(t):(this._setToQueue(e),this._socketCreate())}async _socketReceive(e){let t;try{t=JSON.parse(e.data)}catch{return}if(this._socketSend({topic:t.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const r=this._events.filter(i=>i.event==="message");r&&r.length&&r.forEach(i=>i.callback(t))}}_socketError(e){const t=this._events.filter(r=>r.event==="error");t&&t.length&&t.forEach(r=>r.callback(e))}_queueSubscriptions(){this._subscriptions.forEach(t=>this._queue.push({topic:t,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(e){this._queue.push(e)}_pushQueue(){this._queue.forEach(t=>this._socketSend(t)),this._queue=[]}}function Td(n,e,t){var r,i;const h=(n.startsWith("https")?n.replace("https","wss"):n.startsWith("http")?n.replace("http","ws"):n).split("?"),v=Al()?{protocol:e,version:t,env:"browser",host:((r=Il())===null||r===void 0?void 0:r.host)||""}:{protocol:e,version:t,env:((i=Sc())===null||i===void 0?void 0:i.name)||""},V=xd(Ed(h[1]||""),v);return h[0]+"?"+V}const fa="Session currently connected",pr="Session currently disconnected",Rd="Session Rejected",Vd="Missing JSON RPC response",_d='JSON-RPC success response must include "result" field',Bd='JSON-RPC error response must include "error" field',Pd='JSON RPC request must have valid "method" value',Od='JSON RPC request must have valid "id" value',Cd="Missing one of the required parameters: bridge / uri / session",Zc="JSON RPC response format is invalid",Nd="URI format is invalid",Ud="QRCode Modal not provided",Qc="User close QRCode Modal";class $d{constructor(){this._eventEmitters=[]}subscribe(e){this._eventEmitters.push(e)}unsubscribe(e){this._eventEmitters=this._eventEmitters.filter(t=>t.event!==e)}trigger(e){let t=[],r;ud(e)?r=e.method:No(e)||_s(e)?r=`response:${e.id}`:jc(e)?r=e.event:r="",r&&(t=this._eventEmitters.filter(i=>i.event===r)),(!t||!t.length)&&!ld(r)&&!jc(r)&&(t=this._eventEmitters.filter(i=>i.event==="call_request")),t.forEach(i=>{if(_s(e)){const o=new Error(e.error.message);i.callback(o,null)}else i.callback(null,e)})}}class Ld{constructor(e="walletconnect"){this.storageId=e}getSession(){let e=null;const t=Sh(this.storageId);return t&&kd(t)&&(e=t),e}setSession(e){return Bl(this.storageId,e),e}removeSession(){Eh(this.storageId)}}const Fd="walletconnect.org",qd="abcdefghijklmnopqrstuvwxyz0123456789",Oh=qd.split("").map(n=>`https://${n}.bridge.walletconnect.org`);function zd(n){let e=n.indexOf("//")>-1?n.split("/")[2]:n.split("/")[0];return e=e.split(":")[0],e=e.split("?")[0],e}function Hd(n){return zd(n).split(".").slice(-2).join(".")}function Gd(){return Math.floor(Math.random()*Oh.length)}function Kd(){return Oh[Gd()]}function Wd(n){return Hd(n)===Fd}function jd(n){return Wd(n)?Kd():n}class Jd{constructor(e){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new $d,this._clientMeta=Kc()||e.connectorOpts.clientMeta||null,this._cryptoLib=e.cryptoLib,this._sessionStorage=e.sessionStorage||new Ld(e.connectorOpts.storageId),this._qrcodeModal=e.connectorOpts.qrcodeModal,this._qrcodeModalOptions=e.connectorOpts.qrcodeModalOptions,this._signingMethods=[...xh,...e.connectorOpts.signingMethods||[]],!e.connectorOpts.bridge&&!e.connectorOpts.uri&&!e.connectorOpts.session)throw new Error(Cd);e.connectorOpts.bridge&&(this.bridge=jd(e.connectorOpts.bridge)),e.connectorOpts.uri&&(this.uri=e.connectorOpts.uri);const t=e.connectorOpts.session||this._getStorageSession();t&&(this.session=t),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=e.transport||new Id({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),e.connectorOpts.uri&&this._subscribeToSessionRequest(),e.pushServerOpts&&this._registerPushServer(e.pushServerOpts)}set bridge(e){e&&(this._bridge=e)}get bridge(){return this._bridge}set key(e){if(!e)return;const t=id(e);this._key=t}get key(){return this._key?ed(this._key,!0):""}set clientId(e){e&&(this._clientId=e)}get clientId(){let e=this._clientId;return e||(e=this._clientId=la()),this._clientId}set peerId(e){e&&(this._peerId=e)}get peerId(){return this._peerId}set clientMeta(e){}get clientMeta(){let e=this._clientMeta;return e||(e=this._clientMeta=Kc()),e}set peerMeta(e){this._peerMeta=e}get peerMeta(){return this._peerMeta}set handshakeTopic(e){e&&(this._handshakeTopic=e)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(e){e&&(this._handshakeId=e)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(e){if(!e)return;const{handshakeTopic:t,bridge:r,key:i}=this._parseUri(e);this.handshakeTopic=t,this.bridge=r,this.key=i}set chainId(e){this._chainId=e}get chainId(){return this._chainId}set networkId(e){this._networkId=e}get networkId(){return this._networkId}set accounts(e){this._accounts=e}get accounts(){return this._accounts}set rpcUrl(e){this._rpcUrl=e}get rpcUrl(){return this._rpcUrl}set connected(e){}get connected(){return this._connected}set pending(e){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(e){e&&(this._connected=e.connected,this.accounts=e.accounts,this.chainId=e.chainId,this.bridge=e.bridge,this.key=e.key,this.clientId=e.clientId,this.clientMeta=e.clientMeta,this.peerId=e.peerId,this.peerMeta=e.peerMeta,this.handshakeId=e.handshakeId,this.handshakeTopic=e.handshakeTopic)}on(e,t){const r={event:e,callback:t};this._eventManager.subscribe(r)}off(e){this._eventManager.unsubscribe(e)}async createInstantRequest(e){this._key=await this._generateKey();const t=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(e)}]});this.handshakeId=t.id,this.handshakeTopic=la(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(Qc)});const r=()=>{this.killSession()};try{const i=await this._sendCallRequest(t);return i&&r(),i}catch(i){throw r(),i}}async connect(e){if(!this._qrcodeModal)throw new Error(Ud);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(e),new Promise(async(t,r)=>{this.on("modal_closed",()=>r(new Error(Qc))),this.on("connect",(i,o)=>{if(i)return r(i);t(o.params[0])})}))}async createSession(e){if(this._connected)throw new Error(fa);if(this.pending)return;this._key=await this._generateKey();const t=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:e&&e.chainId?e.chainId:null}]});this.handshakeId=t.id,this.handshakeTopic=la(),this._sendSessionRequest(t,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(e){if(this._connected)throw new Error(fa);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const t={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},r={id:this.handshakeId,jsonrpc:"2.0",result:t};this._sendResponse(r),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(e){if(this._connected)throw new Error(fa);const t=e&&e.message?e.message:Rd,r=this._formatResponse({id:this.handshakeId,error:{message:t}});this._sendResponse(r),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:t}]}),this._removeStorageSession()}updateSession(e){if(!this._connected)throw new Error(pr);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const t={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},r=this._formatRequest({method:"wc_sessionUpdate",params:[t]});this._sendSessionRequest(r,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(e){const t=e?e.message:"Session Disconnected",r={approved:!1,chainId:null,networkId:null,accounts:null},i=this._formatRequest({method:"wc_sessionUpdate",params:[r]});await this._sendRequest(i),this._handleSessionDisconnect(t)}async sendTransaction(e){if(!this._connected)throw new Error(pr);const t=da(e),r=this._formatRequest({method:"eth_sendTransaction",params:[t]});return await this._sendCallRequest(r)}async signTransaction(e){if(!this._connected)throw new Error(pr);const t=da(e),r=this._formatRequest({method:"eth_signTransaction",params:[t]});return await this._sendCallRequest(r)}async signMessage(e){if(!this._connected)throw new Error(pr);const t=this._formatRequest({method:"eth_sign",params:e});return await this._sendCallRequest(t)}async signPersonalMessage(e){if(!this._connected)throw new Error(pr);e=Jc(e);const t=this._formatRequest({method:"personal_sign",params:e});return await this._sendCallRequest(t)}async signTypedData(e){if(!this._connected)throw new Error(pr);const t=this._formatRequest({method:"eth_signTypedData",params:e});return await this._sendCallRequest(t)}async updateChain(e){if(!this._connected)throw new Error("Session currently disconnected");const t=this._formatRequest({method:"wallet_updateChain",params:[e]});return await this._sendCallRequest(t)}unsafeSend(e,t){return this._sendRequest(e,t),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:t}]}),new Promise((r,i)=>{this._subscribeToResponse(e.id,(o,h)=>{if(o){i(o);return}if(!h)throw new Error(Vd);r(h)})})}async sendCustomRequest(e,t){if(!this._connected)throw new Error(pr);switch(e.method){case"eth_accounts":return this.accounts;case"eth_chainId":return Rh(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":e.params&&(e.params[0]=da(e.params[0]));break;case"personal_sign":e.params&&(e.params=Jc(e.params));break}const r=this._formatRequest(e);return await this._sendCallRequest(r,t)}approveRequest(e){if(No(e)){const t=this._formatResponse(e);this._sendResponse(t)}else throw new Error(_d)}rejectRequest(e){if(_s(e)){const t=this._formatResponse(e);this._sendResponse(t)}else throw new Error(Bd)}transportClose(){this._transport.close()}async _sendRequest(e,t){const r=this._formatRequest(e),i=await this._encrypt(r),o=typeof(t==null?void 0:t.topic)<"u"?t.topic:this.peerId,h=JSON.stringify(i),v=typeof(t==null?void 0:t.forcePushNotification)<"u"?!t.forcePushNotification:dd(r);this._transport.send(h,o,v)}async _sendResponse(e){const t=await this._encrypt(e),r=this.peerId,i=JSON.stringify(t);this._transport.send(i,r,!0)}async _sendSessionRequest(e,t,r){this._sendRequest(e,r),this._subscribeToSessionResponse(e.id,t)}_sendCallRequest(e,t){return this._sendRequest(e,t),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:t}]}),this._subscribeToCallResponse(e.id)}_formatRequest(e){if(typeof e.method>"u")throw new Error(Pd);return{id:typeof e.id>"u"?ad():e.id,jsonrpc:"2.0",method:e.method,params:typeof e.params>"u"?[]:e.params}}_formatResponse(e){if(typeof e.id>"u")throw new Error(Od);const t={id:e.id,jsonrpc:"2.0"};if(_s(e)){const r=md(e.error);return Object.assign(Object.assign(Object.assign({},t),e),{error:r})}else if(No(e))return Object.assign(Object.assign({},t),e);throw new Error(Zc)}_handleSessionDisconnect(e){const t=e||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),Eh(Wc)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:t}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(e,t){t?t.approved?(this._connected?(t.chainId&&(this.chainId=t.chainId),t.accounts&&(this.accounts=t.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,t.chainId&&(this.chainId=t.chainId),t.accounts&&(this.accounts=t.accounts),t.peerId&&!this.peerId&&(this.peerId=t.peerId),t.peerMeta&&!this.peerMeta&&(this.peerMeta=t.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(e):this._handleSessionDisconnect(e)}async _handleIncomingMessages(e){if(![this.clientId,this.handshakeTopic].includes(e.topic))return;let r;try{r=JSON.parse(e.payload)}catch{return}const i=await this._decrypt(r);i&&this._eventManager.trigger(i)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(e,t){this.on(`response:${e}`,t)}_subscribeToSessionResponse(e,t){this._subscribeToResponse(e,(r,i)=>{if(r){this._handleSessionResponse(r.message);return}No(i)?this._handleSessionResponse(t,i.result):i.error&&i.error.message?this._handleSessionResponse(i.error.message):this._handleSessionResponse(t)})}_subscribeToCallResponse(e){return new Promise((t,r)=>{this._subscribeToResponse(e,(i,o)=>{if(i){r(i);return}No(o)?t(o.result):o.error&&o.error.message?r(o.error):r(new Error(Zc))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(e,t)=>{const{request:r}=t.params[0];if(kl()&&this._signingMethods.includes(r.method)){const i=Sh(Wc);i&&(window.location.href=i.href)}}),this.on("wc_sessionRequest",(e,t)=>{e&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:e.toString()}]}),this.handshakeId=t.id,this.peerId=t.params[0].peerId,this.peerMeta=t.params[0].peerMeta;const r=Object.assign(Object.assign({},t),{method:"session_request"});this._eventManager.trigger(r)}),this.on("wc_sessionUpdate",(e,t)=>{e&&this._handleSessionResponse(e.message),this._handleSessionResponse("Session disconnected",t.params[0])})}_initTransport(){this._transport.on("message",e=>this._handleIncomingMessages(e)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const e=this.protocol,t=this.handshakeTopic,r=this.version,i=encodeURIComponent(this.bridge),o=this.key;return`${e}:${t}@${r}?bridge=${i}&key=${o}`}_parseUri(e){const t=Md(e);if(t.protocol===this.protocol){if(!t.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const r=t.handshakeTopic;if(!t.bridge)throw Error("Invalid or missing bridge url parameter value");const i=decodeURIComponent(t.bridge);if(!t.key)throw Error("Invalid or missing key parameter value");const o=t.key;return{handshakeTopic:r,bridge:i,key:o}}else throw new Error(Nd)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(e){const t=this._key;return this._cryptoLib&&t?await this._cryptoLib.encrypt(e,t):null}async _decrypt(e){const t=this._key;return this._cryptoLib&&t?await this._cryptoLib.decrypt(e,t):null}_getStorageSession(){let e=null;return this._sessionStorage&&(e=this._sessionStorage.getSession()),e}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(e){if(!e.url||typeof e.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!e.type||typeof e.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!e.token||typeof e.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const t={bridge:this.bridge,topic:this.clientId,type:e.type,token:e.token,peerName:"",language:e.language||""};this.on("connect",async(r,i)=>{if(r)throw r;if(e.peerMeta){const o=i.params[0].peerMeta.name;t.peerName=o}try{if(!(await(await fetch(`${e.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function Yd(n){return xs.getBrowerCrypto().getRandomValues(new Uint8Array(n))}const Ch=256,Nh=Ch,Xd=Ch,rr="AES-CBC",Zd=`SHA-${Nh}`,Ma="HMAC",Qd="encrypt",ef="decrypt",tf="sign",nf="verify";function rf(n){return n===rr?{length:Nh,name:rr}:{hash:{name:Zd},name:Ma}}function of(n){return n===rr?[Qd,ef]:[tf,nf]}async function Dc(n,e=rr){return xs.getSubtleCrypto().importKey("raw",n,rf(e),!0,of(e))}async function sf(n,e,t){const r=xs.getSubtleCrypto(),i=await Dc(e,rr),o=await r.encrypt({iv:n,name:rr},i,t);return new Uint8Array(o)}async function af(n,e,t){const r=xs.getSubtleCrypto(),i=await Dc(e,rr),o=await r.decrypt({iv:n,name:rr},i,t);return new Uint8Array(o)}async function cf(n,e){const t=xs.getSubtleCrypto(),r=await Dc(n,Ma),i=await t.sign({length:Xd,name:Ma},r,e);return new Uint8Array(i)}function hf(n,e,t){return sf(n,e,t)}function uf(n,e,t){return af(n,e,t)}async function Uh(n,e){return await cf(n,e)}async function $h(n){const e=(n||256)/8,t=Yd(e);return td(zs(t))}async function Lh(n,e){const t=li(n.data),r=li(n.iv),i=li(n.hmac),o=ui(i,!1),h=Ih(t,r),v=await Uh(e,h),V=ui(v,!1);return nr(o)===nr(V)}async function lf(n,e,t){const r=gi(ba(e)),i=t||await $h(128),o=gi(ba(i)),h=ui(o,!1),v=JSON.stringify(n),V=Kl(v),p=await hf(o,r,V),C=ui(p,!1),J=Ih(p,o),Z=await Uh(r,J),he=ui(Z,!1);return{data:C,hmac:he,iv:h}}async function df(n,e){const t=gi(ba(e));if(!t)throw new Error("Missing key: required for decryption");if(!await Lh(n,t))return null;const i=li(n.data),o=li(n.iv),h=await uf(o,t,i),v=Hl(h);let V;try{V=JSON.parse(v)}catch{return null}return V}const ff=Object.freeze(Object.defineProperty({__proto__:null,decrypt:df,encrypt:lf,generateKey:$h,verifyHmac:Lh},Symbol.toStringTag,{value:"Module"}));class Ty extends Jd{constructor(e,t){super({cryptoLib:ff,connectorOpts:e,pushServerOpts:t})}}var Fh={exports:{}};(function(n){(function(e){var t=function(l){var w,x=new Float64Array(16);if(l)for(w=0;w<l.length;w++)x[w]=l[w];return x},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var h=t(),v=t([1]),V=t([56129,1]),p=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),C=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),J=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Z=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),he=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ne(l,w,x,a){l[w]=x>>24&255,l[w+1]=x>>16&255,l[w+2]=x>>8&255,l[w+3]=x&255,l[w+4]=a>>24&255,l[w+5]=a>>16&255,l[w+6]=a>>8&255,l[w+7]=a&255}function le(l,w,x,a,M){var j,K=0;for(j=0;j<M;j++)K|=l[w+j]^x[a+j];return(1&K-1>>>8)-1}function k(l,w,x,a){return le(l,w,x,a,16)}function P(l,w,x,a){return le(l,w,x,a,32)}function N(l,w,x,a){for(var M=a[0]&255|(a[1]&255)<<8|(a[2]&255)<<16|(a[3]&255)<<24,j=x[0]&255|(x[1]&255)<<8|(x[2]&255)<<16|(x[3]&255)<<24,K=x[4]&255|(x[5]&255)<<8|(x[6]&255)<<16|(x[7]&255)<<24,ue=x[8]&255|(x[9]&255)<<8|(x[10]&255)<<16|(x[11]&255)<<24,Te=x[12]&255|(x[13]&255)<<8|(x[14]&255)<<16|(x[15]&255)<<24,Ue=a[4]&255|(a[5]&255)<<8|(a[6]&255)<<16|(a[7]&255)<<24,Be=w[0]&255|(w[1]&255)<<8|(w[2]&255)<<16|(w[3]&255)<<24,pt=w[4]&255|(w[5]&255)<<8|(w[6]&255)<<16|(w[7]&255)<<24,Ce=w[8]&255|(w[9]&255)<<8|(w[10]&255)<<16|(w[11]&255)<<24,Ze=w[12]&255|(w[13]&255)<<8|(w[14]&255)<<16|(w[15]&255)<<24,Qe=a[8]&255|(a[9]&255)<<8|(a[10]&255)<<16|(a[11]&255)<<24,nt=x[16]&255|(x[17]&255)<<8|(x[18]&255)<<16|(x[19]&255)<<24,dt=x[20]&255|(x[21]&255)<<8|(x[22]&255)<<16|(x[23]&255)<<24,ot=x[24]&255|(x[25]&255)<<8|(x[26]&255)<<16|(x[27]&255)<<24,ct=x[28]&255|(x[29]&255)<<8|(x[30]&255)<<16|(x[31]&255)<<24,st=a[12]&255|(a[13]&255)<<8|(a[14]&255)<<16|(a[15]&255)<<24,$e=M,We=j,Ne=K,Le=ue,Fe=Te,Pe=Ue,ae=Be,ce=pt,Ae=Ce,xe=Ze,be=Qe,Re=nt,et=dt,yt=ot,vt=ct,wt=st,O,xt=0;xt<20;xt+=2)O=$e+et|0,Fe^=O<<7|O>>>25,O=Fe+$e|0,Ae^=O<<9|O>>>23,O=Ae+Fe|0,et^=O<<13|O>>>19,O=et+Ae|0,$e^=O<<18|O>>>14,O=Pe+We|0,xe^=O<<7|O>>>25,O=xe+Pe|0,yt^=O<<9|O>>>23,O=yt+xe|0,We^=O<<13|O>>>19,O=We+yt|0,Pe^=O<<18|O>>>14,O=be+ae|0,vt^=O<<7|O>>>25,O=vt+be|0,Ne^=O<<9|O>>>23,O=Ne+vt|0,ae^=O<<13|O>>>19,O=ae+Ne|0,be^=O<<18|O>>>14,O=wt+Re|0,Le^=O<<7|O>>>25,O=Le+wt|0,ce^=O<<9|O>>>23,O=ce+Le|0,Re^=O<<13|O>>>19,O=Re+ce|0,wt^=O<<18|O>>>14,O=$e+Le|0,We^=O<<7|O>>>25,O=We+$e|0,Ne^=O<<9|O>>>23,O=Ne+We|0,Le^=O<<13|O>>>19,O=Le+Ne|0,$e^=O<<18|O>>>14,O=Pe+Fe|0,ae^=O<<7|O>>>25,O=ae+Pe|0,ce^=O<<9|O>>>23,O=ce+ae|0,Fe^=O<<13|O>>>19,O=Fe+ce|0,Pe^=O<<18|O>>>14,O=be+xe|0,Re^=O<<7|O>>>25,O=Re+be|0,Ae^=O<<9|O>>>23,O=Ae+Re|0,xe^=O<<13|O>>>19,O=xe+Ae|0,be^=O<<18|O>>>14,O=wt+vt|0,et^=O<<7|O>>>25,O=et+wt|0,yt^=O<<9|O>>>23,O=yt+et|0,vt^=O<<13|O>>>19,O=vt+yt|0,wt^=O<<18|O>>>14;$e=$e+M|0,We=We+j|0,Ne=Ne+K|0,Le=Le+ue|0,Fe=Fe+Te|0,Pe=Pe+Ue|0,ae=ae+Be|0,ce=ce+pt|0,Ae=Ae+Ce|0,xe=xe+Ze|0,be=be+Qe|0,Re=Re+nt|0,et=et+dt|0,yt=yt+ot|0,vt=vt+ct|0,wt=wt+st|0,l[0]=$e>>>0&255,l[1]=$e>>>8&255,l[2]=$e>>>16&255,l[3]=$e>>>24&255,l[4]=We>>>0&255,l[5]=We>>>8&255,l[6]=We>>>16&255,l[7]=We>>>24&255,l[8]=Ne>>>0&255,l[9]=Ne>>>8&255,l[10]=Ne>>>16&255,l[11]=Ne>>>24&255,l[12]=Le>>>0&255,l[13]=Le>>>8&255,l[14]=Le>>>16&255,l[15]=Le>>>24&255,l[16]=Fe>>>0&255,l[17]=Fe>>>8&255,l[18]=Fe>>>16&255,l[19]=Fe>>>24&255,l[20]=Pe>>>0&255,l[21]=Pe>>>8&255,l[22]=Pe>>>16&255,l[23]=Pe>>>24&255,l[24]=ae>>>0&255,l[25]=ae>>>8&255,l[26]=ae>>>16&255,l[27]=ae>>>24&255,l[28]=ce>>>0&255,l[29]=ce>>>8&255,l[30]=ce>>>16&255,l[31]=ce>>>24&255,l[32]=Ae>>>0&255,l[33]=Ae>>>8&255,l[34]=Ae>>>16&255,l[35]=Ae>>>24&255,l[36]=xe>>>0&255,l[37]=xe>>>8&255,l[38]=xe>>>16&255,l[39]=xe>>>24&255,l[40]=be>>>0&255,l[41]=be>>>8&255,l[42]=be>>>16&255,l[43]=be>>>24&255,l[44]=Re>>>0&255,l[45]=Re>>>8&255,l[46]=Re>>>16&255,l[47]=Re>>>24&255,l[48]=et>>>0&255,l[49]=et>>>8&255,l[50]=et>>>16&255,l[51]=et>>>24&255,l[52]=yt>>>0&255,l[53]=yt>>>8&255,l[54]=yt>>>16&255,l[55]=yt>>>24&255,l[56]=vt>>>0&255,l[57]=vt>>>8&255,l[58]=vt>>>16&255,l[59]=vt>>>24&255,l[60]=wt>>>0&255,l[61]=wt>>>8&255,l[62]=wt>>>16&255,l[63]=wt>>>24&255}function G(l,w,x,a){for(var M=a[0]&255|(a[1]&255)<<8|(a[2]&255)<<16|(a[3]&255)<<24,j=x[0]&255|(x[1]&255)<<8|(x[2]&255)<<16|(x[3]&255)<<24,K=x[4]&255|(x[5]&255)<<8|(x[6]&255)<<16|(x[7]&255)<<24,ue=x[8]&255|(x[9]&255)<<8|(x[10]&255)<<16|(x[11]&255)<<24,Te=x[12]&255|(x[13]&255)<<8|(x[14]&255)<<16|(x[15]&255)<<24,Ue=a[4]&255|(a[5]&255)<<8|(a[6]&255)<<16|(a[7]&255)<<24,Be=w[0]&255|(w[1]&255)<<8|(w[2]&255)<<16|(w[3]&255)<<24,pt=w[4]&255|(w[5]&255)<<8|(w[6]&255)<<16|(w[7]&255)<<24,Ce=w[8]&255|(w[9]&255)<<8|(w[10]&255)<<16|(w[11]&255)<<24,Ze=w[12]&255|(w[13]&255)<<8|(w[14]&255)<<16|(w[15]&255)<<24,Qe=a[8]&255|(a[9]&255)<<8|(a[10]&255)<<16|(a[11]&255)<<24,nt=x[16]&255|(x[17]&255)<<8|(x[18]&255)<<16|(x[19]&255)<<24,dt=x[20]&255|(x[21]&255)<<8|(x[22]&255)<<16|(x[23]&255)<<24,ot=x[24]&255|(x[25]&255)<<8|(x[26]&255)<<16|(x[27]&255)<<24,ct=x[28]&255|(x[29]&255)<<8|(x[30]&255)<<16|(x[31]&255)<<24,st=a[12]&255|(a[13]&255)<<8|(a[14]&255)<<16|(a[15]&255)<<24,$e=M,We=j,Ne=K,Le=ue,Fe=Te,Pe=Ue,ae=Be,ce=pt,Ae=Ce,xe=Ze,be=Qe,Re=nt,et=dt,yt=ot,vt=ct,wt=st,O,xt=0;xt<20;xt+=2)O=$e+et|0,Fe^=O<<7|O>>>25,O=Fe+$e|0,Ae^=O<<9|O>>>23,O=Ae+Fe|0,et^=O<<13|O>>>19,O=et+Ae|0,$e^=O<<18|O>>>14,O=Pe+We|0,xe^=O<<7|O>>>25,O=xe+Pe|0,yt^=O<<9|O>>>23,O=yt+xe|0,We^=O<<13|O>>>19,O=We+yt|0,Pe^=O<<18|O>>>14,O=be+ae|0,vt^=O<<7|O>>>25,O=vt+be|0,Ne^=O<<9|O>>>23,O=Ne+vt|0,ae^=O<<13|O>>>19,O=ae+Ne|0,be^=O<<18|O>>>14,O=wt+Re|0,Le^=O<<7|O>>>25,O=Le+wt|0,ce^=O<<9|O>>>23,O=ce+Le|0,Re^=O<<13|O>>>19,O=Re+ce|0,wt^=O<<18|O>>>14,O=$e+Le|0,We^=O<<7|O>>>25,O=We+$e|0,Ne^=O<<9|O>>>23,O=Ne+We|0,Le^=O<<13|O>>>19,O=Le+Ne|0,$e^=O<<18|O>>>14,O=Pe+Fe|0,ae^=O<<7|O>>>25,O=ae+Pe|0,ce^=O<<9|O>>>23,O=ce+ae|0,Fe^=O<<13|O>>>19,O=Fe+ce|0,Pe^=O<<18|O>>>14,O=be+xe|0,Re^=O<<7|O>>>25,O=Re+be|0,Ae^=O<<9|O>>>23,O=Ae+Re|0,xe^=O<<13|O>>>19,O=xe+Ae|0,be^=O<<18|O>>>14,O=wt+vt|0,et^=O<<7|O>>>25,O=et+wt|0,yt^=O<<9|O>>>23,O=yt+et|0,vt^=O<<13|O>>>19,O=vt+yt|0,wt^=O<<18|O>>>14;l[0]=$e>>>0&255,l[1]=$e>>>8&255,l[2]=$e>>>16&255,l[3]=$e>>>24&255,l[4]=Pe>>>0&255,l[5]=Pe>>>8&255,l[6]=Pe>>>16&255,l[7]=Pe>>>24&255,l[8]=be>>>0&255,l[9]=be>>>8&255,l[10]=be>>>16&255,l[11]=be>>>24&255,l[12]=wt>>>0&255,l[13]=wt>>>8&255,l[14]=wt>>>16&255,l[15]=wt>>>24&255,l[16]=ae>>>0&255,l[17]=ae>>>8&255,l[18]=ae>>>16&255,l[19]=ae>>>24&255,l[20]=ce>>>0&255,l[21]=ce>>>8&255,l[22]=ce>>>16&255,l[23]=ce>>>24&255,l[24]=Ae>>>0&255,l[25]=Ae>>>8&255,l[26]=Ae>>>16&255,l[27]=Ae>>>24&255,l[28]=xe>>>0&255,l[29]=xe>>>8&255,l[30]=xe>>>16&255,l[31]=xe>>>24&255}function fe(l,w,x,a){N(l,w,x,a)}function ve(l,w,x,a){G(l,w,x,a)}var D=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Q(l,w,x,a,M,j,K){var ue=new Uint8Array(16),Te=new Uint8Array(64),Ue,Be;for(Be=0;Be<16;Be++)ue[Be]=0;for(Be=0;Be<8;Be++)ue[Be]=j[Be];for(;M>=64;){for(fe(Te,ue,K,D),Be=0;Be<64;Be++)l[w+Be]=x[a+Be]^Te[Be];for(Ue=1,Be=8;Be<16;Be++)Ue=Ue+(ue[Be]&255)|0,ue[Be]=Ue&255,Ue>>>=8;M-=64,w+=64,a+=64}if(M>0)for(fe(Te,ue,K,D),Be=0;Be<M;Be++)l[w+Be]=x[a+Be]^Te[Be];return 0}function Y(l,w,x,a,M){var j=new Uint8Array(16),K=new Uint8Array(64),ue,Te;for(Te=0;Te<16;Te++)j[Te]=0;for(Te=0;Te<8;Te++)j[Te]=a[Te];for(;x>=64;){for(fe(K,j,M,D),Te=0;Te<64;Te++)l[w+Te]=K[Te];for(ue=1,Te=8;Te<16;Te++)ue=ue+(j[Te]&255)|0,j[Te]=ue&255,ue>>>=8;x-=64,w+=64}if(x>0)for(fe(K,j,M,D),Te=0;Te<x;Te++)l[w+Te]=K[Te];return 0}function me(l,w,x,a,M){var j=new Uint8Array(32);ve(j,a,M,D);for(var K=new Uint8Array(8),ue=0;ue<8;ue++)K[ue]=a[ue+16];return Y(l,w,x,K,j)}function y(l,w,x,a,M,j,K){var ue=new Uint8Array(32);ve(ue,j,K,D);for(var Te=new Uint8Array(8),Ue=0;Ue<8;Ue++)Te[Ue]=j[Ue+16];return Q(l,w,x,a,M,Te,ue)}var s=function(l){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var w,x,a,M,j,K,ue,Te;w=l[0]&255|(l[1]&255)<<8,this.r[0]=w&8191,x=l[2]&255|(l[3]&255)<<8,this.r[1]=(w>>>13|x<<3)&8191,a=l[4]&255|(l[5]&255)<<8,this.r[2]=(x>>>10|a<<6)&7939,M=l[6]&255|(l[7]&255)<<8,this.r[3]=(a>>>7|M<<9)&8191,j=l[8]&255|(l[9]&255)<<8,this.r[4]=(M>>>4|j<<12)&255,this.r[5]=j>>>1&8190,K=l[10]&255|(l[11]&255)<<8,this.r[6]=(j>>>14|K<<2)&8191,ue=l[12]&255|(l[13]&255)<<8,this.r[7]=(K>>>11|ue<<5)&8065,Te=l[14]&255|(l[15]&255)<<8,this.r[8]=(ue>>>8|Te<<8)&8191,this.r[9]=Te>>>5&127,this.pad[0]=l[16]&255|(l[17]&255)<<8,this.pad[1]=l[18]&255|(l[19]&255)<<8,this.pad[2]=l[20]&255|(l[21]&255)<<8,this.pad[3]=l[22]&255|(l[23]&255)<<8,this.pad[4]=l[24]&255|(l[25]&255)<<8,this.pad[5]=l[26]&255|(l[27]&255)<<8,this.pad[6]=l[28]&255|(l[29]&255)<<8,this.pad[7]=l[30]&255|(l[31]&255)<<8};s.prototype.blocks=function(l,w,x){for(var a=this.fin?0:2048,M,j,K,ue,Te,Ue,Be,pt,Ce,Ze,Qe,nt,dt,ot,ct,st,$e,We,Ne,Le=this.h[0],Fe=this.h[1],Pe=this.h[2],ae=this.h[3],ce=this.h[4],Ae=this.h[5],xe=this.h[6],be=this.h[7],Re=this.h[8],et=this.h[9],yt=this.r[0],vt=this.r[1],wt=this.r[2],O=this.r[3],xt=this.r[4],Tt=this.r[5],Rt=this.r[6],St=this.r[7],Mt=this.r[8],At=this.r[9];x>=16;)M=l[w+0]&255|(l[w+1]&255)<<8,Le+=M&8191,j=l[w+2]&255|(l[w+3]&255)<<8,Fe+=(M>>>13|j<<3)&8191,K=l[w+4]&255|(l[w+5]&255)<<8,Pe+=(j>>>10|K<<6)&8191,ue=l[w+6]&255|(l[w+7]&255)<<8,ae+=(K>>>7|ue<<9)&8191,Te=l[w+8]&255|(l[w+9]&255)<<8,ce+=(ue>>>4|Te<<12)&8191,Ae+=Te>>>1&8191,Ue=l[w+10]&255|(l[w+11]&255)<<8,xe+=(Te>>>14|Ue<<2)&8191,Be=l[w+12]&255|(l[w+13]&255)<<8,be+=(Ue>>>11|Be<<5)&8191,pt=l[w+14]&255|(l[w+15]&255)<<8,Re+=(Be>>>8|pt<<8)&8191,et+=pt>>>5|a,Ce=0,Ze=Ce,Ze+=Le*yt,Ze+=Fe*(5*At),Ze+=Pe*(5*Mt),Ze+=ae*(5*St),Ze+=ce*(5*Rt),Ce=Ze>>>13,Ze&=8191,Ze+=Ae*(5*Tt),Ze+=xe*(5*xt),Ze+=be*(5*O),Ze+=Re*(5*wt),Ze+=et*(5*vt),Ce+=Ze>>>13,Ze&=8191,Qe=Ce,Qe+=Le*vt,Qe+=Fe*yt,Qe+=Pe*(5*At),Qe+=ae*(5*Mt),Qe+=ce*(5*St),Ce=Qe>>>13,Qe&=8191,Qe+=Ae*(5*Rt),Qe+=xe*(5*Tt),Qe+=be*(5*xt),Qe+=Re*(5*O),Qe+=et*(5*wt),Ce+=Qe>>>13,Qe&=8191,nt=Ce,nt+=Le*wt,nt+=Fe*vt,nt+=Pe*yt,nt+=ae*(5*At),nt+=ce*(5*Mt),Ce=nt>>>13,nt&=8191,nt+=Ae*(5*St),nt+=xe*(5*Rt),nt+=be*(5*Tt),nt+=Re*(5*xt),nt+=et*(5*O),Ce+=nt>>>13,nt&=8191,dt=Ce,dt+=Le*O,dt+=Fe*wt,dt+=Pe*vt,dt+=ae*yt,dt+=ce*(5*At),Ce=dt>>>13,dt&=8191,dt+=Ae*(5*Mt),dt+=xe*(5*St),dt+=be*(5*Rt),dt+=Re*(5*Tt),dt+=et*(5*xt),Ce+=dt>>>13,dt&=8191,ot=Ce,ot+=Le*xt,ot+=Fe*O,ot+=Pe*wt,ot+=ae*vt,ot+=ce*yt,Ce=ot>>>13,ot&=8191,ot+=Ae*(5*At),ot+=xe*(5*Mt),ot+=be*(5*St),ot+=Re*(5*Rt),ot+=et*(5*Tt),Ce+=ot>>>13,ot&=8191,ct=Ce,ct+=Le*Tt,ct+=Fe*xt,ct+=Pe*O,ct+=ae*wt,ct+=ce*vt,Ce=ct>>>13,ct&=8191,ct+=Ae*yt,ct+=xe*(5*At),ct+=be*(5*Mt),ct+=Re*(5*St),ct+=et*(5*Rt),Ce+=ct>>>13,ct&=8191,st=Ce,st+=Le*Rt,st+=Fe*Tt,st+=Pe*xt,st+=ae*O,st+=ce*wt,Ce=st>>>13,st&=8191,st+=Ae*vt,st+=xe*yt,st+=be*(5*At),st+=Re*(5*Mt),st+=et*(5*St),Ce+=st>>>13,st&=8191,$e=Ce,$e+=Le*St,$e+=Fe*Rt,$e+=Pe*Tt,$e+=ae*xt,$e+=ce*O,Ce=$e>>>13,$e&=8191,$e+=Ae*wt,$e+=xe*vt,$e+=be*yt,$e+=Re*(5*At),$e+=et*(5*Mt),Ce+=$e>>>13,$e&=8191,We=Ce,We+=Le*Mt,We+=Fe*St,We+=Pe*Rt,We+=ae*Tt,We+=ce*xt,Ce=We>>>13,We&=8191,We+=Ae*O,We+=xe*wt,We+=be*vt,We+=Re*yt,We+=et*(5*At),Ce+=We>>>13,We&=8191,Ne=Ce,Ne+=Le*At,Ne+=Fe*Mt,Ne+=Pe*St,Ne+=ae*Rt,Ne+=ce*Tt,Ce=Ne>>>13,Ne&=8191,Ne+=Ae*xt,Ne+=xe*O,Ne+=be*wt,Ne+=Re*vt,Ne+=et*yt,Ce+=Ne>>>13,Ne&=8191,Ce=(Ce<<2)+Ce|0,Ce=Ce+Ze|0,Ze=Ce&8191,Ce=Ce>>>13,Qe+=Ce,Le=Ze,Fe=Qe,Pe=nt,ae=dt,ce=ot,Ae=ct,xe=st,be=$e,Re=We,et=Ne,w+=16,x-=16;this.h[0]=Le,this.h[1]=Fe,this.h[2]=Pe,this.h[3]=ae,this.h[4]=ce,this.h[5]=Ae,this.h[6]=xe,this.h[7]=be,this.h[8]=Re,this.h[9]=et},s.prototype.finish=function(l,w){var x=new Uint16Array(10),a,M,j,K;if(this.leftover){for(K=this.leftover,this.buffer[K++]=1;K<16;K++)this.buffer[K]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(a=this.h[1]>>>13,this.h[1]&=8191,K=2;K<10;K++)this.h[K]+=a,a=this.h[K]>>>13,this.h[K]&=8191;for(this.h[0]+=a*5,a=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=a,a=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=a,x[0]=this.h[0]+5,a=x[0]>>>13,x[0]&=8191,K=1;K<10;K++)x[K]=this.h[K]+a,a=x[K]>>>13,x[K]&=8191;for(x[9]-=8192,M=(a^1)-1,K=0;K<10;K++)x[K]&=M;for(M=~M,K=0;K<10;K++)this.h[K]=this.h[K]&M|x[K];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,j=this.h[0]+this.pad[0],this.h[0]=j&65535,K=1;K<8;K++)j=(this.h[K]+this.pad[K]|0)+(j>>>16)|0,this.h[K]=j&65535;l[w+0]=this.h[0]>>>0&255,l[w+1]=this.h[0]>>>8&255,l[w+2]=this.h[1]>>>0&255,l[w+3]=this.h[1]>>>8&255,l[w+4]=this.h[2]>>>0&255,l[w+5]=this.h[2]>>>8&255,l[w+6]=this.h[3]>>>0&255,l[w+7]=this.h[3]>>>8&255,l[w+8]=this.h[4]>>>0&255,l[w+9]=this.h[4]>>>8&255,l[w+10]=this.h[5]>>>0&255,l[w+11]=this.h[5]>>>8&255,l[w+12]=this.h[6]>>>0&255,l[w+13]=this.h[6]>>>8&255,l[w+14]=this.h[7]>>>0&255,l[w+15]=this.h[7]>>>8&255},s.prototype.update=function(l,w,x){var a,M;if(this.leftover){for(M=16-this.leftover,M>x&&(M=x),a=0;a<M;a++)this.buffer[this.leftover+a]=l[w+a];if(x-=M,w+=M,this.leftover+=M,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(x>=16&&(M=x-x%16,this.blocks(l,w,M),w+=M,x-=M),x){for(a=0;a<x;a++)this.buffer[this.leftover+a]=l[w+a];this.leftover+=x}};function u(l,w,x,a,M,j){var K=new s(j);return K.update(x,a,M),K.finish(l,w),0}function d(l,w,x,a,M,j){var K=new Uint8Array(16);return u(K,0,x,a,M,j),k(l,w,K,0)}function S(l,w,x,a,M){var j;if(x<32)return-1;for(y(l,0,w,0,x,a,M),u(l,16,l,32,x-32,l),j=0;j<16;j++)l[j]=0;return 0}function A(l,w,x,a,M){var j,K=new Uint8Array(32);if(x<32||(me(K,0,32,a,M),d(w,16,w,32,x-32,K)!==0))return-1;for(y(l,0,w,0,x,a,M),j=0;j<32;j++)l[j]=0;return 0}function _(l,w){var x;for(x=0;x<16;x++)l[x]=w[x]|0}function L(l){var w,x,a=1;for(w=0;w<16;w++)x=l[w]+a+65535,a=Math.floor(x/65536),l[w]=x-a*65536;l[0]+=a-1+37*(a-1)}function I(l,w,x){for(var a,M=~(x-1),j=0;j<16;j++)a=M&(l[j]^w[j]),l[j]^=a,w[j]^=a}function c(l,w){var x,a,M,j=t(),K=t();for(x=0;x<16;x++)K[x]=w[x];for(L(K),L(K),L(K),a=0;a<2;a++){for(j[0]=K[0]-65517,x=1;x<15;x++)j[x]=K[x]-65535-(j[x-1]>>16&1),j[x-1]&=65535;j[15]=K[15]-32767-(j[14]>>16&1),M=j[15]>>16&1,j[14]&=65535,I(K,j,1-M)}for(x=0;x<16;x++)l[2*x]=K[x]&255,l[2*x+1]=K[x]>>8}function T(l,w){var x=new Uint8Array(32),a=new Uint8Array(32);return c(x,l),c(a,w),P(x,0,a,0)}function Ie(l){var w=new Uint8Array(32);return c(w,l),w[0]&1}function ye(l,w){var x;for(x=0;x<16;x++)l[x]=w[2*x]+(w[2*x+1]<<8);l[15]&=32767}function pe(l,w,x){for(var a=0;a<16;a++)l[a]=w[a]+x[a]}function ee(l,w,x){for(var a=0;a<16;a++)l[a]=w[a]-x[a]}function g(l,w,x){var a,M,j=0,K=0,ue=0,Te=0,Ue=0,Be=0,pt=0,Ce=0,Ze=0,Qe=0,nt=0,dt=0,ot=0,ct=0,st=0,$e=0,We=0,Ne=0,Le=0,Fe=0,Pe=0,ae=0,ce=0,Ae=0,xe=0,be=0,Re=0,et=0,yt=0,vt=0,wt=0,O=x[0],xt=x[1],Tt=x[2],Rt=x[3],St=x[4],Mt=x[5],At=x[6],jt=x[7],Ot=x[8],Gt=x[9],Kt=x[10],Wt=x[11],Zt=x[12],on=x[13],sn=x[14],an=x[15];a=w[0],j+=a*O,K+=a*xt,ue+=a*Tt,Te+=a*Rt,Ue+=a*St,Be+=a*Mt,pt+=a*At,Ce+=a*jt,Ze+=a*Ot,Qe+=a*Gt,nt+=a*Kt,dt+=a*Wt,ot+=a*Zt,ct+=a*on,st+=a*sn,$e+=a*an,a=w[1],K+=a*O,ue+=a*xt,Te+=a*Tt,Ue+=a*Rt,Be+=a*St,pt+=a*Mt,Ce+=a*At,Ze+=a*jt,Qe+=a*Ot,nt+=a*Gt,dt+=a*Kt,ot+=a*Wt,ct+=a*Zt,st+=a*on,$e+=a*sn,We+=a*an,a=w[2],ue+=a*O,Te+=a*xt,Ue+=a*Tt,Be+=a*Rt,pt+=a*St,Ce+=a*Mt,Ze+=a*At,Qe+=a*jt,nt+=a*Ot,dt+=a*Gt,ot+=a*Kt,ct+=a*Wt,st+=a*Zt,$e+=a*on,We+=a*sn,Ne+=a*an,a=w[3],Te+=a*O,Ue+=a*xt,Be+=a*Tt,pt+=a*Rt,Ce+=a*St,Ze+=a*Mt,Qe+=a*At,nt+=a*jt,dt+=a*Ot,ot+=a*Gt,ct+=a*Kt,st+=a*Wt,$e+=a*Zt,We+=a*on,Ne+=a*sn,Le+=a*an,a=w[4],Ue+=a*O,Be+=a*xt,pt+=a*Tt,Ce+=a*Rt,Ze+=a*St,Qe+=a*Mt,nt+=a*At,dt+=a*jt,ot+=a*Ot,ct+=a*Gt,st+=a*Kt,$e+=a*Wt,We+=a*Zt,Ne+=a*on,Le+=a*sn,Fe+=a*an,a=w[5],Be+=a*O,pt+=a*xt,Ce+=a*Tt,Ze+=a*Rt,Qe+=a*St,nt+=a*Mt,dt+=a*At,ot+=a*jt,ct+=a*Ot,st+=a*Gt,$e+=a*Kt,We+=a*Wt,Ne+=a*Zt,Le+=a*on,Fe+=a*sn,Pe+=a*an,a=w[6],pt+=a*O,Ce+=a*xt,Ze+=a*Tt,Qe+=a*Rt,nt+=a*St,dt+=a*Mt,ot+=a*At,ct+=a*jt,st+=a*Ot,$e+=a*Gt,We+=a*Kt,Ne+=a*Wt,Le+=a*Zt,Fe+=a*on,Pe+=a*sn,ae+=a*an,a=w[7],Ce+=a*O,Ze+=a*xt,Qe+=a*Tt,nt+=a*Rt,dt+=a*St,ot+=a*Mt,ct+=a*At,st+=a*jt,$e+=a*Ot,We+=a*Gt,Ne+=a*Kt,Le+=a*Wt,Fe+=a*Zt,Pe+=a*on,ae+=a*sn,ce+=a*an,a=w[8],Ze+=a*O,Qe+=a*xt,nt+=a*Tt,dt+=a*Rt,ot+=a*St,ct+=a*Mt,st+=a*At,$e+=a*jt,We+=a*Ot,Ne+=a*Gt,Le+=a*Kt,Fe+=a*Wt,Pe+=a*Zt,ae+=a*on,ce+=a*sn,Ae+=a*an,a=w[9],Qe+=a*O,nt+=a*xt,dt+=a*Tt,ot+=a*Rt,ct+=a*St,st+=a*Mt,$e+=a*At,We+=a*jt,Ne+=a*Ot,Le+=a*Gt,Fe+=a*Kt,Pe+=a*Wt,ae+=a*Zt,ce+=a*on,Ae+=a*sn,xe+=a*an,a=w[10],nt+=a*O,dt+=a*xt,ot+=a*Tt,ct+=a*Rt,st+=a*St,$e+=a*Mt,We+=a*At,Ne+=a*jt,Le+=a*Ot,Fe+=a*Gt,Pe+=a*Kt,ae+=a*Wt,ce+=a*Zt,Ae+=a*on,xe+=a*sn,be+=a*an,a=w[11],dt+=a*O,ot+=a*xt,ct+=a*Tt,st+=a*Rt,$e+=a*St,We+=a*Mt,Ne+=a*At,Le+=a*jt,Fe+=a*Ot,Pe+=a*Gt,ae+=a*Kt,ce+=a*Wt,Ae+=a*Zt,xe+=a*on,be+=a*sn,Re+=a*an,a=w[12],ot+=a*O,ct+=a*xt,st+=a*Tt,$e+=a*Rt,We+=a*St,Ne+=a*Mt,Le+=a*At,Fe+=a*jt,Pe+=a*Ot,ae+=a*Gt,ce+=a*Kt,Ae+=a*Wt,xe+=a*Zt,be+=a*on,Re+=a*sn,et+=a*an,a=w[13],ct+=a*O,st+=a*xt,$e+=a*Tt,We+=a*Rt,Ne+=a*St,Le+=a*Mt,Fe+=a*At,Pe+=a*jt,ae+=a*Ot,ce+=a*Gt,Ae+=a*Kt,xe+=a*Wt,be+=a*Zt,Re+=a*on,et+=a*sn,yt+=a*an,a=w[14],st+=a*O,$e+=a*xt,We+=a*Tt,Ne+=a*Rt,Le+=a*St,Fe+=a*Mt,Pe+=a*At,ae+=a*jt,ce+=a*Ot,Ae+=a*Gt,xe+=a*Kt,be+=a*Wt,Re+=a*Zt,et+=a*on,yt+=a*sn,vt+=a*an,a=w[15],$e+=a*O,We+=a*xt,Ne+=a*Tt,Le+=a*Rt,Fe+=a*St,Pe+=a*Mt,ae+=a*At,ce+=a*jt,Ae+=a*Ot,xe+=a*Gt,be+=a*Kt,Re+=a*Wt,et+=a*Zt,yt+=a*on,vt+=a*sn,wt+=a*an,j+=38*We,K+=38*Ne,ue+=38*Le,Te+=38*Fe,Ue+=38*Pe,Be+=38*ae,pt+=38*ce,Ce+=38*Ae,Ze+=38*xe,Qe+=38*be,nt+=38*Re,dt+=38*et,ot+=38*yt,ct+=38*vt,st+=38*wt,M=1,a=j+M+65535,M=Math.floor(a/65536),j=a-M*65536,a=K+M+65535,M=Math.floor(a/65536),K=a-M*65536,a=ue+M+65535,M=Math.floor(a/65536),ue=a-M*65536,a=Te+M+65535,M=Math.floor(a/65536),Te=a-M*65536,a=Ue+M+65535,M=Math.floor(a/65536),Ue=a-M*65536,a=Be+M+65535,M=Math.floor(a/65536),Be=a-M*65536,a=pt+M+65535,M=Math.floor(a/65536),pt=a-M*65536,a=Ce+M+65535,M=Math.floor(a/65536),Ce=a-M*65536,a=Ze+M+65535,M=Math.floor(a/65536),Ze=a-M*65536,a=Qe+M+65535,M=Math.floor(a/65536),Qe=a-M*65536,a=nt+M+65535,M=Math.floor(a/65536),nt=a-M*65536,a=dt+M+65535,M=Math.floor(a/65536),dt=a-M*65536,a=ot+M+65535,M=Math.floor(a/65536),ot=a-M*65536,a=ct+M+65535,M=Math.floor(a/65536),ct=a-M*65536,a=st+M+65535,M=Math.floor(a/65536),st=a-M*65536,a=$e+M+65535,M=Math.floor(a/65536),$e=a-M*65536,j+=M-1+37*(M-1),M=1,a=j+M+65535,M=Math.floor(a/65536),j=a-M*65536,a=K+M+65535,M=Math.floor(a/65536),K=a-M*65536,a=ue+M+65535,M=Math.floor(a/65536),ue=a-M*65536,a=Te+M+65535,M=Math.floor(a/65536),Te=a-M*65536,a=Ue+M+65535,M=Math.floor(a/65536),Ue=a-M*65536,a=Be+M+65535,M=Math.floor(a/65536),Be=a-M*65536,a=pt+M+65535,M=Math.floor(a/65536),pt=a-M*65536,a=Ce+M+65535,M=Math.floor(a/65536),Ce=a-M*65536,a=Ze+M+65535,M=Math.floor(a/65536),Ze=a-M*65536,a=Qe+M+65535,M=Math.floor(a/65536),Qe=a-M*65536,a=nt+M+65535,M=Math.floor(a/65536),nt=a-M*65536,a=dt+M+65535,M=Math.floor(a/65536),dt=a-M*65536,a=ot+M+65535,M=Math.floor(a/65536),ot=a-M*65536,a=ct+M+65535,M=Math.floor(a/65536),ct=a-M*65536,a=st+M+65535,M=Math.floor(a/65536),st=a-M*65536,a=$e+M+65535,M=Math.floor(a/65536),$e=a-M*65536,j+=M-1+37*(M-1),l[0]=j,l[1]=K,l[2]=ue,l[3]=Te,l[4]=Ue,l[5]=Be,l[6]=pt,l[7]=Ce,l[8]=Ze,l[9]=Qe,l[10]=nt,l[11]=dt,l[12]=ot,l[13]=ct,l[14]=st,l[15]=$e}function re(l,w){g(l,w,w)}function we(l,w){var x=t(),a;for(a=0;a<16;a++)x[a]=w[a];for(a=253;a>=0;a--)re(x,x),a!==2&&a!==4&&g(x,x,w);for(a=0;a<16;a++)l[a]=x[a]}function F(l,w){var x=t(),a;for(a=0;a<16;a++)x[a]=w[a];for(a=250;a>=0;a--)re(x,x),a!==1&&g(x,x,w);for(a=0;a<16;a++)l[a]=x[a]}function X(l,w,x){var a=new Uint8Array(32),M=new Float64Array(80),j,K,ue=t(),Te=t(),Ue=t(),Be=t(),pt=t(),Ce=t();for(K=0;K<31;K++)a[K]=w[K];for(a[31]=w[31]&127|64,a[0]&=248,ye(M,x),K=0;K<16;K++)Te[K]=M[K],Be[K]=ue[K]=Ue[K]=0;for(ue[0]=Be[0]=1,K=254;K>=0;--K)j=a[K>>>3]>>>(K&7)&1,I(ue,Te,j),I(Ue,Be,j),pe(pt,ue,Ue),ee(ue,ue,Ue),pe(Ue,Te,Be),ee(Te,Te,Be),re(Be,pt),re(Ce,ue),g(ue,Ue,ue),g(Ue,Te,pt),pe(pt,ue,Ue),ee(ue,ue,Ue),re(Te,ue),ee(Ue,Be,Ce),g(ue,Ue,V),pe(ue,ue,Be),g(Ue,Ue,ue),g(ue,Be,Ce),g(Be,Te,M),re(Te,pt),I(ue,Te,j),I(Ue,Be,j);for(K=0;K<16;K++)M[K+16]=ue[K],M[K+32]=Ue[K],M[K+48]=Te[K],M[K+64]=Be[K];var Ze=M.subarray(32),Qe=M.subarray(16);return we(Ze,Ze),g(Qe,Qe,Ze),c(l,Qe),0}function m(l,w){return X(l,w,o)}function E(l,w){return r(w,32),m(l,w)}function R(l,w,x){var a=new Uint8Array(32);return X(a,x,w),ve(l,i,a,D)}var W=S,B=A;function $(l,w,x,a,M,j){var K=new Uint8Array(32);return R(K,M,j),W(l,w,x,a,K)}function ie(l,w,x,a,M,j){var K=new Uint8Array(32);return R(K,M,j),B(l,w,x,a,K)}var U=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function q(l,w,x,a){for(var M=new Int32Array(16),j=new Int32Array(16),K,ue,Te,Ue,Be,pt,Ce,Ze,Qe,nt,dt,ot,ct,st,$e,We,Ne,Le,Fe,Pe,ae,ce,Ae,xe,be,Re,et=l[0],yt=l[1],vt=l[2],wt=l[3],O=l[4],xt=l[5],Tt=l[6],Rt=l[7],St=w[0],Mt=w[1],At=w[2],jt=w[3],Ot=w[4],Gt=w[5],Kt=w[6],Wt=w[7],Zt=0;a>=128;){for(Fe=0;Fe<16;Fe++)Pe=8*Fe+Zt,M[Fe]=x[Pe+0]<<24|x[Pe+1]<<16|x[Pe+2]<<8|x[Pe+3],j[Fe]=x[Pe+4]<<24|x[Pe+5]<<16|x[Pe+6]<<8|x[Pe+7];for(Fe=0;Fe<80;Fe++)if(K=et,ue=yt,Te=vt,Ue=wt,Be=O,pt=xt,Ce=Tt,Ze=Rt,Qe=St,nt=Mt,dt=At,ot=jt,ct=Ot,st=Gt,$e=Kt,We=Wt,ae=Rt,ce=Wt,Ae=ce&65535,xe=ce>>>16,be=ae&65535,Re=ae>>>16,ae=(O>>>14|Ot<<18)^(O>>>18|Ot<<14)^(Ot>>>9|O<<23),ce=(Ot>>>14|O<<18)^(Ot>>>18|O<<14)^(O>>>9|Ot<<23),Ae+=ce&65535,xe+=ce>>>16,be+=ae&65535,Re+=ae>>>16,ae=O&xt^~O&Tt,ce=Ot&Gt^~Ot&Kt,Ae+=ce&65535,xe+=ce>>>16,be+=ae&65535,Re+=ae>>>16,ae=U[Fe*2],ce=U[Fe*2+1],Ae+=ce&65535,xe+=ce>>>16,be+=ae&65535,Re+=ae>>>16,ae=M[Fe%16],ce=j[Fe%16],Ae+=ce&65535,xe+=ce>>>16,be+=ae&65535,Re+=ae>>>16,xe+=Ae>>>16,be+=xe>>>16,Re+=be>>>16,Ne=be&65535|Re<<16,Le=Ae&65535|xe<<16,ae=Ne,ce=Le,Ae=ce&65535,xe=ce>>>16,be=ae&65535,Re=ae>>>16,ae=(et>>>28|St<<4)^(St>>>2|et<<30)^(St>>>7|et<<25),ce=(St>>>28|et<<4)^(et>>>2|St<<30)^(et>>>7|St<<25),Ae+=ce&65535,xe+=ce>>>16,be+=ae&65535,Re+=ae>>>16,ae=et&yt^et&vt^yt&vt,ce=St&Mt^St&At^Mt&At,Ae+=ce&65535,xe+=ce>>>16,be+=ae&65535,Re+=ae>>>16,xe+=Ae>>>16,be+=xe>>>16,Re+=be>>>16,Ze=be&65535|Re<<16,We=Ae&65535|xe<<16,ae=Ue,ce=ot,Ae=ce&65535,xe=ce>>>16,be=ae&65535,Re=ae>>>16,ae=Ne,ce=Le,Ae+=ce&65535,xe+=ce>>>16,be+=ae&65535,Re+=ae>>>16,xe+=Ae>>>16,be+=xe>>>16,Re+=be>>>16,Ue=be&65535|Re<<16,ot=Ae&65535|xe<<16,yt=K,vt=ue,wt=Te,O=Ue,xt=Be,Tt=pt,Rt=Ce,et=Ze,Mt=Qe,At=nt,jt=dt,Ot=ot,Gt=ct,Kt=st,Wt=$e,St=We,Fe%16===15)for(Pe=0;Pe<16;Pe++)ae=M[Pe],ce=j[Pe],Ae=ce&65535,xe=ce>>>16,be=ae&65535,Re=ae>>>16,ae=M[(Pe+9)%16],ce=j[(Pe+9)%16],Ae+=ce&65535,xe+=ce>>>16,be+=ae&65535,Re+=ae>>>16,Ne=M[(Pe+1)%16],Le=j[(Pe+1)%16],ae=(Ne>>>1|Le<<31)^(Ne>>>8|Le<<24)^Ne>>>7,ce=(Le>>>1|Ne<<31)^(Le>>>8|Ne<<24)^(Le>>>7|Ne<<25),Ae+=ce&65535,xe+=ce>>>16,be+=ae&65535,Re+=ae>>>16,Ne=M[(Pe+14)%16],Le=j[(Pe+14)%16],ae=(Ne>>>19|Le<<13)^(Le>>>29|Ne<<3)^Ne>>>6,ce=(Le>>>19|Ne<<13)^(Ne>>>29|Le<<3)^(Le>>>6|Ne<<26),Ae+=ce&65535,xe+=ce>>>16,be+=ae&65535,Re+=ae>>>16,xe+=Ae>>>16,be+=xe>>>16,Re+=be>>>16,M[Pe]=be&65535|Re<<16,j[Pe]=Ae&65535|xe<<16;ae=et,ce=St,Ae=ce&65535,xe=ce>>>16,be=ae&65535,Re=ae>>>16,ae=l[0],ce=w[0],Ae+=ce&65535,xe+=ce>>>16,be+=ae&65535,Re+=ae>>>16,xe+=Ae>>>16,be+=xe>>>16,Re+=be>>>16,l[0]=et=be&65535|Re<<16,w[0]=St=Ae&65535|xe<<16,ae=yt,ce=Mt,Ae=ce&65535,xe=ce>>>16,be=ae&65535,Re=ae>>>16,ae=l[1],ce=w[1],Ae+=ce&65535,xe+=ce>>>16,be+=ae&65535,Re+=ae>>>16,xe+=Ae>>>16,be+=xe>>>16,Re+=be>>>16,l[1]=yt=be&65535|Re<<16,w[1]=Mt=Ae&65535|xe<<16,ae=vt,ce=At,Ae=ce&65535,xe=ce>>>16,be=ae&65535,Re=ae>>>16,ae=l[2],ce=w[2],Ae+=ce&65535,xe+=ce>>>16,be+=ae&65535,Re+=ae>>>16,xe+=Ae>>>16,be+=xe>>>16,Re+=be>>>16,l[2]=vt=be&65535|Re<<16,w[2]=At=Ae&65535|xe<<16,ae=wt,ce=jt,Ae=ce&65535,xe=ce>>>16,be=ae&65535,Re=ae>>>16,ae=l[3],ce=w[3],Ae+=ce&65535,xe+=ce>>>16,be+=ae&65535,Re+=ae>>>16,xe+=Ae>>>16,be+=xe>>>16,Re+=be>>>16,l[3]=wt=be&65535|Re<<16,w[3]=jt=Ae&65535|xe<<16,ae=O,ce=Ot,Ae=ce&65535,xe=ce>>>16,be=ae&65535,Re=ae>>>16,ae=l[4],ce=w[4],Ae+=ce&65535,xe+=ce>>>16,be+=ae&65535,Re+=ae>>>16,xe+=Ae>>>16,be+=xe>>>16,Re+=be>>>16,l[4]=O=be&65535|Re<<16,w[4]=Ot=Ae&65535|xe<<16,ae=xt,ce=Gt,Ae=ce&65535,xe=ce>>>16,be=ae&65535,Re=ae>>>16,ae=l[5],ce=w[5],Ae+=ce&65535,xe+=ce>>>16,be+=ae&65535,Re+=ae>>>16,xe+=Ae>>>16,be+=xe>>>16,Re+=be>>>16,l[5]=xt=be&65535|Re<<16,w[5]=Gt=Ae&65535|xe<<16,ae=Tt,ce=Kt,Ae=ce&65535,xe=ce>>>16,be=ae&65535,Re=ae>>>16,ae=l[6],ce=w[6],Ae+=ce&65535,xe+=ce>>>16,be+=ae&65535,Re+=ae>>>16,xe+=Ae>>>16,be+=xe>>>16,Re+=be>>>16,l[6]=Tt=be&65535|Re<<16,w[6]=Kt=Ae&65535|xe<<16,ae=Rt,ce=Wt,Ae=ce&65535,xe=ce>>>16,be=ae&65535,Re=ae>>>16,ae=l[7],ce=w[7],Ae+=ce&65535,xe+=ce>>>16,be+=ae&65535,Re+=ae>>>16,xe+=Ae>>>16,be+=xe>>>16,Re+=be>>>16,l[7]=Rt=be&65535|Re<<16,w[7]=Wt=Ae&65535|xe<<16,Zt+=128,a-=128}return a}function te(l,w,x){var a=new Int32Array(8),M=new Int32Array(8),j=new Uint8Array(256),K,ue=x;for(a[0]=1779033703,a[1]=3144134277,a[2]=1013904242,a[3]=2773480762,a[4]=1359893119,a[5]=2600822924,a[6]=528734635,a[7]=1541459225,M[0]=4089235720,M[1]=2227873595,M[2]=4271175723,M[3]=1595750129,M[4]=2917565137,M[5]=725511199,M[6]=4215389547,M[7]=327033209,q(a,M,w,x),x%=128,K=0;K<x;K++)j[K]=w[ue-x+K];for(j[x]=128,x=256-128*(x<112?1:0),j[x-9]=0,ne(j,x-8,ue/536870912|0,ue<<3),q(a,M,j,x),K=0;K<8;K++)ne(l,8*K,a[K],M[K]);return 0}function H(l,w){var x=t(),a=t(),M=t(),j=t(),K=t(),ue=t(),Te=t(),Ue=t(),Be=t();ee(x,l[1],l[0]),ee(Be,w[1],w[0]),g(x,x,Be),pe(a,l[0],l[1]),pe(Be,w[0],w[1]),g(a,a,Be),g(M,l[3],w[3]),g(M,M,C),g(j,l[2],w[2]),pe(j,j,j),ee(K,a,x),ee(ue,j,M),pe(Te,j,M),pe(Ue,a,x),g(l[0],K,ue),g(l[1],Ue,Te),g(l[2],Te,ue),g(l[3],K,Ue)}function se(l,w,x){var a;for(a=0;a<4;a++)I(l[a],w[a],x)}function Se(l,w){var x=t(),a=t(),M=t();we(M,w[2]),g(x,w[0],M),g(a,w[1],M),c(l,a),l[31]^=Ie(x)<<7}function ge(l,w,x){var a,M;for(_(l[0],h),_(l[1],v),_(l[2],v),_(l[3],h),M=255;M>=0;--M)a=x[M/8|0]>>(M&7)&1,se(l,w,a),H(w,l),H(l,l),se(l,w,a)}function Ve(l,w){var x=[t(),t(),t(),t()];_(x[0],J),_(x[1],Z),_(x[2],v),g(x[3],J,Z),ge(l,x,w)}function He(l,w,x){var a=new Uint8Array(64),M=[t(),t(),t(),t()],j;for(x||r(w,32),te(a,w,32),a[0]&=248,a[31]&=127,a[31]|=64,Ve(M,a),Se(l,M),j=0;j<32;j++)w[j+32]=l[j];return 0}var qe=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Oe(l,w){var x,a,M,j;for(a=63;a>=32;--a){for(x=0,M=a-32,j=a-12;M<j;++M)w[M]+=x-16*w[a]*qe[M-(a-32)],x=Math.floor((w[M]+128)/256),w[M]-=x*256;w[M]+=x,w[a]=0}for(x=0,M=0;M<32;M++)w[M]+=x-(w[31]>>4)*qe[M],x=w[M]>>8,w[M]&=255;for(M=0;M<32;M++)w[M]-=x*qe[M];for(a=0;a<32;a++)w[a+1]+=w[a]>>8,l[a]=w[a]&255}function Xe(l){var w=new Float64Array(64),x;for(x=0;x<64;x++)w[x]=l[x];for(x=0;x<64;x++)l[x]=0;Oe(l,w)}function Ge(l,w,x,a){var M=new Uint8Array(64),j=new Uint8Array(64),K=new Uint8Array(64),ue,Te,Ue=new Float64Array(64),Be=[t(),t(),t(),t()];te(M,a,32),M[0]&=248,M[31]&=127,M[31]|=64;var pt=x+64;for(ue=0;ue<x;ue++)l[64+ue]=w[ue];for(ue=0;ue<32;ue++)l[32+ue]=M[32+ue];for(te(K,l.subarray(32),x+32),Xe(K),Ve(Be,K),Se(l,Be),ue=32;ue<64;ue++)l[ue]=a[ue];for(te(j,l,x+64),Xe(j),ue=0;ue<64;ue++)Ue[ue]=0;for(ue=0;ue<32;ue++)Ue[ue]=K[ue];for(ue=0;ue<32;ue++)for(Te=0;Te<32;Te++)Ue[ue+Te]+=j[ue]*M[Te];return Oe(l.subarray(32),Ue),pt}function at(l,w){var x=t(),a=t(),M=t(),j=t(),K=t(),ue=t(),Te=t();return _(l[2],v),ye(l[1],w),re(M,l[1]),g(j,M,p),ee(M,M,l[2]),pe(j,l[2],j),re(K,j),re(ue,K),g(Te,ue,K),g(x,Te,M),g(x,x,j),F(x,x),g(x,x,M),g(x,x,j),g(x,x,j),g(l[0],x,j),re(a,l[0]),g(a,a,j),T(a,M)&&g(l[0],l[0],he),re(a,l[0]),g(a,a,j),T(a,M)?-1:(Ie(l[0])===w[31]>>7&&ee(l[0],h,l[0]),g(l[3],l[0],l[1]),0)}function Vt(l,w,x,a){var M,j=new Uint8Array(32),K=new Uint8Array(64),ue=[t(),t(),t(),t()],Te=[t(),t(),t(),t()];if(x<64||at(Te,a))return-1;for(M=0;M<x;M++)l[M]=w[M];for(M=0;M<32;M++)l[M+32]=a[M];if(te(K,l,x),Xe(K),ge(ue,Te,K),Ve(Te,w.subarray(32)),H(ue,Te),Se(j,ue),x-=64,P(w,0,j,0)){for(M=0;M<x;M++)l[M]=0;return-1}for(M=0;M<x;M++)l[M]=w[M+64];return x}var it=32,Je=24,bt=32,Ke=16,ze=32,tt=32,ut=32,lt=32,Ut=32,gt=Je,mt=bt,qt=Ke,kt=64,It=32,fn=64,Bt=32,Pt=64;e.lowlevel={crypto_core_hsalsa20:ve,crypto_stream_xor:y,crypto_stream:me,crypto_stream_salsa20_xor:Q,crypto_stream_salsa20:Y,crypto_onetimeauth:u,crypto_onetimeauth_verify:d,crypto_verify_16:k,crypto_verify_32:P,crypto_secretbox:S,crypto_secretbox_open:A,crypto_scalarmult:X,crypto_scalarmult_base:m,crypto_box_beforenm:R,crypto_box_afternm:W,crypto_box:$,crypto_box_open:ie,crypto_box_keypair:E,crypto_hash:te,crypto_sign:Ge,crypto_sign_keypair:He,crypto_sign_open:Vt,crypto_secretbox_KEYBYTES:it,crypto_secretbox_NONCEBYTES:Je,crypto_secretbox_ZEROBYTES:bt,crypto_secretbox_BOXZEROBYTES:Ke,crypto_scalarmult_BYTES:ze,crypto_scalarmult_SCALARBYTES:tt,crypto_box_PUBLICKEYBYTES:ut,crypto_box_SECRETKEYBYTES:lt,crypto_box_BEFORENMBYTES:Ut,crypto_box_NONCEBYTES:gt,crypto_box_ZEROBYTES:mt,crypto_box_BOXZEROBYTES:qt,crypto_sign_BYTES:kt,crypto_sign_PUBLICKEYBYTES:It,crypto_sign_SECRETKEYBYTES:fn,crypto_sign_SEEDBYTES:Bt,crypto_hash_BYTES:Pt,gf:t,D:p,L:qe,pack25519:c,unpack25519:ye,M:g,A:pe,S:re,Z:ee,pow2523:F,add:H,set25519:_,modL:Oe,scalarmult:ge,scalarbase:Ve};function An(l,w){if(l.length!==it)throw new Error("bad key size");if(w.length!==Je)throw new Error("bad nonce size")}function $t(l,w){if(l.length!==ut)throw new Error("bad public key size");if(w.length!==lt)throw new Error("bad secret key size")}function Et(){for(var l=0;l<arguments.length;l++)if(!(arguments[l]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Dn(l){for(var w=0;w<l.length;w++)l[w]=0}e.randomBytes=function(l){var w=new Uint8Array(l);return r(w,l),w},e.secretbox=function(l,w,x){Et(l,w,x),An(x,w);for(var a=new Uint8Array(bt+l.length),M=new Uint8Array(a.length),j=0;j<l.length;j++)a[j+bt]=l[j];return S(M,a,a.length,w,x),M.subarray(Ke)},e.secretbox.open=function(l,w,x){Et(l,w,x),An(x,w);for(var a=new Uint8Array(Ke+l.length),M=new Uint8Array(a.length),j=0;j<l.length;j++)a[j+Ke]=l[j];return a.length<32||A(M,a,a.length,w,x)!==0?null:M.subarray(bt)},e.secretbox.keyLength=it,e.secretbox.nonceLength=Je,e.secretbox.overheadLength=Ke,e.scalarMult=function(l,w){if(Et(l,w),l.length!==tt)throw new Error("bad n size");if(w.length!==ze)throw new Error("bad p size");var x=new Uint8Array(ze);return X(x,l,w),x},e.scalarMult.base=function(l){if(Et(l),l.length!==tt)throw new Error("bad n size");var w=new Uint8Array(ze);return m(w,l),w},e.scalarMult.scalarLength=tt,e.scalarMult.groupElementLength=ze,e.box=function(l,w,x,a){var M=e.box.before(x,a);return e.secretbox(l,w,M)},e.box.before=function(l,w){Et(l,w),$t(l,w);var x=new Uint8Array(Ut);return R(x,l,w),x},e.box.after=e.secretbox,e.box.open=function(l,w,x,a){var M=e.box.before(x,a);return e.secretbox.open(l,w,M)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var l=new Uint8Array(ut),w=new Uint8Array(lt);return E(l,w),{publicKey:l,secretKey:w}},e.box.keyPair.fromSecretKey=function(l){if(Et(l),l.length!==lt)throw new Error("bad secret key size");var w=new Uint8Array(ut);return m(w,l),{publicKey:w,secretKey:new Uint8Array(l)}},e.box.publicKeyLength=ut,e.box.secretKeyLength=lt,e.box.sharedKeyLength=Ut,e.box.nonceLength=gt,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(l,w){if(Et(l,w),w.length!==fn)throw new Error("bad secret key size");var x=new Uint8Array(kt+l.length);return Ge(x,l,l.length,w),x},e.sign.open=function(l,w){if(Et(l,w),w.length!==It)throw new Error("bad public key size");var x=new Uint8Array(l.length),a=Vt(x,l,l.length,w);if(a<0)return null;for(var M=new Uint8Array(a),j=0;j<M.length;j++)M[j]=x[j];return M},e.sign.detached=function(l,w){for(var x=e.sign(l,w),a=new Uint8Array(kt),M=0;M<a.length;M++)a[M]=x[M];return a},e.sign.detached.verify=function(l,w,x){if(Et(l,w,x),w.length!==kt)throw new Error("bad signature size");if(x.length!==It)throw new Error("bad public key size");var a=new Uint8Array(kt+l.length),M=new Uint8Array(kt+l.length),j;for(j=0;j<kt;j++)a[j]=w[j];for(j=0;j<l.length;j++)a[j+kt]=l[j];return Vt(M,a,a.length,x)>=0},e.sign.keyPair=function(){var l=new Uint8Array(It),w=new Uint8Array(fn);return He(l,w),{publicKey:l,secretKey:w}},e.sign.keyPair.fromSecretKey=function(l){if(Et(l),l.length!==fn)throw new Error("bad secret key size");for(var w=new Uint8Array(It),x=0;x<w.length;x++)w[x]=l[32+x];return{publicKey:w,secretKey:new Uint8Array(l)}},e.sign.keyPair.fromSeed=function(l){if(Et(l),l.length!==Bt)throw new Error("bad seed size");for(var w=new Uint8Array(It),x=new Uint8Array(fn),a=0;a<32;a++)x[a]=l[a];return He(w,x,!0),{publicKey:w,secretKey:x}},e.sign.publicKeyLength=It,e.sign.secretKeyLength=fn,e.sign.seedLength=Bt,e.sign.signatureLength=kt,e.hash=function(l){Et(l);var w=new Uint8Array(Pt);return te(w,l,l.length),w},e.hash.hashLength=Pt,e.verify=function(l,w){return Et(l,w),l.length===0||w.length===0||l.length!==w.length?!1:le(l,0,w,0,l.length)===0},e.setPRNG=function(l){r=l},function(){var l=typeof self<"u"?self.crypto||self.msCrypto:null;if(l&&l.getRandomValues){var w=65536;e.setPRNG(function(x,a){var M,j=new Uint8Array(a);for(M=0;M<a;M+=w)l.getRandomValues(j.subarray(M,M+Math.min(a-M,w)));for(M=0;M<a;M++)x[M]=j[M];Dn(j)})}else typeof ju<"u"&&(l=gh,l&&l.randomBytes&&e.setPRNG(function(x,a){var M,j=l.randomBytes(a);for(M=0;M<a;M++)x[M]=j[M];Dn(j)}))}()})(n.exports?n.exports:self.nacl=self.nacl||{})})(Fh);var gf=Fh.exports;const Un=xo(gf);var qh={exports:{}};/*
 * [js-sha512]{@link https://github.com/emn178/js-sha512}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2018
 * @license MIT
 */(function(n){(function(){var e="input is invalid type",t="finalize already called",r=typeof window=="object",i=r?window:{};i.JS_SHA512_NO_WINDOW&&(r=!1);var o=!r&&typeof self=="object",h=!i.JS_SHA512_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;h?i=globalThis:o&&(i=self);var v=!i.JS_SHA512_NO_COMMON_JS&&!0&&n.exports,V=!i.JS_SHA512_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",p="0123456789abcdef".split(""),C=[-2147483648,8388608,32768,128],J=[24,16,8,0],Z=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],he=["hex","array","digest","arrayBuffer"],ne=[];(i.JS_SHA512_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(D){return Object.prototype.toString.call(D)==="[object Array]"}),V&&(i.JS_SHA512_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(D){return typeof D=="object"&&D.buffer&&D.buffer.constructor===ArrayBuffer});var le=function(D,Q){return function(Y){return new G(Q,!0).update(Y)[D]()}},k=function(D){var Q=le("hex",D);Q.create=function(){return new G(D)},Q.update=function(y){return Q.create().update(y)};for(var Y=0;Y<he.length;++Y){var me=he[Y];Q[me]=le(me,D)}return Q},P=function(D,Q){return function(Y,me){return new fe(Y,Q,!0).update(me)[D]()}},N=function(D){var Q=P("hex",D);Q.create=function(y){return new fe(y,D)},Q.update=function(y,s){return Q.create(y).update(s)};for(var Y=0;Y<he.length;++Y){var me=he[Y];Q[me]=P(me,D)}return Q};function G(D,Q){Q?(ne[0]=ne[1]=ne[2]=ne[3]=ne[4]=ne[5]=ne[6]=ne[7]=ne[8]=ne[9]=ne[10]=ne[11]=ne[12]=ne[13]=ne[14]=ne[15]=ne[16]=ne[17]=ne[18]=ne[19]=ne[20]=ne[21]=ne[22]=ne[23]=ne[24]=ne[25]=ne[26]=ne[27]=ne[28]=ne[29]=ne[30]=ne[31]=ne[32]=0,this.blocks=ne):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],D==384?(this.h0h=3418070365,this.h0l=3238371032,this.h1h=1654270250,this.h1l=914150663,this.h2h=2438529370,this.h2l=812702999,this.h3h=355462360,this.h3l=4144912697,this.h4h=1731405415,this.h4l=4290775857,this.h5h=2394180231,this.h5l=1750603025,this.h6h=3675008525,this.h6l=1694076839,this.h7h=1203062813,this.h7l=3204075428):D==256?(this.h0h=573645204,this.h0l=4230739756,this.h1h=2673172387,this.h1l=3360449730,this.h2h=596883563,this.h2l=1867755857,this.h3h=2520282905,this.h3l=1497426621,this.h4h=2519219938,this.h4l=2827943907,this.h5h=3193839141,this.h5l=1401305490,this.h6h=721525244,this.h6l=746961066,this.h7h=246885852,this.h7l=2177182882):D==224?(this.h0h=2352822216,this.h0l=424955298,this.h1h=1944164710,this.h1l=2312950998,this.h2h=502970286,this.h2l=855612546,this.h3h=1738396948,this.h3l=1479516111,this.h4h=258812777,this.h4l=2077511080,this.h5h=2011393907,this.h5l=79989058,this.h6h=1067287976,this.h6l=1780299464,this.h7h=286451373,this.h7l=2446758561):(this.h0h=1779033703,this.h0l=4089235720,this.h1h=3144134277,this.h1l=2227873595,this.h2h=1013904242,this.h2l=4271175723,this.h3h=2773480762,this.h3l=1595750129,this.h4h=1359893119,this.h4l=2917565137,this.h5h=2600822924,this.h5l=725511199,this.h6h=528734635,this.h6l=4215389547,this.h7h=1541459225,this.h7l=327033209),this.bits=D,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1}G.prototype.update=function(D){if(this.finalized)throw new Error(t);var Q,Y=typeof D;if(Y!=="string"){if(Y==="object"){if(D===null)throw new Error(e);if(V&&D.constructor===ArrayBuffer)D=new Uint8Array(D);else if(!Array.isArray(D)&&(!V||!ArrayBuffer.isView(D)))throw new Error(e)}else throw new Error(e);Q=!0}for(var me,y=0,s,u=D.length,d=this.blocks;y<u;){if(this.hashed&&(this.hashed=!1,d[0]=this.block,d[1]=d[2]=d[3]=d[4]=d[5]=d[6]=d[7]=d[8]=d[9]=d[10]=d[11]=d[12]=d[13]=d[14]=d[15]=d[16]=d[17]=d[18]=d[19]=d[20]=d[21]=d[22]=d[23]=d[24]=d[25]=d[26]=d[27]=d[28]=d[29]=d[30]=d[31]=d[32]=0),Q)for(s=this.start;y<u&&s<128;++y)d[s>>2]|=D[y]<<J[s++&3];else for(s=this.start;y<u&&s<128;++y)me=D.charCodeAt(y),me<128?d[s>>2]|=me<<J[s++&3]:me<2048?(d[s>>2]|=(192|me>>6)<<J[s++&3],d[s>>2]|=(128|me&63)<<J[s++&3]):me<55296||me>=57344?(d[s>>2]|=(224|me>>12)<<J[s++&3],d[s>>2]|=(128|me>>6&63)<<J[s++&3],d[s>>2]|=(128|me&63)<<J[s++&3]):(me=65536+((me&1023)<<10|D.charCodeAt(++y)&1023),d[s>>2]|=(240|me>>18)<<J[s++&3],d[s>>2]|=(128|me>>12&63)<<J[s++&3],d[s>>2]|=(128|me>>6&63)<<J[s++&3],d[s>>2]|=(128|me&63)<<J[s++&3]);this.lastByteIndex=s,this.bytes+=s-this.start,s>=128?(this.block=d[32],this.start=s-128,this.hash(),this.hashed=!0):this.start=s}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this},G.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var D=this.blocks,Q=this.lastByteIndex;D[32]=this.block,D[Q>>2]|=C[Q&3],this.block=D[32],Q>=112&&(this.hashed||this.hash(),D[0]=this.block,D[1]=D[2]=D[3]=D[4]=D[5]=D[6]=D[7]=D[8]=D[9]=D[10]=D[11]=D[12]=D[13]=D[14]=D[15]=D[16]=D[17]=D[18]=D[19]=D[20]=D[21]=D[22]=D[23]=D[24]=D[25]=D[26]=D[27]=D[28]=D[29]=D[30]=D[31]=D[32]=0),D[30]=this.hBytes<<3|this.bytes>>>29,D[31]=this.bytes<<3,this.hash()}},G.prototype.hash=function(){var D=this.h0h,Q=this.h0l,Y=this.h1h,me=this.h1l,y=this.h2h,s=this.h2l,u=this.h3h,d=this.h3l,S=this.h4h,A=this.h4l,_=this.h5h,L=this.h5l,I=this.h6h,c=this.h6l,T=this.h7h,Ie=this.h7l,ye=this.blocks,pe,ee,g,re,we,F,X,m,E,R,W,B,$,ie,U,q,te,H,se,Se,ge,Ve,He,qe,Oe;for(pe=32;pe<160;pe+=2)Se=ye[pe-30],ge=ye[pe-29],ee=(Se>>>1|ge<<31)^(Se>>>8|ge<<24)^Se>>>7,g=(ge>>>1|Se<<31)^(ge>>>8|Se<<24)^(ge>>>7|Se<<25),Se=ye[pe-4],ge=ye[pe-3],re=(Se>>>19|ge<<13)^(ge>>>29|Se<<3)^Se>>>6,we=(ge>>>19|Se<<13)^(Se>>>29|ge<<3)^(ge>>>6|Se<<26),Se=ye[pe-32],ge=ye[pe-31],Ve=ye[pe-14],He=ye[pe-13],F=(He&65535)+(ge&65535)+(g&65535)+(we&65535),X=(He>>>16)+(ge>>>16)+(g>>>16)+(we>>>16)+(F>>>16),m=(Ve&65535)+(Se&65535)+(ee&65535)+(re&65535)+(X>>>16),E=(Ve>>>16)+(Se>>>16)+(ee>>>16)+(re>>>16)+(m>>>16),ye[pe]=E<<16|m&65535,ye[pe+1]=X<<16|F&65535;var Xe=D,Ge=Q,at=Y,Vt=me,it=y,Je=s,bt=u,Ke=d,ze=S,tt=A,ut=_,lt=L,Ut=I,gt=c,mt=T,qt=Ie;for(q=at&it,te=Vt&Je,pe=0;pe<160;pe+=8)ee=(Xe>>>28|Ge<<4)^(Ge>>>2|Xe<<30)^(Ge>>>7|Xe<<25),g=(Ge>>>28|Xe<<4)^(Xe>>>2|Ge<<30)^(Xe>>>7|Ge<<25),re=(ze>>>14|tt<<18)^(ze>>>18|tt<<14)^(tt>>>9|ze<<23),we=(tt>>>14|ze<<18)^(tt>>>18|ze<<14)^(ze>>>9|tt<<23),R=Xe&at,W=Ge&Vt,H=R^Xe&it^q,se=W^Ge&Je^te,qe=ze&ut^~ze&Ut,Oe=tt&lt^~tt&gt,Se=ye[pe],ge=ye[pe+1],Ve=Z[pe],He=Z[pe+1],F=(He&65535)+(ge&65535)+(Oe&65535)+(we&65535)+(qt&65535),X=(He>>>16)+(ge>>>16)+(Oe>>>16)+(we>>>16)+(qt>>>16)+(F>>>16),m=(Ve&65535)+(Se&65535)+(qe&65535)+(re&65535)+(mt&65535)+(X>>>16),E=(Ve>>>16)+(Se>>>16)+(qe>>>16)+(re>>>16)+(mt>>>16)+(m>>>16),Se=E<<16|m&65535,ge=X<<16|F&65535,F=(se&65535)+(g&65535),X=(se>>>16)+(g>>>16)+(F>>>16),m=(H&65535)+(ee&65535)+(X>>>16),E=(H>>>16)+(ee>>>16)+(m>>>16),Ve=E<<16|m&65535,He=X<<16|F&65535,F=(Ke&65535)+(ge&65535),X=(Ke>>>16)+(ge>>>16)+(F>>>16),m=(bt&65535)+(Se&65535)+(X>>>16),E=(bt>>>16)+(Se>>>16)+(m>>>16),mt=E<<16|m&65535,qt=X<<16|F&65535,F=(He&65535)+(ge&65535),X=(He>>>16)+(ge>>>16)+(F>>>16),m=(Ve&65535)+(Se&65535)+(X>>>16),E=(Ve>>>16)+(Se>>>16)+(m>>>16),bt=E<<16|m&65535,Ke=X<<16|F&65535,ee=(bt>>>28|Ke<<4)^(Ke>>>2|bt<<30)^(Ke>>>7|bt<<25),g=(Ke>>>28|bt<<4)^(bt>>>2|Ke<<30)^(bt>>>7|Ke<<25),re=(mt>>>14|qt<<18)^(mt>>>18|qt<<14)^(qt>>>9|mt<<23),we=(qt>>>14|mt<<18)^(qt>>>18|mt<<14)^(mt>>>9|qt<<23),B=bt&Xe,$=Ke&Ge,H=B^bt&at^R,se=$^Ke&Vt^W,qe=mt&ze^~mt&ut,Oe=qt&tt^~qt&lt,Se=ye[pe+2],ge=ye[pe+3],Ve=Z[pe+2],He=Z[pe+3],F=(He&65535)+(ge&65535)+(Oe&65535)+(we&65535)+(gt&65535),X=(He>>>16)+(ge>>>16)+(Oe>>>16)+(we>>>16)+(gt>>>16)+(F>>>16),m=(Ve&65535)+(Se&65535)+(qe&65535)+(re&65535)+(Ut&65535)+(X>>>16),E=(Ve>>>16)+(Se>>>16)+(qe>>>16)+(re>>>16)+(Ut>>>16)+(m>>>16),Se=E<<16|m&65535,ge=X<<16|F&65535,F=(se&65535)+(g&65535),X=(se>>>16)+(g>>>16)+(F>>>16),m=(H&65535)+(ee&65535)+(X>>>16),E=(H>>>16)+(ee>>>16)+(m>>>16),Ve=E<<16|m&65535,He=X<<16|F&65535,F=(Je&65535)+(ge&65535),X=(Je>>>16)+(ge>>>16)+(F>>>16),m=(it&65535)+(Se&65535)+(X>>>16),E=(it>>>16)+(Se>>>16)+(m>>>16),Ut=E<<16|m&65535,gt=X<<16|F&65535,F=(He&65535)+(ge&65535),X=(He>>>16)+(ge>>>16)+(F>>>16),m=(Ve&65535)+(Se&65535)+(X>>>16),E=(Ve>>>16)+(Se>>>16)+(m>>>16),it=E<<16|m&65535,Je=X<<16|F&65535,ee=(it>>>28|Je<<4)^(Je>>>2|it<<30)^(Je>>>7|it<<25),g=(Je>>>28|it<<4)^(it>>>2|Je<<30)^(it>>>7|Je<<25),re=(Ut>>>14|gt<<18)^(Ut>>>18|gt<<14)^(gt>>>9|Ut<<23),we=(gt>>>14|Ut<<18)^(gt>>>18|Ut<<14)^(Ut>>>9|gt<<23),ie=it&bt,U=Je&Ke,H=ie^it&Xe^B,se=U^Je&Ge^$,qe=Ut&mt^~Ut&ze,Oe=gt&qt^~gt&tt,Se=ye[pe+4],ge=ye[pe+5],Ve=Z[pe+4],He=Z[pe+5],F=(He&65535)+(ge&65535)+(Oe&65535)+(we&65535)+(lt&65535),X=(He>>>16)+(ge>>>16)+(Oe>>>16)+(we>>>16)+(lt>>>16)+(F>>>16),m=(Ve&65535)+(Se&65535)+(qe&65535)+(re&65535)+(ut&65535)+(X>>>16),E=(Ve>>>16)+(Se>>>16)+(qe>>>16)+(re>>>16)+(ut>>>16)+(m>>>16),Se=E<<16|m&65535,ge=X<<16|F&65535,F=(se&65535)+(g&65535),X=(se>>>16)+(g>>>16)+(F>>>16),m=(H&65535)+(ee&65535)+(X>>>16),E=(H>>>16)+(ee>>>16)+(m>>>16),Ve=E<<16|m&65535,He=X<<16|F&65535,F=(Vt&65535)+(ge&65535),X=(Vt>>>16)+(ge>>>16)+(F>>>16),m=(at&65535)+(Se&65535)+(X>>>16),E=(at>>>16)+(Se>>>16)+(m>>>16),ut=E<<16|m&65535,lt=X<<16|F&65535,F=(He&65535)+(ge&65535),X=(He>>>16)+(ge>>>16)+(F>>>16),m=(Ve&65535)+(Se&65535)+(X>>>16),E=(Ve>>>16)+(Se>>>16)+(m>>>16),at=E<<16|m&65535,Vt=X<<16|F&65535,ee=(at>>>28|Vt<<4)^(Vt>>>2|at<<30)^(Vt>>>7|at<<25),g=(Vt>>>28|at<<4)^(at>>>2|Vt<<30)^(at>>>7|Vt<<25),re=(ut>>>14|lt<<18)^(ut>>>18|lt<<14)^(lt>>>9|ut<<23),we=(lt>>>14|ut<<18)^(lt>>>18|ut<<14)^(ut>>>9|lt<<23),q=at&it,te=Vt&Je,H=q^at&bt^ie,se=te^Vt&Ke^U,qe=ut&Ut^~ut&mt,Oe=lt&gt^~lt&qt,Se=ye[pe+6],ge=ye[pe+7],Ve=Z[pe+6],He=Z[pe+7],F=(He&65535)+(ge&65535)+(Oe&65535)+(we&65535)+(tt&65535),X=(He>>>16)+(ge>>>16)+(Oe>>>16)+(we>>>16)+(tt>>>16)+(F>>>16),m=(Ve&65535)+(Se&65535)+(qe&65535)+(re&65535)+(ze&65535)+(X>>>16),E=(Ve>>>16)+(Se>>>16)+(qe>>>16)+(re>>>16)+(ze>>>16)+(m>>>16),Se=E<<16|m&65535,ge=X<<16|F&65535,F=(se&65535)+(g&65535),X=(se>>>16)+(g>>>16)+(F>>>16),m=(H&65535)+(ee&65535)+(X>>>16),E=(H>>>16)+(ee>>>16)+(m>>>16),Ve=E<<16|m&65535,He=X<<16|F&65535,F=(Ge&65535)+(ge&65535),X=(Ge>>>16)+(ge>>>16)+(F>>>16),m=(Xe&65535)+(Se&65535)+(X>>>16),E=(Xe>>>16)+(Se>>>16)+(m>>>16),ze=E<<16|m&65535,tt=X<<16|F&65535,F=(He&65535)+(ge&65535),X=(He>>>16)+(ge>>>16)+(F>>>16),m=(Ve&65535)+(Se&65535)+(X>>>16),E=(Ve>>>16)+(Se>>>16)+(m>>>16),Xe=E<<16|m&65535,Ge=X<<16|F&65535;F=(Q&65535)+(Ge&65535),X=(Q>>>16)+(Ge>>>16)+(F>>>16),m=(D&65535)+(Xe&65535)+(X>>>16),E=(D>>>16)+(Xe>>>16)+(m>>>16),this.h0h=E<<16|m&65535,this.h0l=X<<16|F&65535,F=(me&65535)+(Vt&65535),X=(me>>>16)+(Vt>>>16)+(F>>>16),m=(Y&65535)+(at&65535)+(X>>>16),E=(Y>>>16)+(at>>>16)+(m>>>16),this.h1h=E<<16|m&65535,this.h1l=X<<16|F&65535,F=(s&65535)+(Je&65535),X=(s>>>16)+(Je>>>16)+(F>>>16),m=(y&65535)+(it&65535)+(X>>>16),E=(y>>>16)+(it>>>16)+(m>>>16),this.h2h=E<<16|m&65535,this.h2l=X<<16|F&65535,F=(d&65535)+(Ke&65535),X=(d>>>16)+(Ke>>>16)+(F>>>16),m=(u&65535)+(bt&65535)+(X>>>16),E=(u>>>16)+(bt>>>16)+(m>>>16),this.h3h=E<<16|m&65535,this.h3l=X<<16|F&65535,F=(A&65535)+(tt&65535),X=(A>>>16)+(tt>>>16)+(F>>>16),m=(S&65535)+(ze&65535)+(X>>>16),E=(S>>>16)+(ze>>>16)+(m>>>16),this.h4h=E<<16|m&65535,this.h4l=X<<16|F&65535,F=(L&65535)+(lt&65535),X=(L>>>16)+(lt>>>16)+(F>>>16),m=(_&65535)+(ut&65535)+(X>>>16),E=(_>>>16)+(ut>>>16)+(m>>>16),this.h5h=E<<16|m&65535,this.h5l=X<<16|F&65535,F=(c&65535)+(gt&65535),X=(c>>>16)+(gt>>>16)+(F>>>16),m=(I&65535)+(Ut&65535)+(X>>>16),E=(I>>>16)+(Ut>>>16)+(m>>>16),this.h6h=E<<16|m&65535,this.h6l=X<<16|F&65535,F=(Ie&65535)+(qt&65535),X=(Ie>>>16)+(qt>>>16)+(F>>>16),m=(T&65535)+(mt&65535)+(X>>>16),E=(T>>>16)+(mt>>>16)+(m>>>16),this.h7h=E<<16|m&65535,this.h7l=X<<16|F&65535},G.prototype.hex=function(){this.finalize();var D=this.h0h,Q=this.h0l,Y=this.h1h,me=this.h1l,y=this.h2h,s=this.h2l,u=this.h3h,d=this.h3l,S=this.h4h,A=this.h4l,_=this.h5h,L=this.h5l,I=this.h6h,c=this.h6l,T=this.h7h,Ie=this.h7l,ye=this.bits,pe=p[D>>28&15]+p[D>>24&15]+p[D>>20&15]+p[D>>16&15]+p[D>>12&15]+p[D>>8&15]+p[D>>4&15]+p[D&15]+p[Q>>28&15]+p[Q>>24&15]+p[Q>>20&15]+p[Q>>16&15]+p[Q>>12&15]+p[Q>>8&15]+p[Q>>4&15]+p[Q&15]+p[Y>>28&15]+p[Y>>24&15]+p[Y>>20&15]+p[Y>>16&15]+p[Y>>12&15]+p[Y>>8&15]+p[Y>>4&15]+p[Y&15]+p[me>>28&15]+p[me>>24&15]+p[me>>20&15]+p[me>>16&15]+p[me>>12&15]+p[me>>8&15]+p[me>>4&15]+p[me&15]+p[y>>28&15]+p[y>>24&15]+p[y>>20&15]+p[y>>16&15]+p[y>>12&15]+p[y>>8&15]+p[y>>4&15]+p[y&15]+p[s>>28&15]+p[s>>24&15]+p[s>>20&15]+p[s>>16&15]+p[s>>12&15]+p[s>>8&15]+p[s>>4&15]+p[s&15]+p[u>>28&15]+p[u>>24&15]+p[u>>20&15]+p[u>>16&15]+p[u>>12&15]+p[u>>8&15]+p[u>>4&15]+p[u&15];return ye>=256&&(pe+=p[d>>28&15]+p[d>>24&15]+p[d>>20&15]+p[d>>16&15]+p[d>>12&15]+p[d>>8&15]+p[d>>4&15]+p[d&15]),ye>=384&&(pe+=p[S>>28&15]+p[S>>24&15]+p[S>>20&15]+p[S>>16&15]+p[S>>12&15]+p[S>>8&15]+p[S>>4&15]+p[S&15]+p[A>>28&15]+p[A>>24&15]+p[A>>20&15]+p[A>>16&15]+p[A>>12&15]+p[A>>8&15]+p[A>>4&15]+p[A&15]+p[_>>28&15]+p[_>>24&15]+p[_>>20&15]+p[_>>16&15]+p[_>>12&15]+p[_>>8&15]+p[_>>4&15]+p[_&15]+p[L>>28&15]+p[L>>24&15]+p[L>>20&15]+p[L>>16&15]+p[L>>12&15]+p[L>>8&15]+p[L>>4&15]+p[L&15]),ye==512&&(pe+=p[I>>28&15]+p[I>>24&15]+p[I>>20&15]+p[I>>16&15]+p[I>>12&15]+p[I>>8&15]+p[I>>4&15]+p[I&15]+p[c>>28&15]+p[c>>24&15]+p[c>>20&15]+p[c>>16&15]+p[c>>12&15]+p[c>>8&15]+p[c>>4&15]+p[c&15]+p[T>>28&15]+p[T>>24&15]+p[T>>20&15]+p[T>>16&15]+p[T>>12&15]+p[T>>8&15]+p[T>>4&15]+p[T&15]+p[Ie>>28&15]+p[Ie>>24&15]+p[Ie>>20&15]+p[Ie>>16&15]+p[Ie>>12&15]+p[Ie>>8&15]+p[Ie>>4&15]+p[Ie&15]),pe},G.prototype.toString=G.prototype.hex,G.prototype.digest=function(){this.finalize();var D=this.h0h,Q=this.h0l,Y=this.h1h,me=this.h1l,y=this.h2h,s=this.h2l,u=this.h3h,d=this.h3l,S=this.h4h,A=this.h4l,_=this.h5h,L=this.h5l,I=this.h6h,c=this.h6l,T=this.h7h,Ie=this.h7l,ye=this.bits,pe=[D>>24&255,D>>16&255,D>>8&255,D&255,Q>>24&255,Q>>16&255,Q>>8&255,Q&255,Y>>24&255,Y>>16&255,Y>>8&255,Y&255,me>>24&255,me>>16&255,me>>8&255,me&255,y>>24&255,y>>16&255,y>>8&255,y&255,s>>24&255,s>>16&255,s>>8&255,s&255,u>>24&255,u>>16&255,u>>8&255,u&255];return ye>=256&&pe.push(d>>24&255,d>>16&255,d>>8&255,d&255),ye>=384&&pe.push(S>>24&255,S>>16&255,S>>8&255,S&255,A>>24&255,A>>16&255,A>>8&255,A&255,_>>24&255,_>>16&255,_>>8&255,_&255,L>>24&255,L>>16&255,L>>8&255,L&255),ye==512&&pe.push(I>>24&255,I>>16&255,I>>8&255,I&255,c>>24&255,c>>16&255,c>>8&255,c&255,T>>24&255,T>>16&255,T>>8&255,T&255,Ie>>24&255,Ie>>16&255,Ie>>8&255,Ie&255),pe},G.prototype.array=G.prototype.digest,G.prototype.arrayBuffer=function(){this.finalize();var D=this.bits,Q=new ArrayBuffer(D/8),Y=new DataView(Q);return Y.setUint32(0,this.h0h),Y.setUint32(4,this.h0l),Y.setUint32(8,this.h1h),Y.setUint32(12,this.h1l),Y.setUint32(16,this.h2h),Y.setUint32(20,this.h2l),Y.setUint32(24,this.h3h),D>=256&&Y.setUint32(28,this.h3l),D>=384&&(Y.setUint32(32,this.h4h),Y.setUint32(36,this.h4l),Y.setUint32(40,this.h5h),Y.setUint32(44,this.h5l)),D==512&&(Y.setUint32(48,this.h6h),Y.setUint32(52,this.h6l),Y.setUint32(56,this.h7h),Y.setUint32(60,this.h7l)),Q},G.prototype.clone=function(){var D=new G(this.bits,!1);return this.copyTo(D),D},G.prototype.copyTo=function(D){var Q=0,Y=["h0h","h0l","h1h","h1l","h2h","h2l","h3h","h3l","h4h","h4l","h5h","h5l","h6h","h6l","h7h","h7l","start","bytes","hBytes","finalized","hashed","lastByteIndex"];for(Q=0;Q<Y.length;++Q)D[Y[Q]]=this[Y[Q]];for(Q=0;Q<this.blocks.length;++Q)D.blocks[Q]=this.blocks[Q]};function fe(D,Q,Y){var me,y=typeof D;if(y!=="string"){if(y==="object"){if(D===null)throw new Error(e);if(V&&D.constructor===ArrayBuffer)D=new Uint8Array(D);else if(!Array.isArray(D)&&(!V||!ArrayBuffer.isView(D)))throw new Error(e)}else throw new Error(e);me=!0}var s=D.length;if(!me){for(var u=[],s=D.length,d=0,S,A=0;A<s;++A)S=D.charCodeAt(A),S<128?u[d++]=S:S<2048?(u[d++]=192|S>>6,u[d++]=128|S&63):S<55296||S>=57344?(u[d++]=224|S>>12,u[d++]=128|S>>6&63,u[d++]=128|S&63):(S=65536+((S&1023)<<10|D.charCodeAt(++A)&1023),u[d++]=240|S>>18,u[d++]=128|S>>12&63,u[d++]=128|S>>6&63,u[d++]=128|S&63);D=u}D.length>128&&(D=new G(Q,!0).update(D).array());for(var _=[],L=[],A=0;A<128;++A){var I=D[A]||0;_[A]=92^I,L[A]=54^I}G.call(this,Q,Y),this.update(L),this.oKeyPad=_,this.inner=!0,this.sharedMemory=Y}fe.prototype=new G,fe.prototype.finalize=function(){if(G.prototype.finalize.call(this),this.inner){this.inner=!1;var D=this.array();G.call(this,this.bits,this.sharedMemory),this.update(this.oKeyPad),this.update(D),G.prototype.finalize.call(this)}},fe.prototype.clone=function(){var D=new fe([],this.bits,!1);this.copyTo(D),D.inner=this.inner;for(var Q=0;Q<this.oKeyPad.length;++Q)D.oKeyPad[Q]=this.oKeyPad[Q];return D};var ve=k(512);ve.sha512=ve,ve.sha384=k(384),ve.sha512_256=k(256),ve.sha512_224=k(224),ve.sha512.hmac=N(512),ve.sha384.hmac=N(384),ve.sha512_256.hmac=N(256),ve.sha512_224.hmac=N(224),v?n.exports=ve:(i.sha512=ve.sha512,i.sha384=ve.sha384,i.sha512_256=ve.sha512_256,i.sha512_224=ve.sha512_224)})()})(qh);var mf=qh.exports;const pf=xo(mf);var Hs={exports:{}},zh={exports:{}},Hh={exports:{}};(function(n){(function(e){var t,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,h="[BigNumber Error] ",v=h+"Number primitive has more than 15 significant digits: ",V=1e14,p=14,C=9007199254740991,J=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Z=1e7,he=1e9;function ne(D){var Q,Y,me,y=ee.prototype={constructor:ee,toString:null,valueOf:null},s=new ee(1),u=20,d=4,S=-7,A=21,_=-1e7,L=1e7,I=!1,c=1,T=0,Ie={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},ye="0123456789abcdefghijklmnopqrstuvwxyz",pe=!0;function ee(m,E){var R,W,B,$,ie,U,q,te,H=this;if(!(H instanceof ee))return new ee(m,E);if(E==null){if(m&&m._isBigNumber===!0){H.s=m.s,!m.c||m.e>L?H.c=H.e=null:m.e<_?H.c=[H.e=0]:(H.e=m.e,H.c=m.c.slice());return}if((U=typeof m=="number")&&m*0==0){if(H.s=1/m<0?(m=-m,-1):1,m===~~m){for($=0,ie=m;ie>=10;ie/=10,$++);$>L?H.c=H.e=null:(H.e=$,H.c=[m]);return}te=String(m)}else{if(!r.test(te=String(m)))return me(H,te,U);H.s=te.charCodeAt(0)==45?(te=te.slice(1),-1):1}($=te.indexOf("."))>-1&&(te=te.replace(".","")),(ie=te.search(/e/i))>0?($<0&&($=ie),$+=+te.slice(ie+1),te=te.substring(0,ie)):$<0&&($=te.length)}else{if(N(E,2,ye.length,"Base"),E==10&&pe)return H=new ee(m),F(H,u+H.e+1,d);if(te=String(m),U=typeof m=="number"){if(m*0!=0)return me(H,te,U,E);if(H.s=1/m<0?(te=te.slice(1),-1):1,ee.DEBUG&&te.replace(/^0\.0*|\./,"").length>15)throw Error(v+m)}else H.s=te.charCodeAt(0)===45?(te=te.slice(1),-1):1;for(R=ye.slice(0,E),$=ie=0,q=te.length;ie<q;ie++)if(R.indexOf(W=te.charAt(ie))<0){if(W=="."){if(ie>$){$=q;continue}}else if(!B&&(te==te.toUpperCase()&&(te=te.toLowerCase())||te==te.toLowerCase()&&(te=te.toUpperCase()))){B=!0,ie=-1,$=0;continue}return me(H,String(m),U,E)}U=!1,te=Y(te,E,10,H.s),($=te.indexOf("."))>-1?te=te.replace(".",""):$=te.length}for(ie=0;te.charCodeAt(ie)===48;ie++);for(q=te.length;te.charCodeAt(--q)===48;);if(te=te.slice(ie,++q)){if(q-=ie,U&&ee.DEBUG&&q>15&&(m>C||m!==o(m)))throw Error(v+H.s*m);if(($=$-ie-1)>L)H.c=H.e=null;else if($<_)H.c=[H.e=0];else{if(H.e=$,H.c=[],ie=($+1)%p,$<0&&(ie+=p),ie<q){for(ie&&H.c.push(+te.slice(0,ie)),q-=p;ie<q;)H.c.push(+te.slice(ie,ie+=p));ie=p-(te=te.slice(ie)).length}else ie-=q;for(;ie--;te+="0");H.c.push(+te)}}else H.c=[H.e=0]}ee.clone=ne,ee.ROUND_UP=0,ee.ROUND_DOWN=1,ee.ROUND_CEIL=2,ee.ROUND_FLOOR=3,ee.ROUND_HALF_UP=4,ee.ROUND_HALF_DOWN=5,ee.ROUND_HALF_EVEN=6,ee.ROUND_HALF_CEIL=7,ee.ROUND_HALF_FLOOR=8,ee.EUCLID=9,ee.config=ee.set=function(m){var E,R;if(m!=null)if(typeof m=="object"){if(m.hasOwnProperty(E="DECIMAL_PLACES")&&(R=m[E],N(R,0,he,E),u=R),m.hasOwnProperty(E="ROUNDING_MODE")&&(R=m[E],N(R,0,8,E),d=R),m.hasOwnProperty(E="EXPONENTIAL_AT")&&(R=m[E],R&&R.pop?(N(R[0],-he,0,E),N(R[1],0,he,E),S=R[0],A=R[1]):(N(R,-he,he,E),S=-(A=R<0?-R:R))),m.hasOwnProperty(E="RANGE"))if(R=m[E],R&&R.pop)N(R[0],-he,-1,E),N(R[1],1,he,E),_=R[0],L=R[1];else if(N(R,-he,he,E),R)_=-(L=R<0?-R:R);else throw Error(h+E+" cannot be zero: "+R);if(m.hasOwnProperty(E="CRYPTO"))if(R=m[E],R===!!R)if(R)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))I=R;else throw I=!R,Error(h+"crypto unavailable");else I=R;else throw Error(h+E+" not true or false: "+R);if(m.hasOwnProperty(E="MODULO_MODE")&&(R=m[E],N(R,0,9,E),c=R),m.hasOwnProperty(E="POW_PRECISION")&&(R=m[E],N(R,0,he,E),T=R),m.hasOwnProperty(E="FORMAT"))if(R=m[E],typeof R=="object")Ie=R;else throw Error(h+E+" not an object: "+R);if(m.hasOwnProperty(E="ALPHABET"))if(R=m[E],typeof R=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(R))pe=R.slice(0,10)=="0123456789",ye=R;else throw Error(h+E+" invalid: "+R)}else throw Error(h+"Object expected: "+m);return{DECIMAL_PLACES:u,ROUNDING_MODE:d,EXPONENTIAL_AT:[S,A],RANGE:[_,L],CRYPTO:I,MODULO_MODE:c,POW_PRECISION:T,FORMAT:Ie,ALPHABET:ye}},ee.isBigNumber=function(m){if(!m||m._isBigNumber!==!0)return!1;if(!ee.DEBUG)return!0;var E,R,W=m.c,B=m.e,$=m.s;e:if({}.toString.call(W)=="[object Array]"){if(($===1||$===-1)&&B>=-he&&B<=he&&B===o(B)){if(W[0]===0){if(B===0&&W.length===1)return!0;break e}if(E=(B+1)%p,E<1&&(E+=p),String(W[0]).length==E){for(E=0;E<W.length;E++)if(R=W[E],R<0||R>=V||R!==o(R))break e;if(R!==0)return!0}}}else if(W===null&&B===null&&($===null||$===1||$===-1))return!0;throw Error(h+"Invalid BigNumber: "+m)},ee.maximum=ee.max=function(){return re(arguments,-1)},ee.minimum=ee.min=function(){return re(arguments,1)},ee.random=function(){var m=9007199254740992,E=Math.random()*m&2097151?function(){return o(Math.random()*m)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(R){var W,B,$,ie,U,q=0,te=[],H=new ee(s);if(R==null?R=u:N(R,0,he),ie=i(R/p),I)if(crypto.getRandomValues){for(W=crypto.getRandomValues(new Uint32Array(ie*=2));q<ie;)U=W[q]*131072+(W[q+1]>>>11),U>=9e15?(B=crypto.getRandomValues(new Uint32Array(2)),W[q]=B[0],W[q+1]=B[1]):(te.push(U%1e14),q+=2);q=ie/2}else if(crypto.randomBytes){for(W=crypto.randomBytes(ie*=7);q<ie;)U=(W[q]&31)*281474976710656+W[q+1]*1099511627776+W[q+2]*4294967296+W[q+3]*16777216+(W[q+4]<<16)+(W[q+5]<<8)+W[q+6],U>=9e15?crypto.randomBytes(7).copy(W,q):(te.push(U%1e14),q+=7);q=ie/7}else throw I=!1,Error(h+"crypto unavailable");if(!I)for(;q<ie;)U=E(),U<9e15&&(te[q++]=U%1e14);for(ie=te[--q],R%=p,ie&&R&&(U=J[p-R],te[q]=o(ie/U)*U);te[q]===0;te.pop(),q--);if(q<0)te=[$=0];else{for($=-1;te[0]===0;te.splice(0,1),$-=p);for(q=1,U=te[0];U>=10;U/=10,q++);q<p&&($-=p-q)}return H.e=$,H.c=te,H}}(),ee.sum=function(){for(var m=1,E=arguments,R=new ee(E[0]);m<E.length;)R=R.plus(E[m++]);return R},Y=function(){var m="0123456789";function E(R,W,B,$){for(var ie,U=[0],q,te=0,H=R.length;te<H;){for(q=U.length;q--;U[q]*=W);for(U[0]+=$.indexOf(R.charAt(te++)),ie=0;ie<U.length;ie++)U[ie]>B-1&&(U[ie+1]==null&&(U[ie+1]=0),U[ie+1]+=U[ie]/B|0,U[ie]%=B)}return U.reverse()}return function(R,W,B,$,ie){var U,q,te,H,se,Se,ge,Ve,He=R.indexOf("."),qe=u,Oe=d;for(He>=0&&(H=T,T=0,R=R.replace(".",""),Ve=new ee(W),Se=Ve.pow(R.length-He),T=H,Ve.c=E(ve(k(Se.c),Se.e,"0"),10,B,m),Ve.e=Ve.c.length),ge=E(R,W,B,ie?(U=ye,m):(U=m,ye)),te=H=ge.length;ge[--H]==0;ge.pop());if(!ge[0])return U.charAt(0);if(He<0?--te:(Se.c=ge,Se.e=te,Se.s=$,Se=Q(Se,Ve,qe,Oe,B),ge=Se.c,se=Se.r,te=Se.e),q=te+qe+1,He=ge[q],H=B/2,se=se||q<0||ge[q+1]!=null,se=Oe<4?(He!=null||se)&&(Oe==0||Oe==(Se.s<0?3:2)):He>H||He==H&&(Oe==4||se||Oe==6&&ge[q-1]&1||Oe==(Se.s<0?8:7)),q<1||!ge[0])R=se?ve(U.charAt(1),-qe,U.charAt(0)):U.charAt(0);else{if(ge.length=q,se)for(--B;++ge[--q]>B;)ge[q]=0,q||(++te,ge=[1].concat(ge));for(H=ge.length;!ge[--H];);for(He=0,R="";He<=H;R+=U.charAt(ge[He++]));R=ve(R,te,U.charAt(0))}return R}}(),Q=function(){function m(W,B,$){var ie,U,q,te,H=0,se=W.length,Se=B%Z,ge=B/Z|0;for(W=W.slice();se--;)q=W[se]%Z,te=W[se]/Z|0,ie=ge*q+te*Se,U=Se*q+ie%Z*Z+H,H=(U/$|0)+(ie/Z|0)+ge*te,W[se]=U%$;return H&&(W=[H].concat(W)),W}function E(W,B,$,ie){var U,q;if($!=ie)q=$>ie?1:-1;else for(U=q=0;U<$;U++)if(W[U]!=B[U]){q=W[U]>B[U]?1:-1;break}return q}function R(W,B,$,ie){for(var U=0;$--;)W[$]-=U,U=W[$]<B[$]?1:0,W[$]=U*ie+W[$]-B[$];for(;!W[0]&&W.length>1;W.splice(0,1));}return function(W,B,$,ie,U){var q,te,H,se,Se,ge,Ve,He,qe,Oe,Xe,Ge,at,Vt,it,Je,bt,Ke=W.s==B.s?1:-1,ze=W.c,tt=B.c;if(!ze||!ze[0]||!tt||!tt[0])return new ee(!W.s||!B.s||(ze?tt&&ze[0]==tt[0]:!tt)?NaN:ze&&ze[0]==0||!tt?Ke*0:Ke/0);for(He=new ee(Ke),qe=He.c=[],te=W.e-B.e,Ke=$+te+1,U||(U=V,te=le(W.e/p)-le(B.e/p),Ke=Ke/p|0),H=0;tt[H]==(ze[H]||0);H++);if(tt[H]>(ze[H]||0)&&te--,Ke<0)qe.push(1),se=!0;else{for(Vt=ze.length,Je=tt.length,H=0,Ke+=2,Se=o(U/(tt[0]+1)),Se>1&&(tt=m(tt,Se,U),ze=m(ze,Se,U),Je=tt.length,Vt=ze.length),at=Je,Oe=ze.slice(0,Je),Xe=Oe.length;Xe<Je;Oe[Xe++]=0);bt=tt.slice(),bt=[0].concat(bt),it=tt[0],tt[1]>=U/2&&it++;do{if(Se=0,q=E(tt,Oe,Je,Xe),q<0){if(Ge=Oe[0],Je!=Xe&&(Ge=Ge*U+(Oe[1]||0)),Se=o(Ge/it),Se>1)for(Se>=U&&(Se=U-1),ge=m(tt,Se,U),Ve=ge.length,Xe=Oe.length;E(ge,Oe,Ve,Xe)==1;)Se--,R(ge,Je<Ve?bt:tt,Ve,U),Ve=ge.length,q=1;else Se==0&&(q=Se=1),ge=tt.slice(),Ve=ge.length;if(Ve<Xe&&(ge=[0].concat(ge)),R(Oe,ge,Xe,U),Xe=Oe.length,q==-1)for(;E(tt,Oe,Je,Xe)<1;)Se++,R(Oe,Je<Xe?bt:tt,Xe,U),Xe=Oe.length}else q===0&&(Se++,Oe=[0]);qe[H++]=Se,Oe[0]?Oe[Xe++]=ze[at]||0:(Oe=[ze[at]],Xe=1)}while((at++<Vt||Oe[0]!=null)&&Ke--);se=Oe[0]!=null,qe[0]||qe.splice(0,1)}if(U==V){for(H=1,Ke=qe[0];Ke>=10;Ke/=10,H++);F(He,$+(He.e=H+te*p-1)+1,ie,se)}else He.e=te,He.r=+se;return He}}();function g(m,E,R,W){var B,$,ie,U,q;if(R==null?R=d:N(R,0,8),!m.c)return m.toString();if(B=m.c[0],ie=m.e,E==null)q=k(m.c),q=W==1||W==2&&(ie<=S||ie>=A)?fe(q,ie):ve(q,ie,"0");else if(m=F(new ee(m),E,R),$=m.e,q=k(m.c),U=q.length,W==1||W==2&&(E<=$||$<=S)){for(;U<E;q+="0",U++);q=fe(q,$)}else if(E-=ie+(W===2&&$>ie),q=ve(q,$,"0"),$+1>U){if(--E>0)for(q+=".";E--;q+="0");}else if(E+=$-U,E>0)for($+1==U&&(q+=".");E--;q+="0");return m.s<0&&B?"-"+q:q}function re(m,E){for(var R,W,B=1,$=new ee(m[0]);B<m.length;B++)W=new ee(m[B]),(!W.s||(R=P($,W))===E||R===0&&$.s===E)&&($=W);return $}function we(m,E,R){for(var W=1,B=E.length;!E[--B];E.pop());for(B=E[0];B>=10;B/=10,W++);return(R=W+R*p-1)>L?m.c=m.e=null:R<_?m.c=[m.e=0]:(m.e=R,m.c=E),m}me=function(){var m=/^(-?)0([xbo])(?=\w[\w.]*$)/i,E=/^([^.]+)\.$/,R=/^\.([^.]+)$/,W=/^-?(Infinity|NaN)$/,B=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function($,ie,U,q){var te,H=U?ie:ie.replace(B,"");if(W.test(H))$.s=isNaN(H)?null:H<0?-1:1;else{if(!U&&(H=H.replace(m,function(se,Se,ge){return te=(ge=ge.toLowerCase())=="x"?16:ge=="b"?2:8,!q||q==te?Se:se}),q&&(te=q,H=H.replace(E,"$1").replace(R,"0.$1")),ie!=H))return new ee(H,te);if(ee.DEBUG)throw Error(h+"Not a"+(q?" base "+q:"")+" number: "+ie);$.s=null}$.c=$.e=null}}();function F(m,E,R,W){var B,$,ie,U,q,te,H,se=m.c,Se=J;if(se){e:{for(B=1,U=se[0];U>=10;U/=10,B++);if($=E-B,$<0)$+=p,ie=E,q=se[te=0],H=o(q/Se[B-ie-1]%10);else if(te=i(($+1)/p),te>=se.length)if(W){for(;se.length<=te;se.push(0));q=H=0,B=1,$%=p,ie=$-p+1}else break e;else{for(q=U=se[te],B=1;U>=10;U/=10,B++);$%=p,ie=$-p+B,H=ie<0?0:o(q/Se[B-ie-1]%10)}if(W=W||E<0||se[te+1]!=null||(ie<0?q:q%Se[B-ie-1]),W=R<4?(H||W)&&(R==0||R==(m.s<0?3:2)):H>5||H==5&&(R==4||W||R==6&&($>0?ie>0?q/Se[B-ie]:0:se[te-1])%10&1||R==(m.s<0?8:7)),E<1||!se[0])return se.length=0,W?(E-=m.e+1,se[0]=Se[(p-E%p)%p],m.e=-E||0):se[0]=m.e=0,m;if($==0?(se.length=te,U=1,te--):(se.length=te+1,U=Se[p-$],se[te]=ie>0?o(q/Se[B-ie]%Se[ie])*U:0),W)for(;;)if(te==0){for($=1,ie=se[0];ie>=10;ie/=10,$++);for(ie=se[0]+=U,U=1;ie>=10;ie/=10,U++);$!=U&&(m.e++,se[0]==V&&(se[0]=1));break}else{if(se[te]+=U,se[te]!=V)break;se[te--]=0,U=1}for($=se.length;se[--$]===0;se.pop());}m.e>L?m.c=m.e=null:m.e<_&&(m.c=[m.e=0])}return m}function X(m){var E,R=m.e;return R===null?m.toString():(E=k(m.c),E=R<=S||R>=A?fe(E,R):ve(E,R,"0"),m.s<0?"-"+E:E)}return y.absoluteValue=y.abs=function(){var m=new ee(this);return m.s<0&&(m.s=1),m},y.comparedTo=function(m,E){return P(this,new ee(m,E))},y.decimalPlaces=y.dp=function(m,E){var R,W,B,$=this;if(m!=null)return N(m,0,he),E==null?E=d:N(E,0,8),F(new ee($),m+$.e+1,E);if(!(R=$.c))return null;if(W=((B=R.length-1)-le(this.e/p))*p,B=R[B])for(;B%10==0;B/=10,W--);return W<0&&(W=0),W},y.dividedBy=y.div=function(m,E){return Q(this,new ee(m,E),u,d)},y.dividedToIntegerBy=y.idiv=function(m,E){return Q(this,new ee(m,E),0,1)},y.exponentiatedBy=y.pow=function(m,E){var R,W,B,$,ie,U,q,te,H,se=this;if(m=new ee(m),m.c&&!m.isInteger())throw Error(h+"Exponent not an integer: "+X(m));if(E!=null&&(E=new ee(E)),U=m.e>14,!se.c||!se.c[0]||se.c[0]==1&&!se.e&&se.c.length==1||!m.c||!m.c[0])return H=new ee(Math.pow(+X(se),U?m.s*(2-G(m)):+X(m))),E?H.mod(E):H;if(q=m.s<0,E){if(E.c?!E.c[0]:!E.s)return new ee(NaN);W=!q&&se.isInteger()&&E.isInteger(),W&&(se=se.mod(E))}else{if(m.e>9&&(se.e>0||se.e<-1||(se.e==0?se.c[0]>1||U&&se.c[1]>=24e7:se.c[0]<8e13||U&&se.c[0]<=9999975e7)))return $=se.s<0&&G(m)?-0:0,se.e>-1&&($=1/$),new ee(q?1/$:$);T&&($=i(T/p+2))}for(U?(R=new ee(.5),q&&(m.s=1),te=G(m)):(B=Math.abs(+X(m)),te=B%2),H=new ee(s);;){if(te){if(H=H.times(se),!H.c)break;$?H.c.length>$&&(H.c.length=$):W&&(H=H.mod(E))}if(B){if(B=o(B/2),B===0)break;te=B%2}else if(m=m.times(R),F(m,m.e+1,1),m.e>14)te=G(m);else{if(B=+X(m),B===0)break;te=B%2}se=se.times(se),$?se.c&&se.c.length>$&&(se.c.length=$):W&&(se=se.mod(E))}return W?H:(q&&(H=s.div(H)),E?H.mod(E):$?F(H,T,d,ie):H)},y.integerValue=function(m){var E=new ee(this);return m==null?m=d:N(m,0,8),F(E,E.e+1,m)},y.isEqualTo=y.eq=function(m,E){return P(this,new ee(m,E))===0},y.isFinite=function(){return!!this.c},y.isGreaterThan=y.gt=function(m,E){return P(this,new ee(m,E))>0},y.isGreaterThanOrEqualTo=y.gte=function(m,E){return(E=P(this,new ee(m,E)))===1||E===0},y.isInteger=function(){return!!this.c&&le(this.e/p)>this.c.length-2},y.isLessThan=y.lt=function(m,E){return P(this,new ee(m,E))<0},y.isLessThanOrEqualTo=y.lte=function(m,E){return(E=P(this,new ee(m,E)))===-1||E===0},y.isNaN=function(){return!this.s},y.isNegative=function(){return this.s<0},y.isPositive=function(){return this.s>0},y.isZero=function(){return!!this.c&&this.c[0]==0},y.minus=function(m,E){var R,W,B,$,ie=this,U=ie.s;if(m=new ee(m,E),E=m.s,!U||!E)return new ee(NaN);if(U!=E)return m.s=-E,ie.plus(m);var q=ie.e/p,te=m.e/p,H=ie.c,se=m.c;if(!q||!te){if(!H||!se)return H?(m.s=-E,m):new ee(se?ie:NaN);if(!H[0]||!se[0])return se[0]?(m.s=-E,m):new ee(H[0]?ie:d==3?-0:0)}if(q=le(q),te=le(te),H=H.slice(),U=q-te){for(($=U<0)?(U=-U,B=H):(te=q,B=se),B.reverse(),E=U;E--;B.push(0));B.reverse()}else for(W=($=(U=H.length)<(E=se.length))?U:E,U=E=0;E<W;E++)if(H[E]!=se[E]){$=H[E]<se[E];break}if($&&(B=H,H=se,se=B,m.s=-m.s),E=(W=se.length)-(R=H.length),E>0)for(;E--;H[R++]=0);for(E=V-1;W>U;){if(H[--W]<se[W]){for(R=W;R&&!H[--R];H[R]=E);--H[R],H[W]+=V}H[W]-=se[W]}for(;H[0]==0;H.splice(0,1),--te);return H[0]?we(m,H,te):(m.s=d==3?-1:1,m.c=[m.e=0],m)},y.modulo=y.mod=function(m,E){var R,W,B=this;return m=new ee(m,E),!B.c||!m.s||m.c&&!m.c[0]?new ee(NaN):!m.c||B.c&&!B.c[0]?new ee(B):(c==9?(W=m.s,m.s=1,R=Q(B,m,0,3),m.s=W,R.s*=W):R=Q(B,m,0,c),m=B.minus(R.times(m)),!m.c[0]&&c==1&&(m.s=B.s),m)},y.multipliedBy=y.times=function(m,E){var R,W,B,$,ie,U,q,te,H,se,Se,ge,Ve,He,qe,Oe=this,Xe=Oe.c,Ge=(m=new ee(m,E)).c;if(!Xe||!Ge||!Xe[0]||!Ge[0])return!Oe.s||!m.s||Xe&&!Xe[0]&&!Ge||Ge&&!Ge[0]&&!Xe?m.c=m.e=m.s=null:(m.s*=Oe.s,!Xe||!Ge?m.c=m.e=null:(m.c=[0],m.e=0)),m;for(W=le(Oe.e/p)+le(m.e/p),m.s*=Oe.s,q=Xe.length,se=Ge.length,q<se&&(Ve=Xe,Xe=Ge,Ge=Ve,B=q,q=se,se=B),B=q+se,Ve=[];B--;Ve.push(0));for(He=V,qe=Z,B=se;--B>=0;){for(R=0,Se=Ge[B]%qe,ge=Ge[B]/qe|0,ie=q,$=B+ie;$>B;)te=Xe[--ie]%qe,H=Xe[ie]/qe|0,U=ge*te+H*Se,te=Se*te+U%qe*qe+Ve[$]+R,R=(te/He|0)+(U/qe|0)+ge*H,Ve[$--]=te%He;Ve[$]=R}return R?++W:Ve.splice(0,1),we(m,Ve,W)},y.negated=function(){var m=new ee(this);return m.s=-m.s||null,m},y.plus=function(m,E){var R,W=this,B=W.s;if(m=new ee(m,E),E=m.s,!B||!E)return new ee(NaN);if(B!=E)return m.s=-E,W.minus(m);var $=W.e/p,ie=m.e/p,U=W.c,q=m.c;if(!$||!ie){if(!U||!q)return new ee(B/0);if(!U[0]||!q[0])return q[0]?m:new ee(U[0]?W:B*0)}if($=le($),ie=le(ie),U=U.slice(),B=$-ie){for(B>0?(ie=$,R=q):(B=-B,R=U),R.reverse();B--;R.push(0));R.reverse()}for(B=U.length,E=q.length,B-E<0&&(R=q,q=U,U=R,E=B),B=0;E;)B=(U[--E]=U[E]+q[E]+B)/V|0,U[E]=V===U[E]?0:U[E]%V;return B&&(U=[B].concat(U),++ie),we(m,U,ie)},y.precision=y.sd=function(m,E){var R,W,B,$=this;if(m!=null&&m!==!!m)return N(m,1,he),E==null?E=d:N(E,0,8),F(new ee($),m,E);if(!(R=$.c))return null;if(B=R.length-1,W=B*p+1,B=R[B]){for(;B%10==0;B/=10,W--);for(B=R[0];B>=10;B/=10,W++);}return m&&$.e+1>W&&(W=$.e+1),W},y.shiftedBy=function(m){return N(m,-C,C),this.times("1e"+m)},y.squareRoot=y.sqrt=function(){var m,E,R,W,B,$=this,ie=$.c,U=$.s,q=$.e,te=u+4,H=new ee("0.5");if(U!==1||!ie||!ie[0])return new ee(!U||U<0&&(!ie||ie[0])?NaN:ie?$:1/0);if(U=Math.sqrt(+X($)),U==0||U==1/0?(E=k(ie),(E.length+q)%2==0&&(E+="0"),U=Math.sqrt(+E),q=le((q+1)/2)-(q<0||q%2),U==1/0?E="5e"+q:(E=U.toExponential(),E=E.slice(0,E.indexOf("e")+1)+q),R=new ee(E)):R=new ee(U+""),R.c[0]){for(q=R.e,U=q+te,U<3&&(U=0);;)if(B=R,R=H.times(B.plus(Q($,B,te,1))),k(B.c).slice(0,U)===(E=k(R.c)).slice(0,U))if(R.e<q&&--U,E=E.slice(U-3,U+1),E=="9999"||!W&&E=="4999"){if(!W&&(F(B,B.e+u+2,0),B.times(B).eq($))){R=B;break}te+=4,U+=4,W=1}else{(!+E||!+E.slice(1)&&E.charAt(0)=="5")&&(F(R,R.e+u+2,1),m=!R.times(R).eq($));break}}return F(R,R.e+u+1,d,m)},y.toExponential=function(m,E){return m!=null&&(N(m,0,he),m++),g(this,m,E,1)},y.toFixed=function(m,E){return m!=null&&(N(m,0,he),m=m+this.e+1),g(this,m,E)},y.toFormat=function(m,E,R){var W,B=this;if(R==null)m!=null&&E&&typeof E=="object"?(R=E,E=null):m&&typeof m=="object"?(R=m,m=E=null):R=Ie;else if(typeof R!="object")throw Error(h+"Argument not an object: "+R);if(W=B.toFixed(m,E),B.c){var $,ie=W.split("."),U=+R.groupSize,q=+R.secondaryGroupSize,te=R.groupSeparator||"",H=ie[0],se=ie[1],Se=B.s<0,ge=Se?H.slice(1):H,Ve=ge.length;if(q&&($=U,U=q,q=$,Ve-=$),U>0&&Ve>0){for($=Ve%U||U,H=ge.substr(0,$);$<Ve;$+=U)H+=te+ge.substr($,U);q>0&&(H+=te+ge.slice($)),Se&&(H="-"+H)}W=se?H+(R.decimalSeparator||"")+((q=+R.fractionGroupSize)?se.replace(new RegExp("\\d{"+q+"}\\B","g"),"$&"+(R.fractionGroupSeparator||"")):se):H}return(R.prefix||"")+W+(R.suffix||"")},y.toFraction=function(m){var E,R,W,B,$,ie,U,q,te,H,se,Se,ge=this,Ve=ge.c;if(m!=null&&(U=new ee(m),!U.isInteger()&&(U.c||U.s!==1)||U.lt(s)))throw Error(h+"Argument "+(U.isInteger()?"out of range: ":"not an integer: ")+X(U));if(!Ve)return new ee(ge);for(E=new ee(s),te=R=new ee(s),W=q=new ee(s),Se=k(Ve),$=E.e=Se.length-ge.e-1,E.c[0]=J[(ie=$%p)<0?p+ie:ie],m=!m||U.comparedTo(E)>0?$>0?E:te:U,ie=L,L=1/0,U=new ee(Se),q.c[0]=0;H=Q(U,E,0,1),B=R.plus(H.times(W)),B.comparedTo(m)!=1;)R=W,W=B,te=q.plus(H.times(B=te)),q=B,E=U.minus(H.times(B=E)),U=B;return B=Q(m.minus(R),W,0,1),q=q.plus(B.times(te)),R=R.plus(B.times(W)),q.s=te.s=ge.s,$=$*2,se=Q(te,W,$,d).minus(ge).abs().comparedTo(Q(q,R,$,d).minus(ge).abs())<1?[te,W]:[q,R],L=ie,se},y.toNumber=function(){return+X(this)},y.toPrecision=function(m,E){return m!=null&&N(m,1,he),g(this,m,E,2)},y.toString=function(m){var E,R=this,W=R.s,B=R.e;return B===null?W?(E="Infinity",W<0&&(E="-"+E)):E="NaN":(m==null?E=B<=S||B>=A?fe(k(R.c),B):ve(k(R.c),B,"0"):m===10&&pe?(R=F(new ee(R),u+B+1,d),E=ve(k(R.c),R.e,"0")):(N(m,2,ye.length,"Base"),E=Y(ve(k(R.c),B,"0"),10,m,W,!0)),W<0&&R.c[0]&&(E="-"+E)),E},y.valueOf=y.toJSON=function(){return X(this)},y._isBigNumber=!0,D!=null&&ee.set(D),ee}function le(D){var Q=D|0;return D>0||D===Q?Q:Q-1}function k(D){for(var Q,Y,me=1,y=D.length,s=D[0]+"";me<y;){for(Q=D[me++]+"",Y=p-Q.length;Y--;Q="0"+Q);s+=Q}for(y=s.length;s.charCodeAt(--y)===48;);return s.slice(0,y+1||1)}function P(D,Q){var Y,me,y=D.c,s=Q.c,u=D.s,d=Q.s,S=D.e,A=Q.e;if(!u||!d)return null;if(Y=y&&!y[0],me=s&&!s[0],Y||me)return Y?me?0:-d:u;if(u!=d)return u;if(Y=u<0,me=S==A,!y||!s)return me?0:!y^Y?1:-1;if(!me)return S>A^Y?1:-1;for(d=(S=y.length)<(A=s.length)?S:A,u=0;u<d;u++)if(y[u]!=s[u])return y[u]>s[u]^Y?1:-1;return S==A?0:S>A^Y?1:-1}function N(D,Q,Y,me){if(D<Q||D>Y||D!==o(D))throw Error(h+(me||"Argument")+(typeof D=="number"?D<Q||D>Y?" out of range: ":" not an integer: ":" not a primitive number: ")+String(D))}function G(D){var Q=D.c.length-1;return le(D.e/p)==Q&&D.c[Q]%2!=0}function fe(D,Q){return(D.length>1?D.charAt(0)+"."+D.slice(1):D)+(Q<0?"e":"e+")+Q}function ve(D,Q,Y){var me,y;if(Q<0){for(y=Y+".";++Q;y+=Y);D=y+D}else if(me=D.length,++Q>me){for(y=Y,Q-=me;--Q;y+=Y);D+=y}else Q<me&&(D=D.slice(0,Q)+"."+D.slice(Q));return D}t=ne(),t.default=t.BigNumber=t,n.exports?n.exports=t:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=t)})(mh)})(Hh);var Gh=Hh.exports;(function(n){var e=Gh,t=n.exports;(function(){var r=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i,o,h={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},v;function V(C){return r.lastIndex=0,r.test(C)?'"'+C.replace(r,function(J){var Z=h[J];return typeof Z=="string"?Z:"\\u"+("0000"+J.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+C+'"'}function p(C,J){var Z,he,ne,le,k=i,P,N=J[C],G=N!=null&&(N instanceof e||e.isBigNumber(N));switch(N&&typeof N=="object"&&typeof N.toJSON=="function"&&(N=N.toJSON(C)),typeof v=="function"&&(N=v.call(J,C,N)),typeof N){case"string":return G?N:V(N);case"number":return isFinite(N)?String(N):"null";case"boolean":case"null":case"bigint":return String(N);case"object":if(!N)return"null";if(i+=o,P=[],Object.prototype.toString.apply(N)==="[object Array]"){for(le=N.length,Z=0;Z<le;Z+=1)P[Z]=p(Z,N)||"null";return ne=P.length===0?"[]":i?`[
`+i+P.join(`,
`+i)+`
`+k+"]":"["+P.join(",")+"]",i=k,ne}if(v&&typeof v=="object")for(le=v.length,Z=0;Z<le;Z+=1)typeof v[Z]=="string"&&(he=v[Z],ne=p(he,N),ne&&P.push(V(he)+(i?": ":":")+ne));else Object.keys(N).forEach(function(fe){var ve=p(fe,N);ve&&P.push(V(fe)+(i?": ":":")+ve)});return ne=P.length===0?"{}":i?`{
`+i+P.join(`,
`+i)+`
`+k+"}":"{"+P.join(",")+"}",i=k,ne}}typeof t.stringify!="function"&&(t.stringify=function(C,J,Z){var he;if(i="",o="",typeof Z=="number")for(he=0;he<Z;he+=1)o+=" ";else typeof Z=="string"&&(o=Z);if(v=J,J&&typeof J!="function"&&(typeof J!="object"||typeof J.length!="number"))throw new Error("JSON.stringify");return p("",{"":C})})})()})(zh);var yf=zh.exports,As=null;const wf=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,vf=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;var Sf=function(n){var e={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(n!=null){if(n.strict===!0&&(e.strict=!0),n.storeAsString===!0&&(e.storeAsString=!0),e.alwaysParseAsBig=n.alwaysParseAsBig===!0?n.alwaysParseAsBig:!1,e.useNativeBigInt=n.useNativeBigInt===!0?n.useNativeBigInt:!1,typeof n.constructorAction<"u")if(n.constructorAction==="error"||n.constructorAction==="ignore"||n.constructorAction==="preserve")e.constructorAction=n.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${n.constructorAction}`);if(typeof n.protoAction<"u")if(n.protoAction==="error"||n.protoAction==="ignore"||n.protoAction==="preserve")e.protoAction=n.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${n.protoAction}`)}var t,r,i={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},o,h=function(le){throw{name:"SyntaxError",message:le,at:t,text:o}},v=function(le){return le&&le!==r&&h("Expected '"+le+"' instead of '"+r+"'"),r=o.charAt(t),t+=1,r},V=function(){var le,k="";for(r==="-"&&(k="-",v("-"));r>="0"&&r<="9";)k+=r,v();if(r===".")for(k+=".";v()&&r>="0"&&r<="9";)k+=r;if(r==="e"||r==="E")for(k+=r,v(),(r==="-"||r==="+")&&(k+=r,v());r>="0"&&r<="9";)k+=r,v();if(le=+k,!isFinite(le))h("Bad number");else return As==null&&(As=Gh),k.length>15?e.storeAsString?k:e.useNativeBigInt?BigInt(k):new As(k):e.alwaysParseAsBig?e.useNativeBigInt?BigInt(le):new As(le):le},p=function(){var le,k,P="",N;if(r==='"')for(var G=t;v();){if(r==='"')return t-1>G&&(P+=o.substring(G,t-1)),v(),P;if(r==="\\"){if(t-1>G&&(P+=o.substring(G,t-1)),v(),r==="u"){for(N=0,k=0;k<4&&(le=parseInt(v(),16),!!isFinite(le));k+=1)N=N*16+le;P+=String.fromCharCode(N)}else if(typeof i[r]=="string")P+=i[r];else break;G=t}}h("Bad string")},C=function(){for(;r&&r<=" ";)v()},J=function(){switch(r){case"t":return v("t"),v("r"),v("u"),v("e"),!0;case"f":return v("f"),v("a"),v("l"),v("s"),v("e"),!1;case"n":return v("n"),v("u"),v("l"),v("l"),null}h("Unexpected '"+r+"'")},Z,he=function(){var le=[];if(r==="["){if(v("["),C(),r==="]")return v("]"),le;for(;r;){if(le.push(Z()),C(),r==="]")return v("]"),le;v(","),C()}}h("Bad array")},ne=function(){var le,k=Object.create(null);if(r==="{"){if(v("{"),C(),r==="}")return v("}"),k;for(;r;){if(le=p(),C(),v(":"),e.strict===!0&&Object.hasOwnProperty.call(k,le)&&h('Duplicate key "'+le+'"'),wf.test(le)===!0?e.protoAction==="error"?h("Object contains forbidden prototype property"):e.protoAction==="ignore"?Z():k[le]=Z():vf.test(le)===!0?e.constructorAction==="error"?h("Object contains forbidden constructor property"):e.constructorAction==="ignore"?Z():k[le]=Z():k[le]=Z(),C(),r==="}")return v("}"),k;v(","),C()}}h("Bad object")};return Z=function(){switch(C(),r){case"{":return ne();case"[":return he();case'"':return p();case"-":return V();default:return r>="0"&&r<="9"?V():J()}},function(le,k){var P;return o=le+"",t=0,r=" ",P=Z(),C(),r&&h("Syntax error"),typeof k=="function"?function N(G,fe){var ve,D=G[fe];return D&&typeof D=="object"&&Object.keys(D).forEach(function(Q){ve=N(D,Q),ve!==void 0?D[Q]=ve:delete D[Q]}),k.call(G,fe,D)}({"":P},""):P}},Ef=Sf,Kh=yf.stringify,Wh=Ef;Hs.exports=function(n){return{parse:Wh(n),stringify:Kh}};Hs.exports.parse=Wh();Hs.exports.stringify=Kh;var xf=Hs.exports;const bf=xo(xf);var Aa;(function(n){n.UNSAFE="unsafe",n.SAFE="safe",n.MIXED="mixed",n.BIGINT="bigint"})(Aa||(Aa={}));const Qt=Aa,jh=bf({useNativeBigInt:!0,strict:!0});function Ic(n,{intDecoding:e}){if(e!==Qt.SAFE&&e!==Qt.UNSAFE&&e!==Qt.BIGINT&&e!==Qt.MIXED)throw new Error(`Invalid intDecoding option: ${e}`);return jh.parse(n,(t,r)=>{if(r!=null&&typeof r=="object"&&Object.getPrototypeOf(r)==null&&Object.setPrototypeOf(r,Object.prototype),typeof r=="bigint"){if(e===Qt.SAFE&&r>Number.MAX_SAFE_INTEGER)throw new Error(`Integer exceeds maximum safe integer: ${r.toString()}. Try parsing with a different intDecoding option.`);return e===Qt.BIGINT||e===Qt.MIXED&&r>Number.MAX_SAFE_INTEGER?r:Number(r)}return typeof r=="number"&&e===Qt.BIGINT&&Number.isInteger(r)?BigInt(r):r})}function kr(n,e,t){return jh.stringify(n,e,t)}function Bn(n,e){return n.length!==e.length?!1:Array.from(n).every((t,r)=>t===e[r])}function en(...n){const e=n.reduce((i,o)=>i+o.length,0),t=new Uint8Array(e);let r=0;for(let i=0;i<n.length;i++)t.set(n[i],r),r+=n[i].length;return t}function Gs(){return typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node<"u"}function kf(){const{navigator:n}=globalThis;return typeof n=="object"&&n.product==="ReactNative"}function De(n){if(typeof n>"u")throw new Error("Value is undefined");if(typeof n=="bigint"){if(n>BigInt(Number.MAX_SAFE_INTEGER)||n<BigInt(Number.MIN_SAFE_INTEGER))throw new Error(`BigInt value ${n} is not a safe integer`);return Number(n)}if(typeof n=="number"){if(Number.isSafeInteger(n))return n;throw new Error(`Value ${n} is not a safe integer`)}throw new Error(`Unexpected type ${typeof n}, ${n}`)}function xn(n){const e=De(n);if(e<0)throw new Error(`Value ${e} is negative`);return e}function oe(n){if(typeof n>"u")throw new Error("Value is undefined");if(typeof n=="bigint")return n;if(typeof n=="number"){if(!Number.isSafeInteger(n))throw new Error(`Value ${n} is not a safe integer`);return BigInt(n)}throw new Error(`Unexpected type ${typeof n}, ${n}`)}function zt(n){const e=oe(n);if(e<0||e>BigInt("0xffffffffffffffff"))throw new Error(`Value ${e} is not a uint64`);return e}function zn(n){return pf.sha512_256.array(n)}function Mf(n){return kf()&&console.warn("It looks like you're running in react-native. In order to perform common crypto operations you will need to polyfill common operations such as crypto.getRandomValues"),Un.randomBytes(n)}function Jh(n){return Un.sign.keyPair.fromSeed(n)}function Af(){const n=Mf(Un.box.secretKeyLength);return Jh(n)}function Yh(n){return n===Un.sign.signatureLength}function Ks(n){return Un.sign.keyPair.fromSecretKey(n)}function Ws(n,e){return Un.sign.detached(n,e)}function Xh(n,e){return Un.verify(n,e)}function js(n,e,t){return Un.sign.detached.verify(n,e,t)}const Zh=Un.sign.publicKeyLength;Un.sign.secretKeyLength;const eh=32,Da=32;var Qh={exports:{}};/*
 * [hi-base32]{@link https://github.com/emn178/hi-base32}
 *
 * @version 0.5.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(n){(function(){var e=typeof window=="object"?window:{},t=!e.HI_BASE32_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;t&&(e=globalThis);var r=!e.HI_BASE32_NO_COMMON_JS&&!0&&n.exports,i="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".split(""),o={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,2:26,3:27,4:28,5:29,6:30,7:31},h=[0,0,0,0,0,0,0,0],v=function(k,P){P.length>10&&(P="..."+P.substr(-10));var N=new Error("Decoded data is not valid UTF-8. Maybe try base32.decode.asBytes()? Partial data after reading "+k+" bytes: "+P+" <-");throw N.position=k,N},V=function(k){for(var P="",N=k.length,G=0,fe=0,ve,D;G<N;){if(ve=k[G++],ve<=127){P+=String.fromCharCode(ve);continue}else ve>191&&ve<=223?(D=ve&31,fe=1):ve<=239?(D=ve&15,fe=2):ve<=247?(D=ve&7,fe=3):v(G,P);for(var Q=0;Q<fe;++Q)ve=k[G++],(ve<128||ve>191)&&v(G,P),D<<=6,D+=ve&63;D>=55296&&D<=57343&&v(G,P),D>1114111&&v(G,P),D<=65535?P+=String.fromCharCode(D):(D-=65536,P+=String.fromCharCode((D>>10)+55296),P+=String.fromCharCode((D&1023)+56320))}return P},p=function(k){if(k==="")return[];if(!/^[A-Z2-7=]+$/.test(k))throw new Error("Invalid base32 characters");k=k.replace(/=/g,"");for(var P,N,G,fe,ve,D,Q,Y,me=[],y=0,s=k.length,u=0,d=s>>3<<3;u<d;)P=o[k.charAt(u++)],N=o[k.charAt(u++)],G=o[k.charAt(u++)],fe=o[k.charAt(u++)],ve=o[k.charAt(u++)],D=o[k.charAt(u++)],Q=o[k.charAt(u++)],Y=o[k.charAt(u++)],me[y++]=(P<<3|N>>>2)&255,me[y++]=(N<<6|G<<1|fe>>>4)&255,me[y++]=(fe<<4|ve>>>1)&255,me[y++]=(ve<<7|D<<2|Q>>>3)&255,me[y++]=(Q<<5|Y)&255;var S=s-d;return S===2?(P=o[k.charAt(u++)],N=o[k.charAt(u++)],me[y++]=(P<<3|N>>>2)&255):S===4?(P=o[k.charAt(u++)],N=o[k.charAt(u++)],G=o[k.charAt(u++)],fe=o[k.charAt(u++)],me[y++]=(P<<3|N>>>2)&255,me[y++]=(N<<6|G<<1|fe>>>4)&255):S===5?(P=o[k.charAt(u++)],N=o[k.charAt(u++)],G=o[k.charAt(u++)],fe=o[k.charAt(u++)],ve=o[k.charAt(u++)],me[y++]=(P<<3|N>>>2)&255,me[y++]=(N<<6|G<<1|fe>>>4)&255,me[y++]=(fe<<4|ve>>>1)&255):S===7&&(P=o[k.charAt(u++)],N=o[k.charAt(u++)],G=o[k.charAt(u++)],fe=o[k.charAt(u++)],ve=o[k.charAt(u++)],D=o[k.charAt(u++)],Q=o[k.charAt(u++)],me[y++]=(P<<3|N>>>2)&255,me[y++]=(N<<6|G<<1|fe>>>4)&255,me[y++]=(fe<<4|ve>>>1)&255,me[y++]=(ve<<7|D<<2|Q>>>3)&255),me},C=function(k){for(var P,N,G,fe,ve,D="",Q=k.length,Y=0,me=parseInt(Q/5)*5;Y<me;)P=k.charCodeAt(Y++),N=k.charCodeAt(Y++),G=k.charCodeAt(Y++),fe=k.charCodeAt(Y++),ve=k.charCodeAt(Y++),D+=i[P>>>3]+i[(P<<2|N>>>6)&31]+i[N>>>1&31]+i[(N<<4|G>>>4)&31]+i[(G<<1|fe>>>7)&31]+i[fe>>>2&31]+i[(fe<<3|ve>>>5)&31]+i[ve&31];var y=Q-me;return y===1?(P=k.charCodeAt(Y),D+=i[P>>>3]+i[P<<2&31]+"======"):y===2?(P=k.charCodeAt(Y++),N=k.charCodeAt(Y),D+=i[P>>>3]+i[(P<<2|N>>>6)&31]+i[N>>>1&31]+i[N<<4&31]+"===="):y===3?(P=k.charCodeAt(Y++),N=k.charCodeAt(Y++),G=k.charCodeAt(Y),D+=i[P>>>3]+i[(P<<2|N>>>6)&31]+i[N>>>1&31]+i[(N<<4|G>>>4)&31]+i[G<<1&31]+"==="):y===4&&(P=k.charCodeAt(Y++),N=k.charCodeAt(Y++),G=k.charCodeAt(Y++),fe=k.charCodeAt(Y),D+=i[P>>>3]+i[(P<<2|N>>>6)&31]+i[N>>>1&31]+i[(N<<4|G>>>4)&31]+i[(G<<1|fe>>>7)&31]+i[fe>>>2&31]+i[fe<<3&31]+"="),D},J=function(k){var P,N,G,fe,ve,D,Q=!1,Y="",me=0,y,s=0,u=k.length;if(k==="")return Y;do{for(h[0]=h[5],h[1]=h[6],h[2]=h[7],y=s;me<u&&y<5;++me)D=k.charCodeAt(me),D<128?h[y++]=D:D<2048?(h[y++]=192|D>>6,h[y++]=128|D&63):D<55296||D>=57344?(h[y++]=224|D>>12,h[y++]=128|D>>6&63,h[y++]=128|D&63):(D=65536+((D&1023)<<10|k.charCodeAt(++me)&1023),h[y++]=240|D>>18,h[y++]=128|D>>12&63,h[y++]=128|D>>6&63,h[y++]=128|D&63);s=y-5,me===u&&++me,me>u&&y<6&&(Q=!0),P=h[0],y>4?(N=h[1],G=h[2],fe=h[3],ve=h[4],Y+=i[P>>>3]+i[(P<<2|N>>>6)&31]+i[N>>>1&31]+i[(N<<4|G>>>4)&31]+i[(G<<1|fe>>>7)&31]+i[fe>>>2&31]+i[(fe<<3|ve>>>5)&31]+i[ve&31]):y===1?Y+=i[P>>>3]+i[P<<2&31]+"======":y===2?(N=h[1],Y+=i[P>>>3]+i[(P<<2|N>>>6)&31]+i[N>>>1&31]+i[N<<4&31]+"===="):y===3?(N=h[1],G=h[2],Y+=i[P>>>3]+i[(P<<2|N>>>6)&31]+i[N>>>1&31]+i[(N<<4|G>>>4)&31]+i[G<<1&31]+"==="):(N=h[1],G=h[2],fe=h[3],Y+=i[P>>>3]+i[(P<<2|N>>>6)&31]+i[N>>>1&31]+i[(N<<4|G>>>4)&31]+i[(G<<1|fe>>>7)&31]+i[fe>>>2&31]+i[fe<<3&31]+"=")}while(!Q);return Y},Z=function(k){for(var P,N,G,fe,ve,D="",Q=k.length,Y=0,me=parseInt(Q/5)*5;Y<me;)P=k[Y++],N=k[Y++],G=k[Y++],fe=k[Y++],ve=k[Y++],D+=i[P>>>3]+i[(P<<2|N>>>6)&31]+i[N>>>1&31]+i[(N<<4|G>>>4)&31]+i[(G<<1|fe>>>7)&31]+i[fe>>>2&31]+i[(fe<<3|ve>>>5)&31]+i[ve&31];var y=Q-me;return y===1?(P=k[Y],D+=i[P>>>3]+i[P<<2&31]+"======"):y===2?(P=k[Y++],N=k[Y],D+=i[P>>>3]+i[(P<<2|N>>>6)&31]+i[N>>>1&31]+i[N<<4&31]+"===="):y===3?(P=k[Y++],N=k[Y++],G=k[Y],D+=i[P>>>3]+i[(P<<2|N>>>6)&31]+i[N>>>1&31]+i[(N<<4|G>>>4)&31]+i[G<<1&31]+"==="):y===4&&(P=k[Y++],N=k[Y++],G=k[Y++],fe=k[Y],D+=i[P>>>3]+i[(P<<2|N>>>6)&31]+i[N>>>1&31]+i[(N<<4|G>>>4)&31]+i[(G<<1|fe>>>7)&31]+i[fe>>>2&31]+i[fe<<3&31]+"="),D},he=function(k,P){var N=typeof k!="string";return N&&k.constructor===ArrayBuffer&&(k=new Uint8Array(k)),N?Z(k):P?C(k):J(k)},ne=function(k,P){if(!P)return V(p(k));if(k==="")return"";if(!/^[A-Z2-7=]+$/.test(k))throw new Error("Invalid base32 characters");var N,G,fe,ve,D,Q,Y,me,y="",s=k.indexOf("=");s===-1&&(s=k.length);for(var u=0,d=s>>3<<3;u<d;)N=o[k.charAt(u++)],G=o[k.charAt(u++)],fe=o[k.charAt(u++)],ve=o[k.charAt(u++)],D=o[k.charAt(u++)],Q=o[k.charAt(u++)],Y=o[k.charAt(u++)],me=o[k.charAt(u++)],y+=String.fromCharCode((N<<3|G>>>2)&255)+String.fromCharCode((G<<6|fe<<1|ve>>>4)&255)+String.fromCharCode((ve<<4|D>>>1)&255)+String.fromCharCode((D<<7|Q<<2|Y>>>3)&255)+String.fromCharCode((Y<<5|me)&255);var S=s-d;return S===2?(N=o[k.charAt(u++)],G=o[k.charAt(u++)],y+=String.fromCharCode((N<<3|G>>>2)&255)):S===4?(N=o[k.charAt(u++)],G=o[k.charAt(u++)],fe=o[k.charAt(u++)],ve=o[k.charAt(u++)],y+=String.fromCharCode((N<<3|G>>>2)&255)+String.fromCharCode((G<<6|fe<<1|ve>>>4)&255)):S===5?(N=o[k.charAt(u++)],G=o[k.charAt(u++)],fe=o[k.charAt(u++)],ve=o[k.charAt(u++)],D=o[k.charAt(u++)],y+=String.fromCharCode((N<<3|G>>>2)&255)+String.fromCharCode((G<<6|fe<<1|ve>>>4)&255)+String.fromCharCode((ve<<4|D>>>1)&255)):S===7&&(N=o[k.charAt(u++)],G=o[k.charAt(u++)],fe=o[k.charAt(u++)],ve=o[k.charAt(u++)],D=o[k.charAt(u++)],Q=o[k.charAt(u++)],Y=o[k.charAt(u++)],y+=String.fromCharCode((N<<3|G>>>2)&255)+String.fromCharCode((G<<6|fe<<1|ve>>>4)&255)+String.fromCharCode((ve<<4|D>>>1)&255)+String.fromCharCode((D<<7|Q<<2|Y>>>3)&255)),y},le={encode:he,decode:ne};ne.asBytes=p,r?n.exports=le:e.base32=le})()})(Qh);var Df=Qh.exports;const Lo=xo(Df);function eu(n){if(!(typeof n=="bigint"||Number.isInteger(n))||n<0||n>BigInt("0xffffffffffffffff"))throw new Error("Input is not a 64-bit unsigned integer");const t=new Uint8Array(8);return new DataView(t.buffer).setBigUint64(0,BigInt(n)),t}function If(n,e="safe"){if(e!=="safe"&&e!=="mixed"&&e!=="bigint")throw new Error(`Unknown decodingMode option: ${e}`);if(n.byteLength===0||n.byteLength>8)throw new Error(`Data has unacceptable length. Expected length is between 1 and 8, got ${n.byteLength}`);const t=new Uint8Array(8-n.byteLength),r=en(t,n),o=new DataView(r.buffer).getBigUint64(0),h=o>BigInt(Number.MAX_SAFE_INTEGER);if(e==="safe"){if(h)throw new Error(`Integer exceeds maximum safe integer: ${o.toString()}. Try decoding with "mixed" or "safe" decodingMode.`);return Number(o)}return e==="mixed"&&!h?Number(o):o}function _e(n){if(Gs())return new Uint8Array(Buffer.from(n,"base64"));const e=atob(n);return Uint8Array.from(e,t=>t.codePointAt(0))}function nn(n){if(Gs())return Buffer.from(n).toString("base64");const e=Array.from(n,t=>String.fromCodePoint(t)).join("");return btoa(e)}function Js(n){return new TextDecoder().decode(n)}function Pn(n){return typeof n=="string"?new TextEncoder().encode(n):n}function Ys(n){return Gs()?Buffer.from(n).toString("hex"):Array.from(n).map(e=>e.toString(16).padStart(2,"0")).join("")}function Tf(n){if(Gs())return Buffer.from(n,"hex");let e=n;n.length%2!==0&&(e=n.padStart(1,"0"));const t=new Uint8Array(e.length/2);for(let r=0;r<e.length/2;r++)t[r]=parseInt(e.slice(2*r,2*r+2),16);return t}const yr=36,Uo=4,ga=58,Rf="AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY5HFKQ",To="address seems to be malformed",Vf="wrong checksum for address";function th(n){return Uint8Array.from(zn(n).slice(eh-Uo,eh))}class rt{constructor(e){if(!(e instanceof Uint8Array))throw new Error(`${To}: ${e} is not Uint8Array, type ${typeof e}`);if(e.length!==yr-Uo)throw new Error(`${To}: 0x${Ys(e)}, length ${e.length}`);this.publicKey=e}equals(e){return e instanceof rt&&Bn(this.publicKey,e.publicKey)}checksum(){return th(this.publicKey)}toString(){return Lo.encode(en(this.publicKey,this.checksum())).slice(0,ga)}static fromString(e){if(typeof e!="string")throw new Error(`${To}: expected string, got ${typeof e}, ${e}`);if(e.length!==ga)throw new Error(`${To}: expected length ${ga}, got ${e.length}: ${e}`);const t=Lo.decode.asBytes(e);if(t.length!==yr)throw new Error(`${To}: expected byte length ${yr}, got ${t.length}`);const r=new Uint8Array(t.slice(0,yr-Uo)),i=new Uint8Array(t.slice(Zh,yr)),o=th(r);if(!Bn(o,i))throw new Error(Vf);return new rt(r)}static zeroAddress(){return new rt(new Uint8Array(yr-Uo))}}function tu(n){return rt.fromString(n)}function nu(n){try{rt.fromString(n)}catch{return!1}return!0}function ru(n){return new rt(n).toString()}const _f=new TextEncoder().encode("appID");function Ia(n){const e=en(_f,eu(n)),t=zn(e);return new rt(Uint8Array.from(t))}const iu=1e6,Tc="Microalgos should be positive and less than 2^53 - 1.";function Bf(n){if(n<0||!Number.isSafeInteger(n))throw new Error(Tc);return n/iu}function Pf(n){const e=n*iu;return Math.round(e)}class Of extends Error{constructor(e,t){super(e),this.response=t,this.name="URLTokenBaseHTTPError",this.response=t}}class vr{constructor(e,t,r,i={}){this.defaultHeaders=i;const o=t.endsWith("/")?t:`${t}/`,h=new URL(o);if(typeof r<"u"&&(h.port=r.toString()),h.protocol.length===0)throw new Error("Invalid base server URL, protocol must be defined.");this.baseURL=h,this.tokenHeader=e}getURL(e,t){let r;e.startsWith("./")?r=e:e.startsWith("/")?r=`.${e}`:r=`./${e}`;const i=new URL(r,this.baseURL);if(t)for(const[o,h]of Object.entries(t))i.searchParams.set(o,h.toString());return i.toString()}static formatFetchResponseHeaders(e){const t={};return e.forEach((r,i)=>{t[r]=i}),t}static async checkHttpError(e){if(e.ok)return;let t,r;try{t=new Uint8Array(await e.arrayBuffer());const o=JSON.parse(new TextDecoder().decode(t));o.message&&(r=o.message)}catch{}let i=`Network request error. Received status ${e.status} (${e.statusText})`;throw r&&(i+=`: ${r}`),new Of(i,{body:t??new Uint8Array,status:e.status,headers:vr.formatFetchResponseHeaders(e.headers)})}static async formatFetchResponse(e){return await this.checkHttpError(e),{body:new Uint8Array(await e.arrayBuffer()),status:e.status,headers:vr.formatFetchResponseHeaders(e.headers)}}async get(e,t,r,i){const o={...this.tokenHeader,...this.defaultHeaders,...r??{}},h=await fetch(this.getURL(e,t),{headers:o,...i??{}});return vr.formatFetchResponse(h)}async post(e,t,r,i,o){const h={...this.tokenHeader,...this.defaultHeaders,...i??{}},v=await fetch(this.getURL(e,r),{method:"POST",body:t,headers:h,...o??{}});return vr.formatFetchResponse(v)}async delete(e,t,r,i,o){const h={...this.tokenHeader,...this.defaultHeaders,...i??{}},v=await fetch(this.getURL(e,r),{method:"DELETE",body:t,headers:h,...o??{}});return vr.formatFetchResponse(v)}}class Cf{constructor(e){this.body=e.body,this.text=e.text,this.format=e.format,this.headers=e.headers,this.status=e.status,this.ok=e.ok}getJSONText(){if(this.text===void 0)throw new Error(`Response body does not contain JSON data. Format is ${this.format}`);return this.text}parseBodyAsJSON(e){if(this.text===void 0)throw new Error(`Response body does not contain JSON data. Format is ${this.format}`);return mn.parseJSON(this.text,this.status,e)}}function Nf(n){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(!n[e]||n[e].length===0)&&delete n[e];return n}function nh(n){return Object.keys(n).reduce((e,t)=>(e[t.toLowerCase()]=n[t],e),{})}function Uf(n){if(n!==void 0&&Object.prototype.hasOwnProperty.call(n,"format"))switch(n.format){case"msgpack":return"application/msgpack";case"json":default:return"application/json"}else return"application/json"}class mn{constructor(e,t,r,i={}){t!==void 0?this.bc=new vr(e,t,r,i):this.bc=e}static parseJSON(e,t,r){try{return e?Ic(e,r):null}catch(i){const o=i;throw o.rawResponse=e||null,o.statusCode=t,o}}static serializeData(e,t){if(!e)return new Uint8Array(0);if(t["content-type"]==="application/json")return new TextEncoder().encode(kr(e));if(typeof e=="string")return new TextEncoder().encode(e);if(e instanceof Uint8Array)return e;throw new Error("provided data is neither a string nor a Uint8Array and content-type is not application/json")}static prepareResponse(e,t){const{body:r}=e;let i;return t!=="application/msgpack"&&(i=r&&new TextDecoder().decode(r)||""),new Cf({...e,format:t,text:i,ok:Math.trunc(e.status/100)===2})}static prepareResponseError(e){return e.response&&(e.response=mn.prepareResponse(e.response,"application/json"),e.status=e.response.status),e}async get({relativePath:e,query:t,requestHeaders:r,customOptions:i}){const o=Uf(t),h={...r??{},accept:o};try{const v=await this.bc.get(e,t?Nf(t):void 0,h,i);return mn.prepareResponse(v,o)}catch(v){throw mn.prepareResponseError(v)}}async post({relativePath:e,data:t,query:r,requestHeaders:i,customOptions:o}){const h={"content-type":"application/json",...nh(i??{})};try{const v=await this.bc.post(e,mn.serializeData(t,h),r,h,o);return mn.prepareResponse(v,"application/json")}catch(v){throw mn.prepareResponseError(v)}}async delete({relativePath:e,data:t,requestHeaders:r,customOptions:i}){const o={"content-type":"application/json",...nh(r??{})};try{const h=await this.bc.delete(e,typeof t<"u"?mn.serializeData(t,o):void 0,void 0,o,i);return mn.prepareResponse(h,"application/json")}catch(h){throw mn.prepareResponseError(h)}}}function $f(n,e=""){const t={};return e===""||(t[n]=e),t}function Lf(n){return typeof n.get=="function"}class Rc{constructor(e,t,r,i,o={}){if(Lf(t))this.c=new mn(t);else{let h;typeof t=="string"?h=$f(e,t):h=t,this.c=new mn(h,r,i,o)}}}function Ff(n){for(var e=n.length,t=0,r=0;r<e;){var i=n.charCodeAt(r++);if(i&4294967168)if(!(i&4294965248))t+=2;else{if(i>=55296&&i<=56319&&r<e){var o=n.charCodeAt(r);(o&64512)===56320&&(++r,i=((i&1023)<<10)+(o&1023)+65536)}i&4294901760?t+=4:t+=3}else{t++;continue}}return t}function qf(n,e,t){for(var r=n.length,i=t,o=0;o<r;){var h=n.charCodeAt(o++);if(h&4294967168)if(!(h&4294965248))e[i++]=h>>6&31|192;else{if(h>=55296&&h<=56319&&o<r){var v=n.charCodeAt(o);(v&64512)===56320&&(++o,h=((h&1023)<<10)+(v&1023)+65536)}h&4294901760?(e[i++]=h>>18&7|240,e[i++]=h>>12&63|128,e[i++]=h>>6&63|128):(e[i++]=h>>12&15|224,e[i++]=h>>6&63|128)}else{e[i++]=h;continue}e[i++]=h&63|128}}var zf=new TextEncoder,Hf=50;function Gf(n,e,t){zf.encodeInto(n,e.subarray(t))}function Kf(n,e,t){n.length>Hf?Gf(n,e,t):qf(n,e,t)}var Wf=4096;function ou(n,e,t){for(var r=e,i=r+t,o=[],h="";r<i;){var v=n[r++];if(!(v&128))o.push(v);else if((v&224)===192){var V=n[r++]&63;o.push((v&31)<<6|V)}else if((v&240)===224){var V=n[r++]&63,p=n[r++]&63;o.push((v&31)<<12|V<<6|p)}else if((v&248)===240){var V=n[r++]&63,p=n[r++]&63,C=n[r++]&63,J=(v&7)<<18|V<<12|p<<6|C;J>65535&&(J-=65536,o.push(J>>>10&1023|55296),J=56320|J&1023),o.push(J)}else o.push(v);o.length>=Wf&&(h+=String.fromCharCode.apply(String,o),o.length=0)}return o.length>0&&(h+=String.fromCharCode.apply(String,o)),h}var jf=new TextDecoder,Jf=200;function Yf(n,e,t){var r=n.subarray(e,e+t);return jf.decode(r)}function Xf(n,e,t){return t>Jf?Yf(n,e,t):ou(n,e,t)}var Ds=function(){function n(e,t){this.type=e,this.data=t}return n}(),Zf=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),In=function(n){Zf(e,n);function e(t){var r=n.call(this,t)||this,i=Object.create(e.prototype);return Object.setPrototypeOf(r,i),Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:e.name}),r}return e}(Error),Yt;(function(n){n[n.UNSAFE_NUMBER=0]="UNSAFE_NUMBER",n[n.SAFE_NUMBER=1]="SAFE_NUMBER",n[n.AS_ENCODED=2]="AS_ENCODED",n[n.MIXED=3]="MIXED",n[n.BIGINT=4]="BIGINT"})(Yt||(Yt={}));var Ro=4294967295;function Qf(n,e,t){var r=t/4294967296,i=t;n.setUint32(e,r),n.setUint32(e+4,i)}function su(n,e,t){var r=Math.floor(t/4294967296),i=t;n.setUint32(e,r),n.setUint32(e+4,i)}function au(n,e,t){if(t===Yt.UNSAFE_NUMBER||t===Yt.SAFE_NUMBER){var r=n.getInt32(e),i=n.getUint32(e+4);if(t===Yt.SAFE_NUMBER&&(r<Math.floor(Number.MIN_SAFE_INTEGER/4294967296)||r===Math.floor(Number.MIN_SAFE_INTEGER/4294967296)&&i===0||r>(Number.MAX_SAFE_INTEGER-i)/4294967296)){var o="".concat(r<0?"-":"","0x").concat(Math.abs(r).toString(16)).concat(i.toString(16).padStart(8,"0"));throw new Error("Mode is IntMode.SAFE_NUMBER and value is not a safe integer: ".concat(o))}return r*4294967296+i}var h=n.getBigInt64(e);return t===Yt.MIXED&&h>=Number.MIN_SAFE_INTEGER&&h<=Number.MAX_SAFE_INTEGER?Number(h):h}function eg(n,e,t){if(t===Yt.UNSAFE_NUMBER||t===Yt.SAFE_NUMBER){var r=n.getUint32(e),i=n.getUint32(e+4);if(t===Yt.SAFE_NUMBER&&r>(Number.MAX_SAFE_INTEGER-i)/4294967296){var o="0x".concat(r.toString(16)).concat(i.toString(16).padStart(8,"0"));throw new Error("Mode is IntMode.SAFE_NUMBER and value is not a safe integer: ".concat(o))}return r*4294967296+i}var h=n.getBigUint64(e);return t===Yt.MIXED&&h<=Number.MAX_SAFE_INTEGER?Number(h):h}function tg(n,e){return e===Yt.BIGINT?BigInt(n):Number(n)}var ng=-1,rg=4294967296-1,ig=17179869184-1;function og(n){var e=n.sec,t=n.nsec;if(e>=0&&t>=0&&e<=ig)if(t===0&&e<=rg){var r=new Uint8Array(4),i=new DataView(r.buffer);return i.setUint32(0,e),r}else{var o=e/4294967296,h=e&4294967295,r=new Uint8Array(8),i=new DataView(r.buffer);return i.setUint32(0,t<<2|o&3),i.setUint32(4,h),r}else{var r=new Uint8Array(12),i=new DataView(r.buffer);return i.setUint32(0,t),su(i,4,e),r}}function sg(n){var e=n.getTime(),t=Math.floor(e/1e3),r=(e-t*1e3)*1e6,i=Math.floor(r/1e9);return{sec:t+i,nsec:r-i*1e9}}function ag(n){if(n instanceof Date){var e=sg(n);return og(e)}else return null}function cg(n){var e=new DataView(n.buffer,n.byteOffset,n.byteLength);switch(n.byteLength){case 4:{var t=e.getUint32(0),r=0;return{sec:t,nsec:r}}case 8:{var i=e.getUint32(0),o=e.getUint32(4),t=(i&3)*4294967296+o,r=i>>>2;return{sec:t,nsec:r}}case 12:{var t=au(e,4,Yt.UNSAFE_NUMBER),r=e.getUint32(0);return{sec:t,nsec:r}}default:throw new In("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(n.length))}}function hg(n){var e=cg(n);return new Date(e.sec*1e3+e.nsec/1e6)}var ug={type:ng,encode:ag,decode:hg},cu=function(){function n(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(ug)}return n.prototype.register=function(e){var t=e.type,r=e.encode,i=e.decode;if(t>=0)this.encoders[t]=r,this.decoders[t]=i;else{var o=1+t;this.builtInEncoders[o]=r,this.builtInDecoders[o]=i}},n.prototype.tryToEncode=function(e,t){for(var r=0;r<this.builtInEncoders.length;r++){var i=this.builtInEncoders[r];if(i!=null){var o=i(e,t);if(o!=null){var h=-1-r;return new Ds(h,o)}}}for(var r=0;r<this.encoders.length;r++){var i=this.encoders[r];if(i!=null){var o=i(e,t);if(o!=null){var h=r;return new Ds(h,o)}}}return e instanceof Ds?e:null},n.prototype.decode=function(e,t,r){var i=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return i?i(e,t,r):new Ds(t,e)},n.defaultCodec=new n,n}();function Xn(n){return n instanceof Uint8Array?n:ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):n instanceof ArrayBuffer?new Uint8Array(n):Uint8Array.from(n)}function lg(n){if(n instanceof ArrayBuffer)return new DataView(n);var e=Xn(n);return new DataView(e.buffer,e.byteOffset,e.byteLength)}function rh(n,e){for(var t=Math.min(n.length,e.length),r=0;r<t;r++){var i=n[r]-e[r];if(i!==0)return i}return n.length-e.length}var ln=function(){function n(e){if(this.rawBinaryValue=e,!ArrayBuffer.isView(e))throw new TypeError("RawBinaryString: rawBinaryValue must be an ArrayBufferView")}return n}(),dg=100,fg=2048,gg=function(){function n(e){var t,r,i,o,h,v,V,p;this.extensionCodec=(t=e==null?void 0:e.extensionCodec)!==null&&t!==void 0?t:cu.defaultCodec,this.context=e==null?void 0:e.context,this.forceBigIntToInt64=(r=e==null?void 0:e.forceBigIntToInt64)!==null&&r!==void 0?r:!1,this.maxDepth=(i=e==null?void 0:e.maxDepth)!==null&&i!==void 0?i:dg,this.initialBufferSize=(o=e==null?void 0:e.initialBufferSize)!==null&&o!==void 0?o:fg,this.sortKeys=(h=e==null?void 0:e.sortKeys)!==null&&h!==void 0?h:!1,this.forceFloat32=(v=e==null?void 0:e.forceFloat32)!==null&&v!==void 0?v:!1,this.ignoreUndefined=(V=e==null?void 0:e.ignoreUndefined)!==null&&V!==void 0?V:!1,this.forceIntegerToFloat=(p=e==null?void 0:e.forceIntegerToFloat)!==null&&p!==void 0?p:!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return n.prototype.reinitializeState=function(){this.pos=0},n.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},n.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},n.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth ".concat(t));e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.encodeObject(e,t)},n.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(t*2)},n.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),r=new Uint8Array(t),i=new DataView(t);r.set(this.bytes),this.view=i,this.bytes=r},n.prototype.encodeNil=function(){this.writeU8(192)},n.prototype.encodeBoolean=function(e){e===!1?this.writeU8(194):this.writeU8(195)},n.prototype.encodeNumber=function(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)},n.prototype.encodeNumberAsFloat=function(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},n.prototype.encodeBigInt=function(e){if(this.forceBigIntToInt64)this.encodeBigIntAsInt64(e);else if(e>=0)if(e<4294967296||this.forceIntegerToFloat)this.encodeNumber(Number(e));else if(e<BigInt("0x10000000000000000"))this.encodeBigIntAsInt64(e);else throw new Error("Bigint is too large for uint64: ".concat(e));else if(e>=-2147483648||this.forceIntegerToFloat)this.encodeNumber(Number(e));else if(e>=BigInt(-1)*BigInt("0x8000000000000000"))this.encodeBigIntAsInt64(e);else throw new Error("Bigint is too small for int64: ".concat(e))},n.prototype.encodeBigIntAsInt64=function(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))},n.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error("Too long string: ".concat(e," bytes in UTF-8"))},n.prototype.encodeString=function(e){var t=5,r=Ff(e);this.ensureBufferSizeToWrite(t+r),this.writeStringHeader(r),Kf(e,this.bytes,this.pos),this.pos+=r},n.prototype.encodeObject=function(e,t){var r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(e instanceof ln)this.encodeBinaryAsString(e);else if(typeof e=="bigint")this.encodeBigInt(e);else if(e instanceof Map)this.encodeMap(e,t);else if(typeof e=="object")this.encodeMapObject(e,t);else throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)))},n.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else if(t<4294967296)this.writeU8(198),this.writeU32(t);else throw new Error("Too large binary: ".concat(t));var r=Xn(e);this.writeU8a(r)},n.prototype.encodeBinaryAsString=function(e){var t=e.rawBinaryValue;this.writeStringHeader(t.byteLength);var r=Xn(t);this.writeU8a(r)},n.prototype.encodeArray=function(e,t){var r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error("Too large array: ".concat(r));for(var i=0,o=e;i<o.length;i++){var h=o[i];this.doEncode(h,t+1)}},n.prototype.countWithoutUndefined=function(e,t){for(var r=0,i=0,o=t;i<o.length;i++){var h=o[i];e.get(h)!==void 0&&r++}return r},n.prototype.sortMapKeys=function(e){for(var t=[],r=[],i=[],o=[],h=0,v=e;h<v.length;h++){var V=v[h];if(typeof V=="number"){if(isNaN(V))throw new Error("Cannot sort map keys with NaN value");t.push(V)}else if(typeof V=="bigint")t.push(V);else if(typeof V=="string")r.push(V);else if(ArrayBuffer.isView(V))o.push(Xn(V));else if(V instanceof ln)i.push(V);else throw new Error("Unsupported map key type: ".concat(Object.prototype.toString.apply(V)))}return t.sort(function(p,C){return p<C?-1:p>C?1:0}),r.sort(),i.sort(function(p,C){return rh(Xn(p.rawBinaryValue),Xn(C.rawBinaryValue))}),o.sort(rh),[].concat(t,r,i,o)},n.prototype.encodeMapObject=function(e,t){this.encodeMap(new Map(Object.entries(e)),t)},n.prototype.encodeMap=function(e,t){var r=Array.from(e.keys());this.sortKeys&&(r=this.sortMapKeys(r));var i=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error("Too large map object: ".concat(i));for(var o=0,h=r;o<h.length;o++){var v=h[o],V=e.get(v);if(!(this.ignoreUndefined&&V===void 0)){if(typeof v=="string")this.encodeString(v);else if(typeof v=="number")this.encodeNumber(v);else if(typeof v=="bigint")this.encodeBigInt(v);else if(ArrayBuffer.isView(v))this.encodeBinary(v);else if(v instanceof ln)this.encodeBinaryAsString(v);else throw new Error("Unsupported map key type: ".concat(Object.prototype.toString.apply(v)));this.doEncode(V,t+1)}}},n.prototype.encodeExtension=function(e){var t=e.data.length;if(t===1)this.writeU8(212);else if(t===2)this.writeU8(213);else if(t===4)this.writeU8(214);else if(t===8)this.writeU8(215);else if(t===16)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else if(t<4294967296)this.writeU8(201),this.writeU32(t);else throw new Error("Too large extension object: ".concat(t));this.writeI8(e.type),this.writeU8a(e.data)},n.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},n.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},n.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},n.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},n.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},n.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},n.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},n.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},n.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},n.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),Qf(this.view,this.pos,e),this.pos+=8},n.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),su(this.view,this.pos,e),this.pos+=8},n.prototype.writeBigUint64=function(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8},n.prototype.writeBigInt64=function(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8},n}();function mg(n,e){var t=new gg(e);return t.encodeSharedRef(n)}function ma(n){return"".concat(n<0?"-":"","0x").concat(Math.abs(n).toString(16).padStart(2,"0"))}var pg=16,yg=16,wg=function(){function n(e,t){e===void 0&&(e=pg),t===void 0&&(t=yg),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var r=0;r<this.maxKeyLength;r++)this.caches.push([])}return n.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},n.prototype.find=function(e,t,r){var i=this.caches[r-1];e:for(var o=0,h=i;o<h.length;o++){for(var v=h[o],V=v.bytes,p=0;p<r;p++)if(V[p]!==e[t+p])continue e;return v.str}return null},n.prototype.store=function(e,t){var r=this.caches[e.length-1],i={bytes:e,str:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)},n.prototype.decode=function(e,t,r){var i=this.find(e,t,r);if(i!=null)return this.hit++,i;this.miss++;var o=ou(e,t,r),h=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(h,o),o},n}(),vg=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(h){h(o)})}return new(t||(t=Promise))(function(o,h){function v(C){try{p(r.next(C))}catch(J){h(J)}}function V(C){try{p(r.throw(C))}catch(J){h(J)}}function p(C){C.done?o(C.value):i(C.value).then(v,V)}p((r=r.apply(n,e||[])).next())})},pa=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,h;return h={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function v(p){return function(C){return V([p,C])}}function V(p){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(t=0)),t;)try{if(r=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,i=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){t.label=p[1];break}if(p[0]===6&&t.label<o[1]){t.label=o[1],o=p;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(p);break}o[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(n,t)}catch(C){p=[6,C],i=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},ih=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof __values=="function"?__values(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(h){return new Promise(function(v,V){h=n[o](h),i(v,V,h.done,h.value)})}}function i(o,h,v,V){Promise.resolve(V).then(function(p){o({value:p,done:v})},h)}},di=function(n){return this instanceof di?(this.v=n,this):new di(n)},Sg=function(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i={},h("next"),h("throw"),h("return"),i[Symbol.asyncIterator]=function(){return this},i;function h(Z){r[Z]&&(i[Z]=function(he){return new Promise(function(ne,le){o.push([Z,he,ne,le])>1||v(Z,he)})})}function v(Z,he){try{V(r[Z](he))}catch(ne){J(o[0][3],ne)}}function V(Z){Z.value instanceof di?Promise.resolve(Z.value.v).then(p,C):J(o[0][2],Z)}function p(Z){v("next",Z)}function C(Z){v("throw",Z)}function J(Z,he){Z(he),o.shift(),o.length&&v(o[0][0],o[0][1])}},Ta="array",$o="map_key",hu="map_value";function Eg(n,e,t){return e?typeof n=="string"||typeof n=="number"||typeof n=="bigint"||n instanceof Uint8Array||n instanceof ln:typeof n=="string"||t&&typeof n=="number"}var xg=function(){function n(e){this.useMap=e,this.stack=[],this.stackHeadPosition=-1}return Object.defineProperty(n.prototype,"length",{get:function(){return this.stackHeadPosition+1},enumerable:!1,configurable:!0}),n.prototype.top=function(){return this.stack[this.stackHeadPosition]},n.prototype.pushArrayState=function(e){var t=this.getUninitializedStateFromPool();t.type=Ta,t.position=0,t.size=e,t.array=new Array(e)},n.prototype.pushMapState=function(e){var t=this.getUninitializedStateFromPool();t.type=$o,t.readCount=0,t.size=e,t.map=this.useMap?new Map:{}},n.prototype.getUninitializedStateFromPool=function(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){var e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]},n.prototype.release=function(e){var t=this.stack[this.stackHeadPosition];if(t!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===Ta){var r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===$o||e.type===hu){var r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--},n.prototype.reset=function(){this.stack.length=0,this.stackHeadPosition=-1},n}(),Vo=-1,Vc=new DataView(new ArrayBuffer(0)),bg=new Uint8Array(Vc.buffer);try{Vc.getInt8(0)}catch(n){if(!(n instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}var Ra=RangeError,oh=new Ra("Insufficient data"),kg=new wg,Mg=function(){function n(e){var t,r,i,o,h,v,V,p,C,J,Z,he;if(this.totalPos=0,this.pos=0,this.view=Vc,this.bytes=bg,this.headByte=Vo,this.extensionCodec=(t=e==null?void 0:e.extensionCodec)!==null&&t!==void 0?t:cu.defaultCodec,this.context=e==null?void 0:e.context,this.intMode=(r=e==null?void 0:e.intMode)!==null&&r!==void 0?r:e!=null&&e.useBigInt64?Yt.AS_ENCODED:Yt.UNSAFE_NUMBER,this.rawBinaryStringValues=(i=e==null?void 0:e.rawBinaryStringValues)!==null&&i!==void 0?i:!1,this.rawBinaryStringKeys=(o=e==null?void 0:e.rawBinaryStringKeys)!==null&&o!==void 0?o:!1,this.useRawBinaryStringClass=(h=e==null?void 0:e.useRawBinaryStringClass)!==null&&h!==void 0?h:!1,this.useMap=(v=e==null?void 0:e.useMap)!==null&&v!==void 0?v:!1,this.supportObjectNumberKeys=(V=e==null?void 0:e.supportObjectNumberKeys)!==null&&V!==void 0?V:!1,this.maxStrLength=(p=e==null?void 0:e.maxStrLength)!==null&&p!==void 0?p:Ro,this.maxBinLength=(C=e==null?void 0:e.maxBinLength)!==null&&C!==void 0?C:Ro,this.maxArrayLength=(J=e==null?void 0:e.maxArrayLength)!==null&&J!==void 0?J:Ro,this.maxMapLength=(Z=e==null?void 0:e.maxMapLength)!==null&&Z!==void 0?Z:Ro,this.maxExtLength=(he=e==null?void 0:e.maxExtLength)!==null&&he!==void 0?he:Ro,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:kg,this.rawBinaryStringKeys&&!this.useMap)throw new Error("rawBinaryStringKeys is only supported when useMap is true");this.stack=new xg(this.useMap)}return n.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=Vo,this.stack.reset()},n.prototype.setBuffer=function(e){this.bytes=Xn(e),this.view=lg(this.bytes),this.pos=0},n.prototype.appendBuffer=function(e){if(this.headByte===Vo&&!this.hasRemaining(1))this.setBuffer(e);else{var t=this.bytes.subarray(this.pos),r=Xn(e),i=new Uint8Array(t.length+r.length);i.set(t),i.set(r,t.length),this.setBuffer(i)}},n.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},n.prototype.createExtraByteError=function(e){var t=this,r=t.view,i=t.pos;return new RangeError("Extra ".concat(r.byteLength-i," of ").concat(r.byteLength," byte(s) found at buffer[").concat(e,"]"))},n.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},n.prototype.decodeMulti=function(e){return pa(this,function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}})},n.prototype.decodeAsync=function(e){var t,r,i,o,h,v,V;return vg(this,void 0,void 0,function(){var p,C,J,Z,he,ne,le,k;return pa(this,function(P){switch(P.label){case 0:p=!1,P.label=1;case 1:P.trys.push([1,6,7,12]),t=!0,r=ih(e),P.label=2;case 2:return[4,r.next()];case 3:if(i=P.sent(),o=i.done,!!o)return[3,5];if(V=i.value,t=!1,J=V,p)throw this.createExtraByteError(this.totalPos);this.appendBuffer(J);try{C=this.doDecodeSync(),p=!0}catch(N){if(!(N instanceof Ra))throw N}this.totalPos+=this.pos,P.label=4;case 4:return t=!0,[3,2];case 5:return[3,12];case 6:return Z=P.sent(),h={error:Z},[3,12];case 7:return P.trys.push([7,,10,11]),!t&&!o&&(v=r.return)?[4,v.call(r)]:[3,9];case 8:P.sent(),P.label=9;case 9:return[3,11];case 10:if(h)throw h.error;return[7];case 11:return[7];case 12:if(p){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,C]}throw he=this,ne=he.headByte,le=he.pos,k=he.totalPos,new RangeError("Insufficient data in parsing ".concat(ma(ne)," at ").concat(k," (").concat(le," in the current buffer)"))}})})},n.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},n.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},n.prototype.decodeMultiAsync=function(e,t){return Sg(this,arguments,function(){var i,o,h,v,V,p,C,J,Z,he,ne,le;return pa(this,function(k){switch(k.label){case 0:i=t,o=-1,k.label=1;case 1:k.trys.push([1,13,14,19]),h=!0,v=ih(e),k.label=2;case 2:return[4,di(v.next())];case 3:if(V=k.sent(),Z=V.done,!!Z)return[3,12];if(le=V.value,h=!1,p=le,t&&o===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(p),i&&(o=this.readArraySize(),i=!1,this.complete()),k.label=4;case 4:k.trys.push([4,9,,10]),k.label=5;case 5:return[4,di(this.doDecodeSync())];case 6:return[4,k.sent()];case 7:return k.sent(),--o===0?[3,8]:[3,5];case 8:return[3,10];case 9:if(C=k.sent(),!(C instanceof Ra))throw C;return[3,10];case 10:this.totalPos+=this.pos,k.label=11;case 11:return h=!0,[3,2];case 12:return[3,19];case 13:return J=k.sent(),he={error:J},[3,19];case 14:return k.trys.push([14,,17,18]),!h&&!Z&&(ne=v.return)?[4,di(ne.call(v))]:[3,16];case 15:k.sent(),k.label=16;case 16:return[3,18];case 17:if(he)throw he.error;return[7];case 18:return[7];case 19:return[2]}})})},n.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=this.convertNumber(e-256);else if(e<192)if(e<128)t=this.convertNumber(e);else if(e<144){var r=e-128;if(r!==0){this.pushMapState(r),this.complete();continue e}else t=this.useMap?new Map:{}}else if(e<160){var r=e-144;if(r!==0){this.pushArrayState(r),this.complete();continue e}else t=[]}else{var i=e-160;t=this.decodeString(i,0)}else if(e===192)t=null;else if(e===194)t=!1;else if(e===195)t=!0;else if(e===202)t=this.readF32();else if(e===203)t=this.readF64();else if(e===204)t=this.convertNumber(this.readU8());else if(e===205)t=this.convertNumber(this.readU16());else if(e===206)t=this.convertNumber(this.readU32());else if(e===207)t=this.readU64();else if(e===208)t=this.convertNumber(this.readI8());else if(e===209)t=this.convertNumber(this.readI16());else if(e===210)t=this.convertNumber(this.readI32());else if(e===211)t=this.readI64();else if(e===217){var i=this.lookU8();t=this.decodeString(i,1)}else if(e===218){var i=this.lookU16();t=this.decodeString(i,2)}else if(e===219){var i=this.lookU32();t=this.decodeString(i,4)}else if(e===220){var r=this.readU16();if(r!==0){this.pushArrayState(r),this.complete();continue e}else t=[]}else if(e===221){var r=this.readU32();if(r!==0){this.pushArrayState(r),this.complete();continue e}else t=[]}else if(e===222){var r=this.readU16();if(r!==0){this.pushMapState(r),this.complete();continue e}else t={}}else if(e===223){var r=this.readU32();if(r!==0){this.pushMapState(r),this.complete();continue e}else t={}}else if(e===196){var r=this.lookU8();t=this.decodeBinary(r,1)}else if(e===197){var r=this.lookU16();t=this.decodeBinary(r,2)}else if(e===198){var r=this.lookU32();t=this.decodeBinary(r,4)}else if(e===212)t=this.decodeExtension(1,0);else if(e===213)t=this.decodeExtension(2,0);else if(e===214)t=this.decodeExtension(4,0);else if(e===215)t=this.decodeExtension(8,0);else if(e===216)t=this.decodeExtension(16,0);else if(e===199){var r=this.lookU8();t=this.decodeExtension(r,1)}else if(e===200){var r=this.lookU16();t=this.decodeExtension(r,2)}else if(e===201){var r=this.lookU32();t=this.decodeExtension(r,4)}else throw new In("Unrecognized type byte: ".concat(ma(e)));this.complete();for(var o=this.stack;o.length>0;){var h=o.top();if(h.type===Ta)if(h.array[h.position]=t,h.position++,h.position===h.size)t=h.array,o.release(h);else continue e;else if(h.type===$o){if(!Eg(t,this.useMap,this.supportObjectNumberKeys)){var v=this.useMap?"string, number, bigint, or Uint8Array":this.supportObjectNumberKeys?"string or number":"string";throw new In("The type of key must be ".concat(v," but got ").concat(typeof t))}if(!this.useMap&&t==="__proto__")throw new In("The key __proto__ is not allowed");h.key=t,h.type=hu;continue e}else if(this.useMap?h.map.set(h.key,t):h.map[h.key]=t,h.readCount++,h.readCount===h.size)t=h.map,o.release(h);else{h.key=null,h.type=$o;continue e}}return t}},n.prototype.readHeadByte=function(){return this.headByte===Vo&&(this.headByte=this.readU8()),this.headByte},n.prototype.complete=function(){this.headByte=Vo},n.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new In("Unrecognized array type byte: ".concat(ma(e)))}}},n.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new In("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.pushMapState(e)},n.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new In("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.pushArrayState(e)},n.prototype.decodeString=function(e,t){if(this.stateIsMapKey()?this.rawBinaryStringKeys:this.rawBinaryStringValues){var r=this.decodeBinary(e,t);return this.useRawBinaryStringClass?new ln(r):r}return this.decodeUtf8String(e,t)},n.prototype.decodeUtf8String=function(e,t){var r;if(e>this.maxStrLength)throw new In("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+t+e)throw oh;var i=this.pos+t,o;return this.stateIsMapKey()&&(!((r=this.keyDecoder)===null||r===void 0)&&r.canBeCached(e))?o=this.keyDecoder.decode(this.bytes,i,e):o=Xf(this.bytes,i,e),this.pos+=t+e,o},n.prototype.stateIsMapKey=function(){if(this.stack.length>0){var e=this.stack.top();return e.type===$o}return!1},n.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new In("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+t))throw oh;var r=this.pos+t,i=this.bytes.subarray(r,r+e);return this.pos+=t+e,i},n.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new In("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var r=this.view.getInt8(this.pos+t),i=this.decodeBinary(e,t+1);return this.extensionCodec.decode(i,r,this.context)},n.prototype.convertNumber=function(e){return tg(e,this.intMode)},n.prototype.lookU8=function(){return this.view.getUint8(this.pos)},n.prototype.lookU16=function(){return this.view.getUint16(this.pos)},n.prototype.lookU32=function(){return this.view.getUint32(this.pos)},n.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},n.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},n.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},n.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},n.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},n.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},n.prototype.readU64=function(){var e=eg(this.view,this.pos,this.intMode);return this.pos+=8,e},n.prototype.readI64=function(){var e=au(this.view,this.pos,this.intMode);return this.pos+=8,e},n.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},n.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},n}();function _c(n,e){var t=new Mg(e);return t.decode(n)}const Ag="The object contains empty or 0 values. First empty or 0 value encountered during encoding: ";function Dg(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&(!n[e]||n[e].length===0))return{containsEmpty:!0,firstEmptyKey:e};return{containsEmpty:!1,firstEmptyKey:void 0}}function bs(n){return mg(n,{sortKeys:!0})}function Ig(n){const e=Dg(n);if(e.containsEmpty)throw new Error(Ag+e.firstEmptyKey);return bs(n)}function uu(n){switch(n){case Qt.UNSAFE:return Yt.UNSAFE_NUMBER;case Qt.SAFE:return Yt.SAFE_NUMBER;case Qt.MIXED:return Yt.MIXED;case Qt.BIGINT:return Yt.BIGINT;default:throw new Error(`Invalid intDecoding: ${n}`)}}function lu(n,e){const t={intMode:e!=null&&e.intDecoding?uu(e==null?void 0:e.intDecoding):Yt.BIGINT};return _c(n,t)}function Tg(n){return lu(n,{intDecoding:Qt.MIXED})}function du(n,e){const t={intMode:e!=null&&e.intDecoding?uu(e==null?void 0:e.intDecoding):Yt.BIGINT,useMap:!0};return _c(n,t)}function Rg(n,e){const t={intMode:Yt.BIGINT,useMap:!0,rawBinaryStringKeys:!0,rawBinaryStringValues:!0,useRawBinaryStringClass:!0};return _c(n,t)}function Va(n){if(n==null)return n;if(n instanceof Uint8Array)return nn(n);if(Array.isArray(n))return n.map(Va);if(n instanceof Map){const e={};for(const[t,r]of n){if(typeof t!="string")throw new Error(`JSON map key must be a string: ${t}`);e[t]=Va(r)}return e}return n}function _a(n){if(n==null||typeof n=="string"||typeof n=="number"||typeof n=="bigint"||typeof n=="boolean")return n;if(Array.isArray(n))return n.map(_a);if(typeof n=="object"){const e=new Map;for(const[t,r]of Object.entries(n))e.set(t,_a(r));return e}throw new Error(`Invalid JSON encoding data: ${n}`)}var Yn;(function(n){n[n.MAP_VALUE=0]="MAP_VALUE",n[n.ARRAY_ELEMENT=1]="ARRAY_ELEMENT"})(Yn||(Yn={}));class Bs{constructor({parent:e,segment:t,baseObjectBytes:r}){this.resolvedCache=null,this.resolvedCachePresent=!1,this.parent=e,this.segment=t,this.baseObjectBytes=r}withMapValue(e){return new Bs({parent:this,segment:{kind:Yn.MAP_VALUE,key:e}})}withArrayElement(e){return new Bs({parent:this,segment:{kind:Yn.ARRAY_ELEMENT,key:e}})}getRawStringAtCurrentLocation(){const e=this.resolve();if(e instanceof ln)return e.rawBinaryValue;throw new Error(`Invalid type. Expected RawBinaryString, got ${e} (${typeof e})`)}getRawStringKeysAndValuesAtCurrentLocation(){const e=this.resolve();if(!(e instanceof Map))throw new Error(`Invalid type. Expected Map, got ${e} (${typeof e})`);const t=new Map;for(const[r,i]of e)if(r instanceof ln)t.set(r.rawBinaryValue,i);else throw new Error(`Invalid type for map key. Expected RawBinaryString, got ${r} (${typeof r})`);return t}resolve(){if(this.resolvedCachePresent)return this.resolvedCache;let e;if(this.parent?e=this.parent.resolve():e=Rg(this.baseObjectBytes),!this.segment)return this.resolvedCache=e,this.resolvedCachePresent=!0,e;if(this.segment.kind===Yn.MAP_VALUE){if(!(e instanceof Map))throw new Error(`Invalid type. Expected Map, got ${e} (${typeof e})`);if(typeof this.segment.key=="string"||this.segment.key instanceof Uint8Array||this.segment.key instanceof ln){const t=this.segment.key instanceof ln?this.segment.key.rawBinaryValue:Pn(this.segment.key),r=typeof this.segment.key=="string"||this.segment.key instanceof ln;for(const[i,o]of e){let h;if(r?i instanceof ln&&(h=i.rawBinaryValue):i instanceof Uint8Array&&(h=i),h&&Bn(t,h)){this.resolvedCache=o;break}}}else this.resolvedCache=e.get(this.segment.key);return this.resolvedCachePresent=!0,this.resolvedCache}if(this.segment.kind===Yn.ARRAY_ELEMENT){if(!Array.isArray(e))throw new Error(`Invalid type. Expected Array, got ${e} (${typeof e})`);return this.resolvedCache=e[this.segment.key],this.resolvedCachePresent=!0,this.resolvedCache}throw new Error(`Invalid segment kind: ${this.segment.kind}`)}getPathString(){const e=this.parent?this.parent.getPathString():"root";return this.segment?this.segment.kind===Yn.MAP_VALUE?`${e} -> map key "${this.segment.key}" (${typeof this.segment.key})`:this.segment.kind===Yn.ARRAY_ELEMENT?`${e} -> array index ${this.segment.key} (${typeof this.segment.key})`:`${e} -> unknown segment kind ${this.segment.kind}`:e}}class dn{}function Ht(n,e){const t=du(n),r=new Bs({baseObjectBytes:n});return e.fromEncodingData(e.encodingSchema.fromPreparedMsgpack(t,r))}function Sn(n){return bs(n.getEncodingSchema().prepareMsgpack(n.toEncodingData()))}function ft(n,e){const t=Ic(n,{intDecoding:Qt.BIGINT});return e.fromEncodingData(e.encodingSchema.fromPreparedJSON(t))}function Vg(n,e){const{space:t,...r}=e??{},i=n.getEncodingSchema().prepareJSON(n.toEncodingData(),r);return kr(i,void 0,t)}class ht extends dn{defaultValue(){return!1}isDefaultValue(e){return e===!1}prepareMsgpack(e){if(typeof e=="boolean")return e;throw new Error("Invalid boolean")}fromPreparedMsgpack(e,t){if(typeof e=="boolean")return e;throw new Error("Invalid boolean")}prepareJSON(e,t){if(typeof e=="boolean")return e;throw new Error("Invalid boolean")}fromPreparedJSON(e){if(typeof e=="boolean")return e;throw new Error("Invalid boolean")}}class de extends dn{defaultValue(){return""}isDefaultValue(e){return e===""}prepareMsgpack(e){if(typeof e=="string")return e;throw new Error(`Invalid string: (${typeof e}) ${e}`)}fromPreparedMsgpack(e,t){if(typeof e=="string")return e;throw new Error(`Invalid string: (${typeof e}) ${e}`)}prepareJSON(e,t){if(typeof e=="string")return e;throw new Error(`Invalid string: (${typeof e}) ${e}`)}fromPreparedJSON(e){if(typeof e=="string")return e;throw new Error(`Invalid string: (${typeof e}) ${e}`)}}class b extends dn{defaultValue(){return BigInt(0)}isDefaultValue(e){return typeof e=="bigint"?e===BigInt(0):typeof e=="number"?e===0:!1}prepareMsgpack(e){return zt(e)}fromPreparedMsgpack(e,t){return zt(e)}prepareJSON(e,t){return zt(e)}fromPreparedJSON(e){return zt(e)}}class _t extends dn{defaultValue(){return rt.zeroAddress()}isDefaultValue(e){return rt.zeroAddress().equals(e)}prepareMsgpack(e){if(e instanceof rt)return e.publicKey;throw new Error(`Invalid address: (${typeof e}) ${e}`)}fromPreparedMsgpack(e,t){return new rt(e)}prepareJSON(e,t){if(e instanceof rt)return e.toString();throw new Error(`Invalid address: (${typeof e}) ${e}`)}fromPreparedJSON(e){return rt.fromString(e)}}class Me extends dn{defaultValue(){return new Uint8Array}isDefaultValue(e){return e instanceof Uint8Array&&e.byteLength===0}prepareMsgpack(e){if(e instanceof Uint8Array)return e;throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}fromPreparedMsgpack(e,t){if(e instanceof Uint8Array)return e;throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}prepareJSON(e,t){if(e instanceof Uint8Array)return nn(e);throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}fromPreparedJSON(e){if(e==null)return this.defaultValue();if(typeof e=="string")return _e(e);throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}}class Nt extends dn{constructor(e){super(),this.length=e}defaultValue(){return new Uint8Array(this.length)}isDefaultValue(e){return e instanceof Uint8Array&&e.byteLength===this.length&&e.every(t=>t===0)}prepareMsgpack(e){if(e instanceof Uint8Array){if(e.byteLength===this.length)return e;throw new Error(`Invalid byte array length: wanted ${this.length}, got ${e.byteLength}`)}throw new Error("Invalid byte array")}fromPreparedMsgpack(e,t){if(e instanceof Uint8Array){if(e.byteLength===this.length)return e;throw new Error(`Invalid byte array length: wanted ${this.length}, got ${e.byteLength}`)}throw new Error("Invalid byte array")}prepareJSON(e){if(e instanceof Uint8Array){if(e.byteLength===this.length)return nn(e);throw new Error(`Invalid byte array length: wanted ${this.length}, got ${e.byteLength}`)}throw new Error("Invalid byte array")}fromPreparedJSON(e){if(typeof e=="string"){const t=_e(e);if(t.byteLength===this.length)return t;throw new Error(`Invalid byte array length: wanted ${this.length}, got ${t.byteLength}`)}throw new Error("Invalid base64 byte array")}}const _o=32,sh=52;class _g extends dn{defaultValue(){return new Uint8Array(_o)}isDefaultValue(e){return e instanceof Uint8Array&&e.byteLength===_o&&e.every(t=>t===0)}prepareMsgpack(e){if(e instanceof Uint8Array&&e.byteLength===_o)return e;throw new Error(`Invalid block hash: (${typeof e}) ${e}`)}fromPreparedMsgpack(e,t){if(e instanceof Uint8Array&&e.byteLength===_o)return e;throw new Error(`Invalid block hash: (${typeof e}) ${e}`)}prepareJSON(e,t){if(e instanceof Uint8Array&&e.byteLength===_o)return`blk-${Lo.encode(e).slice(0,sh)}`;throw new Error(`Invalid block hash: (${typeof e}) ${e}`)}fromPreparedJSON(e){if(typeof e=="string"&&e.length===sh+4&&e.startsWith("blk-"))return Uint8Array.from(Lo.decode.asBytes(e.slice(4)));throw new Error(`Invalid block hash: (${typeof e}) ${e}`)}}class fi extends dn{defaultValue(){return new Uint8Array}isDefaultValue(e){return e instanceof Uint8Array&&e.byteLength===0}prepareMsgpack(e){if(e instanceof Uint8Array)return new ln(e);throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}fromPreparedMsgpack(e,t){return t.getRawStringAtCurrentLocation()}prepareJSON(e,t){if(e instanceof Uint8Array){const r=Js(e);if(!t.lossyBinaryStringConversion&&!Bn(Pn(r),e))throw new Error(`Invalid UTF-8 byte array encountered. Encode with lossyBinaryStringConversion enabled to bypass this check. Base64 value: ${nn(e)}`);return r}throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}fromPreparedJSON(e){if(typeof e=="string")return Pn(e);throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}}class Ee extends dn{constructor(e){super(),this.itemSchema=e}defaultValue(){return[]}isDefaultValue(e){return Array.isArray(e)&&e.length===0}prepareMsgpack(e){if(Array.isArray(e))return e.map(t=>this.itemSchema.prepareMsgpack(t));throw new Error("ArraySchema data must be an array")}fromPreparedMsgpack(e,t){if(Array.isArray(e))return e.map((r,i)=>this.itemSchema.fromPreparedMsgpack(r,t.withArrayElement(i)));throw new Error(`ArraySchema encoded data must be an array: ${e} (${typeof e})`)}prepareJSON(e,t){if(Array.isArray(e))return e.map(r=>this.itemSchema.prepareJSON(r,t));throw new Error("ArraySchema data must be an array")}fromPreparedJSON(e){if(Array.isArray(e))return e.map(t=>this.itemSchema.fromPreparedJSON(t));throw new Error(`ArraySchema encoded data must be an array: ${e} (${typeof e})`)}}function je(n){return n.map(e=>({...e,omitEmpty:!0}))}class z extends dn{constructor(e){super(),this.entries=e,this.checkEntries()}pushEntries(...e){this.entries.push(...e),this.checkEntries()}checkEntries(){for(const t of this.entries)if(t.embedded){if(t.key!=="")throw new Error("Embedded entries must have an empty key");if(!(t.valueSchema instanceof z))throw new Error("Embedded entry valueSchema must be a NamedMapSchema")}const e=new Set;for(const t of this.getEntries()){if(e.has(t.key))throw new Error(`Duplicate key: ${t.key}`);e.add(t.key)}}getEntries(){const e=[];for(const t of this.entries)if(t.embedded){const r=t.valueSchema;e.push(...r.getEntries())}else e.push(t);return e}defaultValue(){const e=new Map;for(const t of this.getEntries())e.set(t.key,t.valueSchema.defaultValue());return e}isDefaultValue(e){if(!(e instanceof Map))return!1;for(const t of this.getEntries())if(!t.valueSchema.isDefaultValue(e.get(t.key)))return!1;return!0}prepareMsgpack(e){if(!(e instanceof Map))throw new Error(`NamedMapSchema data must be a Map. Got (${typeof e}) ${e}`);const t=new Map;for(const r of this.getEntries()){const i=e.get(r.key);r.omitEmpty&&r.valueSchema.isDefaultValue(i)||t.set(r.key,r.valueSchema.prepareMsgpack(i))}return t}fromPreparedMsgpack(e,t){if(!(e instanceof Map))throw new Error("NamedMapSchema data must be a Map");const r=new Map;for(const i of this.getEntries())if(e.has(i.key))r.set(i.key,i.valueSchema.fromPreparedMsgpack(e.get(i.key),t.withMapValue(i.key)));else if(i.omitEmpty)r.set(i.key,i.valueSchema.defaultValue());else throw new Error(`Missing key: ${i.key}`);return r}prepareJSON(e,t){if(!(e instanceof Map))throw new Error("NamedMapSchema data must be a Map");const r={};for(const i of this.getEntries()){const o=e.get(i.key);i.omitEmpty&&i.valueSchema.isDefaultValue(o)||(r[i.key]=i.valueSchema.prepareJSON(o,t))}return r}fromPreparedJSON(e){if(e==null||typeof e!="object"||Array.isArray(e))throw new Error("NamedMapSchema data must be an object");const t=new Map;for(const r of this.getEntries())if(Object.prototype.hasOwnProperty.call(e,r.key))t.set(r.key,r.valueSchema.fromPreparedJSON(e[r.key]));else if(r.omitEmpty)t.set(r.key,r.valueSchema.defaultValue());else throw new Error(`Missing key: ${r.key}`);return t}}function Mo(...n){const e=new Map;for(const t of n)for(const[r,i]of t){if(e.has(r))throw new Error(`Duplicate key: ${r}`);e.set(r,i)}return e}function Xt(n,e){const t=new Map;for(const[r,i]of n){const[o,h]=e(r,i);t.set(o,h)}return t}class Xs extends dn{constructor(e){super(),this.valueSchema=e}defaultValue(){return new Map}isDefaultValue(e){return e instanceof Map&&e.size===0}prepareMsgpack(e){if(!(e instanceof Map))throw new Error(`Uint64MapSchema data must be a Map. Got (${typeof e}) ${e}`);const t=new Map;for(const[r,i]of e){const o=zt(r);if(t.has(o))throw new Error(`Duplicate key: ${o}`);t.set(o,this.valueSchema.prepareMsgpack(i))}return t}fromPreparedMsgpack(e,t){if(!(e instanceof Map))throw new Error("Uint64MapSchema data must be a Map");const r=new Map;for(const[i,o]of e){const h=zt(i);if(r.has(h))throw new Error(`Duplicate key: ${h}`);r.set(h,this.valueSchema.fromPreparedMsgpack(o,t.withMapValue(i)))}return r}prepareJSON(e,t){if(!(e instanceof Map))throw new Error(`Uint64MapSchema data must be a Map. Got (${typeof e}) ${e}`);const r=new Map;for(const[o,h]of e){const v=zt(o);if(r.has(v))throw new Error(`Duplicate key: ${v}`);r.set(v,this.valueSchema.prepareJSON(h,t))}const i={};for(const[o,h]of r)i[o.toString()]=h;return i}fromPreparedJSON(e){if(e==null||typeof e!="object"||Array.isArray(e))throw new Error("Uint64MapSchema data must be an object");const t=new Map;for(const[r,i]of Object.entries(e)){const o=BigInt(r);if(t.has(o))throw new Error(`Duplicate key: ${o}`);t.set(o,this.valueSchema.fromPreparedJSON(i))}return t}}class Bg extends dn{constructor(e){super(),this.valueSchema=e}defaultValue(){return new Map}isDefaultValue(e){return e instanceof Map&&e.size===0}prepareMsgpack(e){if(!(e instanceof Map))throw new Error(`ByteArrayMapSchema data must be a Map. Got (${typeof e}) ${e}`);const t=new Map;for(const[r,i]of e){if(!(r instanceof Uint8Array))throw new Error(`Invalid key: ${r} (${typeof r})`);t.set(r,this.valueSchema.prepareMsgpack(i))}return t}fromPreparedMsgpack(e,t){if(!(e instanceof Map))throw new Error("ByteArrayMapSchema data must be a Map");const r=new Map;for(const[i,o]of e){if(!(i instanceof Uint8Array))throw new Error(`Invalid key: ${i} (${typeof i})`);r.set(i,this.valueSchema.fromPreparedMsgpack(o,t.withMapValue(i)))}return r}prepareJSON(e,t){if(!(e instanceof Map))throw new Error(`ByteArrayMapSchema data must be a Map. Got (${typeof e}) ${e}`);const r=new Map;for(const[o,h]of e){if(!(o instanceof Uint8Array))throw new Error(`Invalid key: ${o} (${typeof o})`);const v=nn(o);if(r.has(v))throw new Error(`Duplicate key (base64): ${v}`);r.set(v,this.valueSchema.prepareJSON(h,t))}const i={};for(const[o,h]of r)i[o]=h;return i}fromPreparedJSON(e){if(e==null||typeof e!="object"||Array.isArray(e))throw new Error("ByteArrayMapSchema data must be an object");const t=new Map;for(const[r,i]of Object.entries(e))t.set(_e(r),this.valueSchema.fromPreparedJSON(i));return t}}function Ts(n){if(n instanceof ln)return Js(n.rawBinaryValue);if(n instanceof Map){const e=new Map;for(const[t,r]of n)e.set(Ts(t),Ts(r));return e}return Array.isArray(n)?n.map(Ts):n}class Fo extends dn{constructor(e){super(),this.valueSchema=e}defaultValue(){return new Map}isDefaultValue(e){return e instanceof Map&&e.size===0}prepareMsgpack(e){if(!(e instanceof Map))throw new Error(`SpecialCaseBinaryStringMapSchema data must be a Map. Got (${typeof e}) ${e}`);const t=new Map;for(const[r,i]of e){if(!(r instanceof Uint8Array))throw new Error(`Invalid key: ${r} (${typeof r})`);t.set(new ln(r),this.valueSchema.prepareMsgpack(i))}return t}fromPreparedMsgpack(e,t){const r=new Map,i=t.getRawStringKeysAndValuesAtCurrentLocation();for(const[o,h]of i)r.set(o,this.valueSchema.fromPreparedMsgpack(Ts(h),t.withMapValue(new ln(o))));return r}prepareJSON(e,t){if(!(e instanceof Map))throw new Error(`SpecialCaseBinaryStringMapSchema data must be a Map. Got (${typeof e}) ${e}`);const r=new Map;for(const[o,h]of e){if(!(o instanceof Uint8Array))throw new Error(`Invalid key: ${o}`);const v=Js(o);if(!t.lossyBinaryStringConversion&&!Bn(Pn(v),o))throw new Error(`Invalid UTF-8 byte array encountered. Encode with lossyBinaryStringConversion enabled to bypass this check. Base64 value: ${nn(o)}`);r.set(v,this.valueSchema.prepareJSON(h,t))}const i={};for(const[o,h]of r)i[o]=h;return i}fromPreparedJSON(e){if(e==null||typeof e!="object"||Array.isArray(e))throw new Error("SpecialCaseBinaryStringMapSchema data must be an object");const t=new Map;for(const[r,i]of Object.entries(e))t.set(Pn(r),this.valueSchema.fromPreparedJSON(i));return t}}class f extends dn{constructor(e){super(),this.valueSchema=e}defaultValue(){}isDefaultValue(e){return e===void 0||this.valueSchema.isDefaultValue(e)}prepareMsgpack(e){if(e!==void 0)return this.valueSchema.prepareMsgpack(e)}fromPreparedMsgpack(e,t){if(e!=null)return this.valueSchema.fromPreparedMsgpack(e,t)}prepareJSON(e,t){return e===void 0?null:this.valueSchema.prepareJSON(e,t)}fromPreparedJSON(e){if(e!=null)return this.valueSchema.fromPreparedJSON(e)}}class fu extends dn{defaultValue(){}isDefaultValue(e){return e===void 0}prepareMsgpack(e){return e}fromPreparedMsgpack(e,t){return e}prepareJSON(e,t){return Va(e)}fromPreparedJSON(e){return _a(e)}}function Pg(n,e,t){const r=BigInt(n.appIndex),i=n.name,o=r===BigInt(0)||r===t,h=e.indexOf(r)+1;if(h===0&&!o)throw new Error(`Box ref with appId ${r} not in foreign-apps`);return new Map([["i",h],["n",i]])}function Og(n,e,t){const r=BigInt(t),i=e.map(BigInt);return n.map(o=>Pg(o,i,r))}var Dt;(function(n){n.pay="pay",n.keyreg="keyreg",n.acfg="acfg",n.axfer="axfer",n.afrz="afrz",n.appl="appl",n.stpf="stpf",n.hb="hb"})(Dt||(Dt={}));function Ba(n){return n===Dt.pay||n===Dt.keyreg||n===Dt.acfg||n===Dt.axfer||n===Dt.afrz||n===Dt.appl||n===Dt.stpf||n===Dt.hb}var rn;(function(n){n[n.NoOpOC=0]="NoOpOC",n[n.OptInOC=1]="OptInOC",n[n.CloseOutOC=2]="CloseOutOC",n[n.ClearStateOC=3]="ClearStateOC",n[n.UpdateApplicationOC=4]="UpdateApplicationOC",n[n.DeleteApplicationOC=5]="DeleteApplicationOC"})(rn||(rn={}));function gu(n){return n===rn.NoOpOC||n===rn.OptInOC||n===rn.CloseOutOC||n===rn.ClearStateOC||n===rn.UpdateApplicationOC||n===rn.DeleteApplicationOC}let Zs=class Pa{constructor(e){this.hashType=e.hashType}getEncodingSchema(){return Pa.encodingSchema}toEncodingData(){return new Map([["t",this.hashType]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded HashFactory: ${e}`);return new Pa({hashType:Number(e.get("t"))})}};Zs.encodingSchema=new z(je([{key:"t",valueSchema:new b}]));let ir=class Oa{constructor(e){this.path=e.path,this.hashFactory=e.hashFactory,this.treeDepth=e.treeDepth}getEncodingSchema(){return Oa.encodingSchema}toEncodingData(){return new Map([["pth",this.path],["hsh",this.hashFactory.toEncodingData()],["td",this.treeDepth]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded MerkleArrayProof: ${e}`);return new Oa({path:e.get("pth"),hashFactory:Zs.fromEncodingData(e.get("hsh")),treeDepth:Number(e.get("td"))})}};ir.encodingSchema=new z(je([{key:"pth",valueSchema:new Ee(new Me)},{key:"hsh",valueSchema:Zs.encodingSchema},{key:"td",valueSchema:new b}]));class Mr{constructor(e){this.commitment=e.commitment,this.keyLifetime=e.keyLifetime}getEncodingSchema(){return Mr.encodingSchema}toEncodingData(){return new Map([["cmt",this.commitment],["lf",this.keyLifetime]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded MerkleSignatureVerifier: ${e}`);return new Mr({commitment:e.get("cmt"),keyLifetime:e.get("lf")})}}Mr.encodingSchema=new z(je([{key:"cmt",valueSchema:new Nt(64)},{key:"lf",valueSchema:new b}]));class Ar{constructor(e){this.pk=e.pk,this.weight=e.weight}getEncodingSchema(){return Ar.encodingSchema}toEncodingData(){return new Map([["p",this.pk.toEncodingData()],["w",this.weight]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Participant: ${e}`);return new Ar({pk:Mr.fromEncodingData(e.get("p")),weight:e.get("w")})}}Ar.encodingSchema=new z(je([{key:"p",valueSchema:Mr.encodingSchema},{key:"w",valueSchema:new b}]));class Dr{constructor(e){this.publicKey=e.publicKey}getEncodingSchema(){return Dr.encodingSchema}toEncodingData(){return new Map([["k",this.publicKey]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded FalconVerifier: ${e}`);return new Dr({publicKey:e.get("k")})}}Dr.encodingSchema=new z(je([{key:"k",valueSchema:new Nt(1793)}]));class Ir{constructor(e){this.signature=e.signature,this.vectorCommitmentIndex=e.index,this.proof=e.proof,this.verifyingKey=e.verifyingKey}getEncodingSchema(){return Ir.encodingSchema}toEncodingData(){return new Map([["sig",this.signature],["idx",this.vectorCommitmentIndex],["prf",this.proof.toEncodingData()],["vkey",this.verifyingKey.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded FalconSignatureStruct: ${e}`);return new Ir({signature:e.get("sig"),index:e.get("idx"),proof:ir.fromEncodingData(e.get("prf")),verifyingKey:Dr.fromEncodingData(e.get("vkey"))})}}Ir.encodingSchema=new z(je([{key:"sig",valueSchema:new Me},{key:"idx",valueSchema:new b},{key:"prf",valueSchema:ir.encodingSchema},{key:"vkey",valueSchema:Dr.encodingSchema}]));class Tr{constructor(e){this.sig=e.sig,this.l=e.l}getEncodingSchema(){return Tr.encodingSchema}toEncodingData(){return new Map([["s",this.sig.toEncodingData()],["l",this.l]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SigslotCommit: ${e}`);return new Tr({sig:Ir.fromEncodingData(e.get("s")),l:e.get("l")})}}Tr.encodingSchema=new z(je([{key:"s",valueSchema:Ir.encodingSchema},{key:"l",valueSchema:new b}]));class Rr{constructor(e){this.sigslot=e.sigslot,this.participant=e.participant}getEncodingSchema(){return Rr.encodingSchema}toEncodingData(){return new Map([["s",this.sigslot.toEncodingData()],["p",this.participant.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Reveal: ${e}`);return new Rr({sigslot:Tr.fromEncodingData(e.get("s")),participant:Ar.fromEncodingData(e.get("p"))})}}Rr.encodingSchema=new z(je([{key:"s",valueSchema:Tr.encodingSchema},{key:"p",valueSchema:Ar.encodingSchema}]));let Qs=class Ca{constructor(e){this.sigCommit=e.sigCommit,this.signedWeight=e.signedWeight,this.sigProofs=e.sigProofs,this.partProofs=e.partProofs,this.merkleSignatureSaltVersion=e.merkleSignatureSaltVersion,this.reveals=e.reveals,this.positionsToReveal=e.positionsToReveal}getEncodingSchema(){return Ca.encodingSchema}toEncodingData(){return new Map([["c",this.sigCommit],["w",this.signedWeight],["S",this.sigProofs.toEncodingData()],["P",this.partProofs.toEncodingData()],["v",this.merkleSignatureSaltVersion],["r",Xt(this.reveals,(e,t)=>[e,t.toEncodingData()])],["pr",this.positionsToReveal]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProof: ${e}`);return new Ca({sigCommit:e.get("c"),signedWeight:e.get("w"),sigProofs:ir.fromEncodingData(e.get("S")),partProofs:ir.fromEncodingData(e.get("P")),merkleSignatureSaltVersion:Number(e.get("v")),reveals:Xt(e.get("r"),(t,r)=>[t,Rr.fromEncodingData(r)]),positionsToReveal:e.get("pr")})}};Qs.encodingSchema=new z(je([{key:"c",valueSchema:new Me},{key:"w",valueSchema:new b},{key:"S",valueSchema:ir.encodingSchema},{key:"P",valueSchema:ir.encodingSchema},{key:"v",valueSchema:new b},{key:"r",valueSchema:new Xs(Rr.encodingSchema)},{key:"pr",valueSchema:new Ee(new b)}]));let ea=class Rs{constructor(e){this.blockHeadersCommitment=e.blockHeadersCommitment,this.votersCommitment=e.votersCommitment,this.lnProvenWeight=e.lnProvenWeight,this.firstAttestedRound=e.firstAttestedRound,this.lastAttestedRound=e.lastAttestedRound}getEncodingSchema(){return Rs.encodingSchema}toEncodingData(){return new Map([["b",this.blockHeadersCommitment],["v",this.votersCommitment],["P",this.lnProvenWeight],["f",this.firstAttestedRound],["l",this.lastAttestedRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofMessage: ${e}`);return new Rs({blockHeadersCommitment:e.get("b"),votersCommitment:e.get("v"),lnProvenWeight:e.get("P"),firstAttestedRound:e.get("f"),lastAttestedRound:e.get("l")})}static fromMap(e){return new Rs({blockHeadersCommitment:e.get("b"),votersCommitment:e.get("v"),lnProvenWeight:e.get("P"),firstAttestedRound:e.get("f"),lastAttestedRound:e.get("l")})}};ea.encodingSchema=new z(je([{key:"b",valueSchema:new Me},{key:"v",valueSchema:new Me},{key:"P",valueSchema:new b},{key:"f",valueSchema:new b},{key:"l",valueSchema:new b}]));class mi{constructor(e){this.sig=e.sig,this.pk=e.pk,this.pk2=e.pk2,this.pk1Sig=e.pk1Sig,this.pk2Sig=e.pk2Sig}getEncodingSchema(){return mi.encodingSchema}toEncodingData(){return new Map([["s",this.sig],["p",this.pk],["p2",this.pk2],["p1s",this.pk1Sig],["p2s",this.pk2Sig]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded HeartbeatProof: ${e}`);return new mi({sig:e.get("s"),pk:e.get("p"),pk2:e.get("p2"),pk1Sig:e.get("p1s"),pk2Sig:e.get("p2s")})}}mi.encodingSchema=new z(je([{key:"s",valueSchema:new Nt(64)},{key:"p",valueSchema:new Nt(32)},{key:"p2",valueSchema:new Nt(32)},{key:"p1s",valueSchema:new Nt(64)},{key:"p2s",valueSchema:new Nt(64)}]));class tr{constructor(e){this.address=e.address,this.proof=e.proof,this.seed=e.seed,this.voteID=e.voteID,this.keyDilution=e.keyDilution}getEncodingSchema(){return tr.encodingSchema}toEncodingData(){return new Map([["a",this.address],["prf",this.proof.toEncodingData()],["sd",this.seed],["vid",this.voteID],["kd",this.keyDilution]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Heartbeat: ${e}`);return new tr({address:e.get("a"),proof:mi.fromEncodingData(e.get("prf")),seed:e.get("sd"),voteID:e.get("vid"),keyDilution:e.get("kd")})}}tr.encodingSchema=new z(je([{key:"a",valueSchema:new _t},{key:"prf",valueSchema:mi.encodingSchema},{key:"sd",valueSchema:new Me},{key:"vid",valueSchema:new Nt(32)},{key:"kd",valueSchema:new b}]));const Cg=52,Ng=32,Ug=75,$g=32,Lg=32,Fg=32,qg=64,zg=32;function mu(n){return n.every(e=>e===0)}function ya(n,e,t){if(n==null)return;let r;if(n instanceof Uint8Array&&(r=n),r==null||r.byteLength!==t)throw Error(`${e} must be a ${t} byte Uint8Array`);return r}function hi(n){if(n==null)throw new Error("Address must not be null or undefined");if(typeof n=="string")return rt.fromString(n);if(n instanceof rt)return n;throw new Error(`Not an address: ${n}`)}function jn(n){if(n==null)return;let e;if(n instanceof rt)e=n;else if(typeof n=="string")e=rt.fromString(n);else throw new Error(`Not an address: ${n}`);if(mu(e.publicKey))throw new Error("Invalid use of the zero address. To omit this value, pass in undefined");return e}function pu(n){if(!(typeof n>"u")){if(n instanceof Uint8Array)return n;throw new Error(`Not a Uint8Array: ${n}`)}}function wr(n){if(n instanceof Uint8Array)return n;throw new Error(`Not a Uint8Array: ${n}`)}function wa(n){if(!(typeof n>"u"))return zt(n)}function Is(n){if(n===!0||n===!1)return n;throw new Error(`Not a boolean: ${n}`)}function Bo(n){if(Array.isArray(n))return n.slice();throw new Error(`Not an array: ${n}`)}function ah(n,e,t){const r=pu(n);if(!(typeof r>"u")){if(r.byteLength!==e)throw new Error(`${t} must be ${e} bytes long, was ${r.byteLength}`);if(!mu(r))return r}}function Hg(n){if(n!=null&&typeof n=="object"){const{appIndex:e,name:t}=n;return{appIndex:zt(e),name:wr(t)}}throw new Error(`Not a box reference: ${n}`)}const ch=new TextEncoder().encode("TX");let En=class Vs{constructor(e){if(!Ba(e.type))throw new Error(`Invalid transaction type: ${e.type}`);if(this.type=e.type,this.sender=hi(e.sender),this.note=wr(e.note??new Uint8Array),this.lease=ah(e.lease,Ng,"lease"),this.rekeyTo=jn(e.rekeyTo),this.group=void 0,this.firstValid=zt(e.suggestedParams.firstValid),this.lastValid=zt(e.suggestedParams.lastValid),e.suggestedParams.genesisID){if(typeof e.suggestedParams.genesisID!="string")throw new Error("Genesis ID must be a string if present");this.genesisID=e.suggestedParams.genesisID}this.genesisHash=pu(e.suggestedParams.genesisHash);const t=[];if(e.paymentParams&&t.push(Dt.pay),e.keyregParams&&t.push(Dt.keyreg),e.assetConfigParams&&t.push(Dt.acfg),e.assetTransferParams&&t.push(Dt.axfer),e.assetFreezeParams&&t.push(Dt.afrz),e.appCallParams&&t.push(Dt.appl),e.stateProofParams&&t.push(Dt.stpf),e.heartbeatParams&&t.push(Dt.hb),t.length!==1)throw new Error(`Transaction has wrong number of type fields present (${t.length}): ${t}`);if(this.type!==t[0])throw new Error(`Transaction has type ${this.type} but fields present for ${t[0]}`);if(e.paymentParams&&(this.payment={receiver:hi(e.paymentParams.receiver),amount:zt(e.paymentParams.amount),closeRemainderTo:jn(e.paymentParams.closeRemainderTo)}),e.keyregParams){if(this.keyreg={voteKey:ya(e.keyregParams.voteKey,"voteKey",Lg),selectionKey:ya(e.keyregParams.selectionKey,"selectionKey",Fg),stateProofKey:ya(e.keyregParams.stateProofKey,"stateProofKey",qg),voteFirst:wa(e.keyregParams.voteFirst),voteLast:wa(e.keyregParams.voteLast),voteKeyDilution:wa(e.keyregParams.voteKeyDilution),nonParticipation:Is(e.keyregParams.nonParticipation??!1)},this.keyreg.nonParticipation&&(this.keyreg.voteKey||this.keyreg.selectionKey||this.keyreg.stateProofKey||typeof this.keyreg.voteFirst<"u"||typeof this.keyreg.voteLast<"u"||typeof this.keyreg.voteKeyDilution<"u"))throw new Error("nonParticipation is true but participation params are present.");if(!this.keyreg.nonParticipation&&(this.keyreg.voteKey||this.keyreg.selectionKey||this.keyreg.stateProofKey||typeof this.keyreg.voteFirst<"u"||typeof this.keyreg.voteLast<"u"||typeof this.keyreg.voteKeyDilution<"u")&&!(this.keyreg.voteKey&&this.keyreg.selectionKey&&typeof this.keyreg.voteFirst<"u"&&typeof this.keyreg.voteLast<"u"&&typeof this.keyreg.voteKeyDilution<"u"))throw new Error("Online key registration missing at least one of the following fields: voteKey, selectionKey, voteFirst, voteLast, voteKeyDilution")}if(e.assetConfigParams&&(this.assetConfig={assetIndex:zt(e.assetConfigParams.assetIndex??0),total:zt(e.assetConfigParams.total??0),decimals:xn(e.assetConfigParams.decimals??0),defaultFrozen:Is(e.assetConfigParams.defaultFrozen??!1),manager:jn(e.assetConfigParams.manager),reserve:jn(e.assetConfigParams.reserve),freeze:jn(e.assetConfigParams.freeze),clawback:jn(e.assetConfigParams.clawback),unitName:e.assetConfigParams.unitName,assetName:e.assetConfigParams.assetName,assetURL:e.assetConfigParams.assetURL,assetMetadataHash:ah(e.assetConfigParams.assetMetadataHash,$g,"assetMetadataHash")}),e.assetTransferParams&&(this.assetTransfer={assetIndex:zt(e.assetTransferParams.assetIndex),amount:zt(e.assetTransferParams.amount),assetSender:jn(e.assetTransferParams.assetSender),receiver:hi(e.assetTransferParams.receiver),closeRemainderTo:jn(e.assetTransferParams.closeRemainderTo)}),e.assetFreezeParams&&(this.assetFreeze={assetIndex:zt(e.assetFreezeParams.assetIndex),freezeAccount:hi(e.assetFreezeParams.freezeTarget),frozen:Is(e.assetFreezeParams.frozen)}),e.appCallParams){const{onComplete:i}=e.appCallParams;if(!gu(i))throw new Error(`Invalid onCompletion value: ${i}`);this.applicationCall={appIndex:zt(e.appCallParams.appIndex),onComplete:i,numLocalInts:xn(e.appCallParams.numLocalInts??0),numLocalByteSlices:xn(e.appCallParams.numLocalByteSlices??0),numGlobalInts:xn(e.appCallParams.numGlobalInts??0),numGlobalByteSlices:xn(e.appCallParams.numGlobalByteSlices??0),extraPages:xn(e.appCallParams.extraPages??0),approvalProgram:wr(e.appCallParams.approvalProgram??new Uint8Array),clearProgram:wr(e.appCallParams.clearProgram??new Uint8Array),appArgs:Bo(e.appCallParams.appArgs??[]).map(wr),accounts:Bo(e.appCallParams.accounts??[]).map(hi),foreignApps:Bo(e.appCallParams.foreignApps??[]).map(zt),foreignAssets:Bo(e.appCallParams.foreignAssets??[]).map(zt),boxes:Bo(e.appCallParams.boxes??[]).map(Hg)}}if(e.stateProofParams&&(this.stateProof={stateProofType:xn(e.stateProofParams.stateProofType??0),stateProof:e.stateProofParams.stateProof,message:e.stateProofParams.message}),e.heartbeatParams&&(this.heartbeat=new tr({address:e.heartbeatParams.address,proof:e.heartbeatParams.proof,seed:e.heartbeatParams.seed,voteID:e.heartbeatParams.voteID,keyDilution:e.heartbeatParams.keyDilution})),this.fee=zt(e.suggestedParams.fee),!Is(e.suggestedParams.flatFee??!1)){const i=zt(e.suggestedParams.minFee);this.fee*=BigInt(this.estimateSize()),this.fee<i&&(this.fee=i)}}getEncodingSchema(){return Vs.encodingSchema}toEncodingData(){const e=new Map([["type",this.type],["fv",this.firstValid],["lv",this.lastValid],["snd",this.sender],["gen",this.genesisID],["gh",this.genesisHash],["fee",this.fee],["note",this.note],["lx",this.lease],["rekey",this.rekeyTo],["grp",this.group]]);if(this.payment)return e.set("amt",this.payment.amount),e.set("rcv",this.payment.receiver),e.set("close",this.payment.closeRemainderTo),e;if(this.keyreg)return e.set("votekey",this.keyreg.voteKey),e.set("selkey",this.keyreg.selectionKey),e.set("sprfkey",this.keyreg.stateProofKey),e.set("votefst",this.keyreg.voteFirst),e.set("votelst",this.keyreg.voteLast),e.set("votekd",this.keyreg.voteKeyDilution),e.set("nonpart",this.keyreg.nonParticipation),e;if(this.assetConfig){e.set("caid",this.assetConfig.assetIndex);const t=new Map([["t",this.assetConfig.total],["dc",this.assetConfig.decimals],["df",this.assetConfig.defaultFrozen],["m",this.assetConfig.manager],["r",this.assetConfig.reserve],["f",this.assetConfig.freeze],["c",this.assetConfig.clawback],["un",this.assetConfig.unitName],["an",this.assetConfig.assetName],["au",this.assetConfig.assetURL],["am",this.assetConfig.assetMetadataHash]]);return e.set("apar",t),e}if(this.assetTransfer)return e.set("xaid",this.assetTransfer.assetIndex),e.set("aamt",this.assetTransfer.amount),e.set("arcv",this.assetTransfer.receiver),e.set("aclose",this.assetTransfer.closeRemainderTo),e.set("asnd",this.assetTransfer.assetSender),e;if(this.assetFreeze)return e.set("faid",this.assetFreeze.assetIndex),e.set("afrz",this.assetFreeze.frozen),e.set("fadd",this.assetFreeze.freezeAccount),e;if(this.applicationCall)return e.set("apid",this.applicationCall.appIndex),e.set("apan",this.applicationCall.onComplete),e.set("apaa",this.applicationCall.appArgs),e.set("apat",this.applicationCall.accounts),e.set("apas",this.applicationCall.foreignAssets),e.set("apfa",this.applicationCall.foreignApps),e.set("apbx",Og(this.applicationCall.boxes,this.applicationCall.foreignApps,this.applicationCall.appIndex)),e.set("apap",this.applicationCall.approvalProgram),e.set("apsu",this.applicationCall.clearProgram),e.set("apls",new Map([["nui",this.applicationCall.numLocalInts],["nbs",this.applicationCall.numLocalByteSlices]])),e.set("apgs",new Map([["nui",this.applicationCall.numGlobalInts],["nbs",this.applicationCall.numGlobalByteSlices]])),e.set("apep",this.applicationCall.extraPages),e;if(this.stateProof)return e.set("sptype",this.stateProof.stateProofType),e.set("sp",this.stateProof.stateProof?this.stateProof.stateProof.toEncodingData():void 0),e.set("spmsg",this.stateProof.message?this.stateProof.message.toEncodingData():void 0),e;if(this.heartbeat){const t=new tr({address:this.heartbeat.address,proof:this.heartbeat.proof,seed:this.heartbeat.seed,voteID:this.heartbeat.voteID,keyDilution:this.heartbeat.keyDilution});return e.set("hb",t.toEncodingData()),e}throw new Error(`Unexpected transaction type: ${this.type}`)}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded logic sig account: ${e}`);const t={minFee:BigInt(0),flatFee:!0,fee:e.get("fee")??0,firstValid:e.get("fv")??0,lastValid:e.get("lv")??0,genesisHash:e.get("gh"),genesisID:e.get("gen")},r=e.get("type");if(!Ba(r))throw new Error(`Unrecognized transaction type: ${r}`);const i={type:r,sender:e.get("snd")??rt.zeroAddress(),note:e.get("note"),lease:e.get("lx"),suggestedParams:t};if(e.get("rekey")&&(i.rekeyTo=e.get("rekey")),i.type===Dt.pay){const h={amount:e.get("amt")??0,receiver:e.get("rcv")??rt.zeroAddress()};e.get("close")&&(h.closeRemainderTo=e.get("close")),i.paymentParams=h}else if(i.type===Dt.keyreg){const h={voteKey:e.get("votekey"),selectionKey:e.get("selkey"),stateProofKey:e.get("sprfkey"),voteFirst:e.get("votefst"),voteLast:e.get("votelst"),voteKeyDilution:e.get("votekd"),nonParticipation:e.get("nonpart")};i.keyregParams=h}else if(i.type===Dt.acfg){const h={assetIndex:e.get("caid")};if(e.get("apar")){const v=e.get("apar");h.total=v.get("t"),h.decimals=v.get("dc"),h.defaultFrozen=v.get("df"),h.unitName=v.get("un"),h.assetName=v.get("an"),h.assetURL=v.get("au"),h.assetMetadataHash=v.get("am"),v.get("m")&&(h.manager=v.get("m")),v.get("r")&&(h.reserve=v.get("r")),v.get("f")&&(h.freeze=v.get("f")),v.get("c")&&(h.clawback=v.get("c"))}i.assetConfigParams=h}else if(i.type===Dt.axfer){const h={assetIndex:e.get("xaid")??0,amount:e.get("aamt")??0,receiver:e.get("arcv")??rt.zeroAddress()};e.get("aclose")&&(h.closeRemainderTo=e.get("aclose")),e.get("asnd")&&(h.assetSender=e.get("asnd")),i.assetTransferParams=h}else if(i.type===Dt.afrz){const h={assetIndex:e.get("faid")??0,freezeTarget:e.get("fadd")??rt.zeroAddress(),frozen:e.get("afrz")??!1};i.assetFreezeParams=h}else if(i.type===Dt.appl){const h={appIndex:e.get("apid")??0,onComplete:xn(e.get("apan")??0),appArgs:e.get("apaa"),accounts:e.get("apat"),foreignAssets:e.get("apas"),foreignApps:e.get("apfa"),approvalProgram:e.get("apap"),clearProgram:e.get("apsu"),extraPages:e.get("apep")},v=e.get("apls");v&&(h.numLocalInts=v.get("nui"),h.numLocalByteSlices=v.get("nbs"));const V=e.get("apgs");V&&(h.numGlobalInts=V.get("nui"),h.numGlobalByteSlices=V.get("nbs"));const p=e.get("apbx");p&&(h.boxes=p.map(C=>{const J=xn(C.get("i")??0),Z=wr(C.get("n")??new Uint8Array);if(J===0)return{appIndex:0,name:Z};if(!h.foreignApps||J>h.foreignApps.length)throw new Error(`Cannot find foreign app index ${J} in ${h.foreignApps}`);return{appIndex:h.foreignApps[J-1],name:Z}})),i.appCallParams=h}else if(i.type===Dt.stpf){const h={stateProofType:e.get("sptype"),stateProof:e.get("sp")?Qs.fromEncodingData(e.get("sp")):void 0,message:e.get("spmsg")?ea.fromEncodingData(e.get("spmsg")):void 0};i.stateProofParams=h}else if(i.type===Dt.hb){const h=tr.fromEncodingData(e.get("hb")),v={address:h.address,proof:h.proof,seed:h.seed,voteID:h.voteID,keyDilution:h.keyDilution};i.heartbeatParams=v}else{const h=i.type;throw new Error(`Unexpected transaction type: ${h}`)}const o=new Vs(i);if(e.get("grp")){const h=wr(e.get("grp"));if(h.byteLength!==zg)throw new Error(`Invalid group length: ${h.byteLength}`);o.group=h}return o}estimateSize(){return this.toByte().length+Ug}bytesToSign(){const e=this.toByte();return en(ch,e)}toByte(){return Sn(this)}rawSignTxn(e){const t=this.bytesToSign();return Ws(t,e)}signTxn(e){const t=Ks(e),r=new rt(t.publicKey),i=this.rawSignTxn(e);return this.attachSignature(r,i)}attachSignature(e,t){if(!Yh(t.length))throw new Error("Invalid signature length");const r=new Map([["sig",t],["txn",this.toEncodingData()]]),i=hi(e);this.sender.equals(i)||r.set("sgnr",i);const o=new z(je([{key:"txn",valueSchema:Vs.encodingSchema},{key:"sig",valueSchema:new Nt(64)},{key:"sgnr",valueSchema:new f(new _t)}]));return bs(o.prepareMsgpack(r))}rawTxID(){const e=this.toByte(),t=en(ch,e);return Uint8Array.from(zn(t))}txID(){const e=this.rawTxID();return Lo.encode(e).slice(0,Cg)}};En.encodingSchema=new z(je([{key:"type",valueSchema:new de},{key:"snd",valueSchema:new _t},{key:"lv",valueSchema:new b},{key:"gen",valueSchema:new f(new de)},{key:"gh",valueSchema:new f(new Nt(32))},{key:"fee",valueSchema:new b},{key:"fv",valueSchema:new b},{key:"note",valueSchema:new Me},{key:"lx",valueSchema:new f(new Nt(32))},{key:"rekey",valueSchema:new f(new _t)},{key:"grp",valueSchema:new f(new Nt(32))},{key:"amt",valueSchema:new f(new b)},{key:"rcv",valueSchema:new f(new _t)},{key:"close",valueSchema:new f(new _t)},{key:"votekey",valueSchema:new f(new Nt(32))},{key:"selkey",valueSchema:new f(new Nt(32))},{key:"sprfkey",valueSchema:new f(new Nt(64))},{key:"votefst",valueSchema:new f(new b)},{key:"votelst",valueSchema:new f(new b)},{key:"votekd",valueSchema:new f(new b)},{key:"nonpart",valueSchema:new f(new ht)},{key:"caid",valueSchema:new f(new b)},{key:"apar",valueSchema:new f(new z(je([{key:"t",valueSchema:new b},{key:"dc",valueSchema:new b},{key:"df",valueSchema:new ht},{key:"m",valueSchema:new f(new _t)},{key:"r",valueSchema:new f(new _t)},{key:"f",valueSchema:new f(new _t)},{key:"c",valueSchema:new f(new _t)},{key:"un",valueSchema:new f(new de)},{key:"an",valueSchema:new f(new de)},{key:"au",valueSchema:new f(new de)},{key:"am",valueSchema:new f(new Nt(32))}])))},{key:"xaid",valueSchema:new f(new b)},{key:"aamt",valueSchema:new f(new b)},{key:"arcv",valueSchema:new f(new _t)},{key:"aclose",valueSchema:new f(new _t)},{key:"asnd",valueSchema:new f(new _t)},{key:"faid",valueSchema:new f(new b)},{key:"afrz",valueSchema:new f(new ht)},{key:"fadd",valueSchema:new f(new _t)},{key:"apid",valueSchema:new f(new b)},{key:"apan",valueSchema:new f(new b)},{key:"apaa",valueSchema:new f(new Ee(new Me))},{key:"apat",valueSchema:new f(new Ee(new _t))},{key:"apas",valueSchema:new f(new Ee(new b))},{key:"apfa",valueSchema:new f(new Ee(new b))},{key:"apbx",valueSchema:new f(new Ee(new z(je([{key:"i",valueSchema:new b},{key:"n",valueSchema:new Me}]))))},{key:"apap",valueSchema:new f(new Me)},{key:"apsu",valueSchema:new f(new Me)},{key:"apls",valueSchema:new f(new z(je([{key:"nui",valueSchema:new b},{key:"nbs",valueSchema:new b}])))},{key:"apgs",valueSchema:new f(new z(je([{key:"nui",valueSchema:new b},{key:"nbs",valueSchema:new b}])))},{key:"apep",valueSchema:new f(new b)},{key:"sptype",valueSchema:new f(new b)},{key:"sp",valueSchema:new f(Qs.encodingSchema)},{key:"spmsg",valueSchema:new f(ea.encodingSchema)},{key:"hb",valueSchema:new f(tr.encodingSchema)}]));function Gg(n){return Sn(n)}function Kg(n){return Ht(n,En)}const Po=new Uint8Array([77,117,108,116,105,115,105,103,65,100,100,114]),Wg="invalid multisig version",jg="bad multisig threshold",Jg="bad multisig public key - wrong length",Yg="nacl public key length is not 32 bytes";function Ao(n){return n.map(e=>typeof e=="string"?rt.fromString(e).publicKey:e.publicKey)}function Vr({version:n,threshold:e,pks:t}){if(n!==1||n>255||n<0)throw new Error(Wg);if(e===0||t.length===0||e>t.length||e>255)throw new Error(jg);const r=yr-Uo;if(r!==Zh)throw new Error(Yg);const i=new Uint8Array(Po.length+2+r*t.length);i.set(Po,0),i.set([n],Po.length),i.set([e],Po.length+1);for(let o=0;o<t.length;o++){if(t[o].length!==r)throw new Error(Jg);i.set(t[o],Po.length+2+o*r)}return new rt(Uint8Array.from(zn(i)))}function Xg({version:n,threshold:e,addrs:t}){const r=Ao(t);return Vr({version:n,threshold:e,pks:r})}function yu(n,e,t){const r=e.v,i=e.thr,o=e.subsig,h=o.map(C=>C.pk);if(e.subsig.length<i)return!1;let v;try{v=Vr({version:r,threshold:i,pks:h}).publicKey}catch{return!1}if(!Bn(v,t))return!1;let V=0;for(const C of o)C.s!==void 0&&(V+=1);if(V<i)return!1;let p=0;for(const C of o)C.s!==void 0&&js(n,C.s,C.pk)&&(p+=1);return!(p<i)}function Zg({version:n,threshold:e,addrs:t}){return Xg({version:n,threshold:e,addrs:t})}const wu=new z(je([{key:"pk",valueSchema:new Nt(32)},{key:"s",valueSchema:new f(new Nt(64))}]));function vu(n){if(!(n instanceof Map))throw new Error(`Invalid decoded EncodedSubsig: ${n}`);const e={pk:n.get("pk")};return n.get("s")&&(e.s=n.get("s")),e}function Su(n){const e=new Map([["pk",n.pk]]);return n.s&&e.set("s",n.s),e}const Bc=new z(je([{key:"v",valueSchema:new b},{key:"thr",valueSchema:new b},{key:"subsig",valueSchema:new Ee(wu)}]));function Pc(n){if(!(n instanceof Map))throw new Error(`Invalid decoded EncodedMultiSig: ${n}`);return{v:xn(n.get("v")),thr:xn(n.get("thr")),subsig:n.get("subsig").map(vu)}}function Oc(n){return new Map([["v",n.v],["thr",n.thr],["subsig",n.subsig.map(Su)]])}const Qg=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;function hh(n){if(!n||n.length===0)throw new Error("empty program");const e=10,t=32,r=126,i=h=>t<=h&&h<=r;if(n.every(h=>h===e||i(h))){const h=new TextDecoder().decode(n);throw nu(h)?new Error("requesting program bytes, get Algorand address"):Qg.test(h)?new Error("program should not be b64 encoded"):new Error("program bytes are all ASCII printable characters, not looking like Teal byte code")}}const va=new TextEncoder().encode("Program");class pn{constructor(e,t){if(t&&(!Array.isArray(t)||!t.every(i=>i.constructor===Uint8Array)))throw new TypeError("Invalid arguments");let r=[];t!=null&&(r=t.map(i=>new Uint8Array(i))),hh(e),this.logic=e,this.args=r,this.sig=void 0,this.msig=void 0}getEncodingSchema(){return pn.encodingSchema}toEncodingData(){const e=new Map([["l",this.logic],["arg",this.args],["sig",this.sig]]);return this.msig&&e.set("msig",Oc(this.msig)),e}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded logic sig: ${e}`);const t=new pn(e.get("l"),e.get("arg"));return t.sig=e.get("sig"),e.get("msig")&&(t.msig=Pc(e.get("msig"))),t}verify(e){if(this.sig&&this.msig)return!1;try{hh(this.logic)}catch{return!1}const t=en(va,this.logic);if(!this.sig&&!this.msig){const r=zn(t);return Bn(r,e)}return this.sig?js(t,this.sig,e):yu(t,this.msig,e)}address(){const e=en(va,this.logic),t=zn(e);return new rt(Uint8Array.from(t))}sign(e,t){if(t==null)this.sig=this.signProgram(e);else{const r=Ao(t.addrs).map(h=>({pk:h}));this.msig={v:t.version,thr:t.threshold,subsig:r};const[i,o]=this.singleSignMultisig(e,this.msig);this.msig.subsig[o].s=i}}appendToMultisig(e){if(this.msig===void 0)throw new Error("no multisig present");const[t,r]=this.singleSignMultisig(e,this.msig);this.msig.subsig[r].s=t}signProgram(e){const t=en(va,this.logic);return Ws(t,e)}singleSignMultisig(e,t){let r=-1;const i=Ks(e).publicKey;for(let h=0;h<t.subsig.length;h++){const{pk:v}=t.subsig[h];if(Bn(v,i)){r=h;break}}if(r===-1)throw new Error("invalid secret key");return[this.signProgram(e),r]}toByte(){return Sn(this)}static fromByte(e){return Ht(e,pn)}}pn.encodingSchema=new z(je([{key:"l",valueSchema:new Me},{key:"arg",valueSchema:new Ee(new Me)},{key:"sig",valueSchema:new f(new Nt(64))},{key:"msig",valueSchema:new f(Bc)}]));class Er{constructor(e,t){this.lsig=new pn(e,t),this.sigkey=void 0}getEncodingSchema(){return Er.encodingSchema}toEncodingData(){return new Map([["lsig",this.lsig.toEncodingData()],["sigkey",this.sigkey]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded logic sig account: ${e}`);const t=e,r=pn.fromEncodingData(t.get("lsig")),i=new Er(r.logic,r.args);return i.lsig=r,i.sigkey=t.get("sigkey"),i}toByte(){return Sn(this)}static fromByte(e){return Ht(e,Er)}isDelegated(){return!!(this.lsig.sig||this.lsig.msig)}verify(){const e=this.address();return this.lsig.verify(e.publicKey)}address(){if(this.lsig.sig&&this.lsig.msig)throw new Error("LogicSig has too many signatures. At most one of sig or msig may be present");if(this.lsig.sig){if(!this.sigkey)throw new Error("Signing key for delegated account is missing");return new rt(this.sigkey)}if(this.lsig.msig){const e={version:this.lsig.msig.v,threshold:this.lsig.msig.thr,pks:this.lsig.msig.subsig.map(t=>t.pk)};return Vr(e)}return this.lsig.address()}signMultisig(e,t){this.lsig.sign(t,e)}appendToMultisig(e){this.lsig.appendToMultisig(e)}sign(e){this.lsig.sign(e),this.sigkey=Ks(e).publicKey}}Er.encodingSchema=new z(je([{key:"lsig",valueSchema:pn.encodingSchema},{key:"sigkey",valueSchema:new f(new Nt(32))}]));function em(n){return Ht(n,pn)}const Eu=new TextEncoder().encode("ProgData");function xu(n,e,t){const r=typeof t=="string"?rt.fromString(t):t,i=en(r.publicKey,e),o=en(Eu,i);return Ws(o,n)}function tm(n,e,t,r){const i=typeof e=="string"?rt.fromString(e):e,o=en(i.publicKey,n),h=en(Eu,o);return js(h,t,r)}function nm(n,e,t){const i=new pn(t).address();return xu(n,e,i)}class Ct{constructor({txn:e,sig:t,msig:r,lsig:i,sgnr:o}){this.txn=e,this.sig=t,this.msig=r,this.lsig=i,this.sgnr=o;let h=0;if(t&&(h+=1),r&&(h+=1),i&&(h+=1),h>1)throw new Error(`SignedTransaction must not have more than 1 signature. Got ${h}`)}getEncodingSchema(){return Ct.encodingSchema}toEncodingData(){return new Map([["txn",this.txn.toEncodingData()],["sig",this.sig],["msig",this.msig?Oc(this.msig):void 0],["lsig",this.lsig?this.lsig.toEncodingData():void 0],["sgnr",this.sgnr]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SignedTransaction: ${e}`);return new Ct({txn:En.fromEncodingData(e.get("txn")),sig:e.get("sig"),msig:e.get("msig")?Pc(e.get("msig")):void 0,lsig:e.get("lsig")?pn.fromEncodingData(e.get("lsig")):void 0,sgnr:e.get("sgnr")})}}Ct.encodingSchema=new z(je([{key:"txn",valueSchema:En.encodingSchema},{key:"sig",valueSchema:new f(new Nt(64))},{key:"msig",valueSchema:new f(Bc)},{key:"lsig",valueSchema:new f(pn.encodingSchema)},{key:"sgnr",valueSchema:new f(new _t)}]));function rm(n){return Ht(n,Ct)}function bu(n){const e=new Ct({txn:n});return Sn(e)}class _r{constructor(e){this.stateProofVotersCommitment=e.stateProofVotersCommitment,this.stateProofOnlineTotalWeight=e.stateProofOnlineTotalWeight,this.stateProofNextRound=e.stateProofNextRound}getEncodingSchema(){return _r.encodingSchema}toEncodingData(){return new Map([["v",this.stateProofVotersCommitment],["t",this.stateProofOnlineTotalWeight],["n",this.stateProofNextRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofTrackingData: ${e}`);return new _r({stateProofVotersCommitment:e.get("v"),stateProofOnlineTotalWeight:e.get("t"),stateProofNextRound:e.get("n")})}}_r.encodingSchema=new z(je([{key:"v",valueSchema:new Me},{key:"t",valueSchema:new b},{key:"n",valueSchema:new b}]));class Br{constructor(e){this.nativeSha512_256Commitment=e.nativeSha512_256Commitment,this.sha256Commitment=e.sha256Commitment}getEncodingSchema(){return Br.encodingSchema}toEncodingData(){return new Map([["txn",this.nativeSha512_256Commitment],["txn256",this.sha256Commitment]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TxnCommitments: ${e}`);return new Br({nativeSha512_256Commitment:e.get("txn"),sha256Commitment:e.get("txn256")})}}Br.encodingSchema=new z(je([{key:"txn",valueSchema:new Nt(32)},{key:"txn256",valueSchema:new Nt(32)}]));class Pr{constructor(e){this.feeSink=e.feeSink,this.rewardsPool=e.rewardsPool,this.rewardsLevel=e.rewardsLevel,this.rewardsRate=e.rewardsRate,this.rewardsResidue=e.rewardsResidue,this.rewardsRecalculationRound=e.rewardsRecalculationRound}getEncodingSchema(){return Pr.encodingSchema}toEncodingData(){return new Map([["fees",this.feeSink],["rwd",this.rewardsPool],["earn",this.rewardsLevel],["rate",this.rewardsRate],["frac",this.rewardsResidue],["rwcalr",this.rewardsRecalculationRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded RewardState: ${e}`);return new Pr({feeSink:e.get("fees"),rewardsPool:e.get("rwd"),rewardsLevel:e.get("earn"),rewardsRate:e.get("rate"),rewardsResidue:e.get("frac"),rewardsRecalculationRound:e.get("rwcalr")})}}Pr.encodingSchema=new z(je([{key:"fees",valueSchema:new _t},{key:"rwd",valueSchema:new _t},{key:"earn",valueSchema:new b},{key:"rate",valueSchema:new b},{key:"frac",valueSchema:new b},{key:"rwcalr",valueSchema:new b}]));class Or{constructor(e){this.currentProtocol=e.currentProtocol,this.nextProtocol=e.nextProtocol,this.nextProtocolApprovals=e.nextProtocolApprovals,this.nextProtocolVoteBefore=e.nextProtocolVoteBefore,this.nextProtocolSwitchOn=e.nextProtocolSwitchOn}getEncodingSchema(){return Or.encodingSchema}toEncodingData(){return new Map([["proto",this.currentProtocol],["nextproto",this.nextProtocol],["nextyes",this.nextProtocolApprovals],["nextbefore",this.nextProtocolVoteBefore],["nextswitch",this.nextProtocolSwitchOn]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded UpgradeState: ${e}`);return new Or({currentProtocol:e.get("proto"),nextProtocol:e.get("nextproto"),nextProtocolApprovals:e.get("nextyes"),nextProtocolVoteBefore:e.get("nextbefore"),nextProtocolSwitchOn:e.get("nextswitch")})}}Or.encodingSchema=new z(je([{key:"proto",valueSchema:new de},{key:"nextproto",valueSchema:new de},{key:"nextyes",valueSchema:new b},{key:"nextbefore",valueSchema:new b},{key:"nextswitch",valueSchema:new b}]));class Cr{constructor(e){this.upgradePropose=e.upgradePropose,this.upgradeDelay=e.upgradeDelay,this.upgradeApprove=e.upgradeApprove}getEncodingSchema(){return Cr.encodingSchema}toEncodingData(){return new Map([["upgradeprop",this.upgradePropose],["upgradedelay",this.upgradeDelay],["upgradeyes",this.upgradeApprove]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded UpgradeVote: ${e}`);return new Cr({upgradePropose:e.get("upgradeprop"),upgradeDelay:e.get("upgradedelay"),upgradeApprove:e.get("upgradeyes")})}}Cr.encodingSchema=new z(je([{key:"upgradeprop",valueSchema:new de},{key:"upgradedelay",valueSchema:new b},{key:"upgradeyes",valueSchema:new ht}]));let ta=class Na{constructor(e){this.expiredParticipationAccounts=e.expiredParticipationAccounts,this.absentParticipationAccounts=e.absentParticipationAccounts}getEncodingSchema(){return Na.encodingSchema}toEncodingData(){return new Map([["partupdrmv",this.expiredParticipationAccounts],["partupdabs",this.absentParticipationAccounts]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ParticipationUpdates: ${e}`);return new Na({expiredParticipationAccounts:e.get("partupdrmv"),absentParticipationAccounts:e.get("partupdabs")})}};ta.encodingSchema=new z(je([{key:"partupdrmv",valueSchema:new Ee(new _t)},{key:"partupdabs",valueSchema:new Ee(new _t)}]));class Hn{constructor(e){this.round=e.round,this.branch=e.branch,this.seed=e.seed,this.txnCommitments=e.txnCommitments,this.timestamp=e.timestamp,this.genesisID=e.genesisID,this.genesisHash=e.genesisHash,this.proposer=e.proposer,this.feesCollected=e.feesCollected,this.bonus=e.bonus,this.proposerPayout=e.proposerPayout,this.rewardState=e.rewardState,this.upgradeState=e.upgradeState,this.upgradeVote=e.upgradeVote,this.txnCounter=e.txnCounter,this.stateproofTracking=e.stateproofTracking,this.participationUpdates=e.participationUpdates}getEncodingSchema(){return Hn.encodingSchema}toEncodingData(){const e=new Map([["rnd",this.round],["prev",this.branch],["seed",this.seed],["ts",this.timestamp],["gen",this.genesisID],["gh",this.genesisHash],["prp",this.proposer],["fc",this.feesCollected],["bi",this.bonus],["pp",this.proposerPayout],["tc",this.txnCounter],["spt",Xt(this.stateproofTracking,(t,r)=>[t,r.toEncodingData()])]]);return Mo(e,this.txnCommitments.toEncodingData(),this.rewardState.toEncodingData(),this.upgradeState.toEncodingData(),this.upgradeVote.toEncodingData(),this.participationUpdates.toEncodingData())}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockHeader: ${e}`);return new Hn({round:e.get("rnd"),branch:e.get("prev"),seed:e.get("seed"),txnCommitments:Br.fromEncodingData(e),timestamp:e.get("ts"),genesisID:e.get("gen"),genesisHash:e.get("gh"),proposer:e.get("prp"),feesCollected:e.get("fc"),bonus:e.get("bi"),proposerPayout:e.get("pp"),rewardState:Pr.fromEncodingData(e),upgradeState:Or.fromEncodingData(e),upgradeVote:Cr.fromEncodingData(e),txnCounter:e.get("tc"),stateproofTracking:Xt(e.get("spt"),(t,r)=>[Number(t),_r.fromEncodingData(r)]),participationUpdates:ta.fromEncodingData(e)})}}Hn.encodingSchema=new z(je([{key:"rnd",valueSchema:new b},{key:"prev",valueSchema:new _g},{key:"seed",valueSchema:new Me},{key:"",valueSchema:Br.encodingSchema,embedded:!0},{key:"ts",valueSchema:new b},{key:"gen",valueSchema:new de},{key:"gh",valueSchema:new Nt(32)},{key:"prp",valueSchema:new _t},{key:"fc",valueSchema:new b},{key:"bi",valueSchema:new b},{key:"pp",valueSchema:new b},{key:"",valueSchema:Pr.encodingSchema,embedded:!0},{key:"",valueSchema:Or.encodingSchema,embedded:!0},{key:"",valueSchema:Cr.encodingSchema,embedded:!0},{key:"tc",valueSchema:new b},{key:"spt",valueSchema:new Xs(_r.encodingSchema)},{key:"",valueSchema:ta.encodingSchema,embedded:!0}]));class $n{constructor(e){this.action=e.action,this.bytes=e.bytes,this.uint=e.uint}getEncodingSchema(){return $n.encodingSchema}toEncodingData(){return new Map([["at",this.action],["bs",this.bytes],["ui",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ValueDelta: ${e}`);return new $n({action:Number(e.get("at")),bytes:e.get("bs"),uint:e.get("ui")})}}$n.encodingSchema=new z(je([{key:"at",valueSchema:new b},{key:"bs",valueSchema:new fi},{key:"ui",valueSchema:new b}]));let Ua=class $a{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries(...je([{key:"gd",valueSchema:new f(new Fo($n.encodingSchema))},{key:"ld",valueSchema:new f(new Xs(new Fo($n.encodingSchema)))},{key:"sa",valueSchema:new f(new Ee(new _t))},{key:"lg",valueSchema:new f(new Ee(new fi))},{key:"itx",valueSchema:new f(new Ee(or.encodingSchema))}]))),this.encodingSchemaValue}constructor(e){this.globalDelta=e.globalDelta??new Map,this.localDeltas=e.localDeltas??new Map,this.sharedAccts=e.sharedAccts??[],this.logs=e.logs??[],this.innerTxns=e.innerTxns??[]}getEncodingSchema(){return $a.encodingSchema}toEncodingData(){return new Map([["gd",Xt(this.globalDelta,(e,t)=>[e,t.toEncodingData()])],["ld",Xt(this.localDeltas,(e,t)=>[e,Xt(t,(r,i)=>[r,i.toEncodingData()])])],["sa",this.sharedAccts],["lg",this.logs],["itx",this.innerTxns.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded EvalDelta: ${e}`);return new $a({globalDelta:e.get("gd")?Xt(e.get("gd"),(t,r)=>[t,$n.fromEncodingData(r)]):void 0,localDeltas:e.get("ld")?Xt(e.get("ld"),(t,r)=>[Number(t),Xt(r,(i,o)=>[i,$n.fromEncodingData(o)])]):void 0,sharedAccts:e.get("sa"),logs:e.get("lg"),innerTxns:(e.get("itx")??[]).map(or.fromEncodingData)})}};class pi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries(...je([{key:"ca",valueSchema:new f(new b)},{key:"aca",valueSchema:new f(new b)},{key:"rs",valueSchema:new f(new b)},{key:"rr",valueSchema:new f(new b)},{key:"rc",valueSchema:new f(new b)},{key:"dt",valueSchema:new f(Ua.encodingSchema)},{key:"caid",valueSchema:new f(new b)},{key:"apid",valueSchema:new f(new b)}]))),this.encodingSchemaValue}constructor(e){this.closingAmount=e.closingAmount,this.assetClosingAmount=e.assetClosingAmount,this.senderRewards=e.senderRewards,this.receiverRewards=e.receiverRewards,this.closeRewards=e.closeRewards,this.evalDelta=e.evalDelta,this.configAsset=e.configAsset,this.applicationID=e.applicationID}getEncodingSchema(){return pi.encodingSchema}toEncodingData(){return new Map([["ca",this.closingAmount],["aca",this.assetClosingAmount],["rs",this.senderRewards],["rr",this.receiverRewards],["rc",this.closeRewards],["dt",this.evalDelta?this.evalDelta.toEncodingData():void 0],["caid",this.configAsset],["apid",this.applicationID]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplyData: ${e}`);return new pi({closingAmount:e.get("ca"),assetClosingAmount:e.get("aca"),senderRewards:e.get("rs"),receiverRewards:e.get("rr"),closeRewards:e.get("rc"),evalDelta:e.get("dt")?Ua.fromEncodingData(e.get("dt")):void 0,configAsset:e.get("caid"),applicationID:e.get("apid")})}}class or{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries(...je([{key:"",valueSchema:Ct.encodingSchema,embedded:!0},{key:"",valueSchema:pi.encodingSchema,embedded:!0}]))),this.encodingSchemaValue}constructor(e){this.signedTxn=e.signedTxn,this.applyData=e.applyData}getEncodingSchema(){return or.encodingSchema}toEncodingData(){return Mo(this.signedTxn.toEncodingData(),this.applyData.toEncodingData())}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SignedTxnWithAD: ${e}`);return new or({signedTxn:Ct.fromEncodingData(e),applyData:pi.fromEncodingData(e)})}}class Nr{constructor(e){this.signedTxn=e.signedTxn,this.hasGenesisID=e.hasGenesisID,this.hasGenesisHash=e.hasGenesisHash}getEncodingSchema(){return Nr.encodingSchema}toEncodingData(){const e=new Map([["hgi",this.hasGenesisID],["hgh",this.hasGenesisHash]]);return Mo(e,this.signedTxn.toEncodingData())}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SignedTxnInBlock: ${e}`);return new Nr({signedTxn:or.fromEncodingData(e),hasGenesisID:e.get("hgi"),hasGenesisHash:e.get("hgh")})}}Nr.encodingSchema=new z(je([{key:"",valueSchema:or.encodingSchema,embedded:!0},{key:"hgi",valueSchema:new ht},{key:"hgh",valueSchema:new ht}]));let Ps=class La{constructor(e){this.header=e.header,this.payset=e.payset}getEncodingSchema(){return La.encodingSchema}toEncodingData(){const e=new Map([["txns",this.payset.map(t=>t.toEncodingData())]]);return Mo(e,this.header.toEncodingData())}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockHeader: ${e}`);return new La({header:Hn.fromEncodingData(e),payset:e.get("txns").map(Nr.fromEncodingData)})}};Ps.encodingSchema=new z(je([{key:"",valueSchema:Hn.encodingSchema,embedded:!0},{key:"txns",valueSchema:new Ee(Nr.encodingSchema)}]));class tn{constructor(e){this.data=e}getEncodingSchema(){return tn.encodingSchema}toEncodingData(){return this.data}static fromEncodingData(e){return new tn(e)}}tn.encodingSchema=new fu;let Do=class Fa{constructor(e){this.type=e.type,this.bytes=e.bytes,this.uint=e.uint}getEncodingSchema(){return Fa.encodingSchema}toEncodingData(){return new Map([["tt",this.type],["tb",this.bytes],["ui",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TealValue: ${e}`);return new Fa({type:Number(e.get("tt")),bytes:e.get("tb"),uint:e.get("ui")})}};Do.encodingSchema=new z(je([{key:"tt",valueSchema:new b},{key:"tb",valueSchema:new f(new fi)},{key:"ui",valueSchema:new f(new b)}]));let On=class qa{constructor(e){this.numUints=e.numUints,this.numByteSlices=e.numByteSlices}getEncodingSchema(){return qa.encodingSchema}toEncodingData(){return new Map([["nui",this.numUints],["nbs",this.numByteSlices]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateSchema: ${e}`);return new qa({numUints:Number(e.get("nui")),numByteSlices:Number(e.get("nbs"))})}};On.encodingSchema=new z(je([{key:"nui",valueSchema:new b},{key:"nbs",valueSchema:new b}]));class Ur{constructor(e){this.approvalProgram=e.approvalProgram,this.clearStateProgram=e.clearStateProgram,this.globalState=e.globalState,this.localStateSchema=e.localStateSchema,this.globalStateSchema=e.globalStateSchema,this.extraProgramPages=e.extraProgramPages}getEncodingSchema(){return Ur.encodingSchema}toEncodingData(){return new Map([["approv",this.approvalProgram],["clearp",this.clearStateProgram],["gs",Xt(this.globalState,(e,t)=>[e,t.toEncodingData()])],["lsch",this.localStateSchema.toEncodingData()],["gsch",this.globalStateSchema.toEncodingData()],["epp",this.extraProgramPages]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AppParams: ${e}`);return new Ur({approvalProgram:e.get("approv"),clearStateProgram:e.get("clearp"),globalState:Xt(e.get("gs"),(t,r)=>[t,Do.fromEncodingData(r)]),localStateSchema:On.fromEncodingData(e.get("lsch")),globalStateSchema:On.fromEncodingData(e.get("gsch")),extraProgramPages:Number(e.get("epp"))})}}Ur.encodingSchema=new z(je([{key:"approv",valueSchema:new Me},{key:"clearp",valueSchema:new Me},{key:"gs",valueSchema:new Fo(Do.encodingSchema)},{key:"lsch",valueSchema:On.encodingSchema},{key:"gsch",valueSchema:On.encodingSchema},{key:"epp",valueSchema:new b}]));class $r{constructor(e){this.schema=e.schema,this.keyValue=e.keyValue}getEncodingSchema(){return $r.encodingSchema}toEncodingData(){return new Map([["hsch",this.schema.toEncodingData()],["tkv",Xt(this.keyValue,(e,t)=>[e,t.toEncodingData()])]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AppLocalState: ${e}`);return new $r({schema:On.fromEncodingData(e.get("hsch")),keyValue:Xt(e.get("tkv"),(t,r)=>[t,Do.fromEncodingData(r)])})}}$r.encodingSchema=new z(je([{key:"hsch",valueSchema:On.encodingSchema},{key:"tkv",valueSchema:new Fo(Do.encodingSchema)}]));class Lr{constructor(e){this.localState=e.localState,this.deleted=e.deleted}getEncodingSchema(){return Lr.encodingSchema}toEncodingData(){return new Map([["LocalState",this.localState?this.localState.toEncodingData():void 0],["Deleted",this.deleted]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AppLocalStateDelta: ${e}`);return new Lr({localState:e.get("LocalState")?$r.fromEncodingData(e.get("LocalState")):void 0,deleted:e.get("Deleted")})}}Lr.encodingSchema=new z(je([{key:"LocalState",valueSchema:new f($r.encodingSchema)},{key:"Deleted",valueSchema:new ht}]));class Fr{constructor(e){this.params=e.params,this.deleted=e.deleted}getEncodingSchema(){return Fr.encodingSchema}toEncodingData(){return new Map([["Params",this.params?this.params.toEncodingData():void 0],["Deleted",this.deleted]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AppParamsDelta: ${e}`);return new Fr({params:e.get("Params")?Ur.fromEncodingData(e.get("Params")):void 0,deleted:e.get("Deleted")})}}Fr.encodingSchema=new z(je([{key:"Params",valueSchema:new f(Ur.encodingSchema)},{key:"Deleted",valueSchema:new ht}]));class qr{constructor(e){this.id=e.id,this.address=e.address,this.params=e.params,this.state=e.state}getEncodingSchema(){return qr.encodingSchema}toEncodingData(){return new Map([["Aidx",this.id],["Addr",this.address],["Params",this.params.toEncodingData()],["State",this.state.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AppResourceRecord: ${e}`);return new qr({id:e.get("Aidx"),address:e.get("Addr"),params:Fr.fromEncodingData(e.get("Params")),state:Lr.fromEncodingData(e.get("State"))})}}qr.encodingSchema=new z(je([{key:"Aidx",valueSchema:new b},{key:"Addr",valueSchema:new _t},{key:"Params",valueSchema:Fr.encodingSchema},{key:"State",valueSchema:Lr.encodingSchema}]));let na=class za{constructor(e){this.amount=e.amount,this.frozen=e.frozen}getEncodingSchema(){return za.encodingSchema}toEncodingData(){return new Map([["a",this.amount],["f",this.frozen]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetHolding: ${e}`);return new za({amount:e.get("a"),frozen:e.get("f")})}};na.encodingSchema=new z(je([{key:"a",valueSchema:new b},{key:"f",valueSchema:new ht}]));class zr{constructor(e){this.holding=e.holding,this.deleted=e.deleted}getEncodingSchema(){return zr.encodingSchema}toEncodingData(){return new Map([["Holding",this.holding?this.holding.toEncodingData():void 0],["Deleted",this.deleted]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetHoldingDelta: ${e}`);return new zr({holding:e.get("Holding")?na.fromEncodingData(e.get("Holding")):void 0,deleted:e.get("Deleted")})}}zr.encodingSchema=new z(je([{key:"Holding",valueSchema:new f(na.encodingSchema)},{key:"Deleted",valueSchema:new ht}]));let ra=class Ha{constructor(e){this.total=e.total,this.decimals=e.decimals,this.defaultFrozen=e.defaultFrozen,this.unitName=e.unitName,this.assetName=e.assetName,this.url=e.url,this.metadataHash=e.metadataHash,this.manager=e.manager,this.reserve=e.reserve,this.freeze=e.freeze,this.clawback=e.clawback}getEncodingSchema(){return Ha.encodingSchema}toEncodingData(){return new Map([["t",this.total],["dc",this.decimals],["df",this.defaultFrozen],["un",this.unitName],["an",this.assetName],["au",this.url],["am",this.metadataHash],["m",this.manager],["r",this.reserve],["f",this.freeze],["c",this.clawback]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetParams: ${e}`);return new Ha({total:e.get("t"),decimals:e.get("dc"),defaultFrozen:e.get("df"),unitName:e.get("un"),assetName:e.get("an"),url:e.get("au"),metadataHash:e.get("am"),manager:e.get("m"),reserve:e.get("r"),freeze:e.get("f"),clawback:e.get("c")})}};ra.encodingSchema=new z(je([{key:"t",valueSchema:new b},{key:"dc",valueSchema:new b},{key:"df",valueSchema:new ht},{key:"un",valueSchema:new f(new fi)},{key:"an",valueSchema:new f(new fi)},{key:"au",valueSchema:new f(new fi)},{key:"am",valueSchema:new Nt(32)},{key:"m",valueSchema:new f(new _t)},{key:"r",valueSchema:new f(new _t)},{key:"f",valueSchema:new f(new _t)},{key:"c",valueSchema:new f(new _t)}]));class Hr{constructor(e){this.params=e.params,this.deleted=e.deleted}getEncodingSchema(){return Hr.encodingSchema}toEncodingData(){return new Map([["Params",this.params?this.params.toEncodingData():void 0],["Deleted",this.deleted]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetParamsDelta: ${e}`);return new Hr({params:e.get("Params")?ra.fromEncodingData(e.get("Params")):void 0,deleted:e.get("Deleted")})}}Hr.encodingSchema=new z(je([{key:"Params",valueSchema:new f(ra.encodingSchema)},{key:"Deleted",valueSchema:new ht}]));class Gr{constructor(e){this.id=e.id,this.address=e.address,this.params=e.params,this.holding=e.holding}getEncodingSchema(){return Gr.encodingSchema}toEncodingData(){return new Map([["Aidx",this.id],["Addr",this.address],["Params",this.params.toEncodingData()],["Holding",this.holding.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetResourceRecord: ${e}`);return new Gr({id:e.get("Aidx"),address:e.get("Addr"),params:Hr.fromEncodingData(e.get("Params")),holding:zr.fromEncodingData(e.get("Holding"))})}}Gr.encodingSchema=new z(je([{key:"Aidx",valueSchema:new b},{key:"Addr",valueSchema:new _t},{key:"Params",valueSchema:Hr.encodingSchema},{key:"Holding",valueSchema:zr.encodingSchema}]));class Kr{constructor(e){this.voteID=e.voteID,this.selectionID=e.selectionID,this.stateProofID=e.stateProofID,this.voteFirstValid=e.voteFirstValid,this.voteLastValid=e.voteLastValid,this.voteKeyDilution=e.voteKeyDilution}getEncodingSchema(){return Kr.encodingSchema}toEncodingData(){return new Map([["VoteID",this.voteID],["SelectionID",this.selectionID],["StateProofID",this.stateProofID],["VoteFirstValid",this.voteFirstValid],["VoteLastValid",this.voteLastValid],["VoteKeyDilution",this.voteKeyDilution]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded VotingData: ${e}`);return new Kr({voteID:e.get("VoteID"),selectionID:e.get("SelectionID"),stateProofID:e.get("StateProofID"),voteFirstValid:e.get("VoteFirstValid"),voteLastValid:e.get("VoteLastValid"),voteKeyDilution:e.get("VoteKeyDilution")})}}Kr.encodingSchema=new z(je([{key:"VoteID",valueSchema:new Nt(32)},{key:"SelectionID",valueSchema:new Nt(32)},{key:"StateProofID",valueSchema:new Nt(64)},{key:"VoteFirstValid",valueSchema:new b},{key:"VoteLastValid",valueSchema:new b},{key:"VoteKeyDilution",valueSchema:new b}]));class Wr{constructor(e){this.status=e.status,this.microAlgos=e.microAlgos,this.rewardsBase=e.rewardsBase,this.rewardedMicroAlgos=e.rewardedMicroAlgos,this.authAddr=e.authAddr,this.incentiveEligible=e.incentiveEligible,this.totalAppSchema=e.totalAppSchema,this.totalExtraAppPages=e.totalExtraAppPages,this.totalAppParams=e.totalAppParams,this.totalAppLocalStates=e.totalAppLocalStates,this.totalAssetParams=e.totalAssetParams,this.totalAssets=e.totalAssets,this.totalBoxes=e.totalBoxes,this.totalBoxBytes=e.totalBoxBytes,this.lastProposed=e.lastProposed,this.lastHeartbeat=e.lastHeartbeat}getEncodingSchema(){return Wr.encodingSchema}toEncodingData(){return new Map([["Status",this.status],["MicroAlgos",this.microAlgos],["RewardsBase",this.rewardsBase],["RewardedMicroAlgos",this.rewardedMicroAlgos],["AuthAddr",this.authAddr],["IncentiveEligible",this.incentiveEligible],["TotalAppSchema",this.totalAppSchema.toEncodingData()],["TotalExtraAppPages",this.totalExtraAppPages],["TotalAppParams",this.totalAppParams],["TotalAppLocalStates",this.totalAppLocalStates],["TotalAssetParams",this.totalAssetParams],["TotalAssets",this.totalAssets],["TotalBoxes",this.totalBoxes],["TotalBoxBytes",this.totalBoxBytes],["LastProposed",this.lastProposed],["LastHeartbeat",this.lastHeartbeat]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountBaseData: ${e}`);return new Wr({status:Number(e.get("Status")),microAlgos:e.get("MicroAlgos"),rewardsBase:e.get("RewardsBase"),rewardedMicroAlgos:e.get("RewardedMicroAlgos"),authAddr:e.get("AuthAddr"),incentiveEligible:e.get("IncentiveEligible"),totalAppSchema:On.fromEncodingData(e.get("TotalAppSchema")),totalExtraAppPages:Number(e.get("TotalExtraAppPages")),totalAppParams:e.get("TotalAppParams"),totalAppLocalStates:e.get("TotalAppLocalStates"),totalAssetParams:e.get("TotalAssetParams"),totalAssets:e.get("TotalAssets"),totalBoxes:e.get("TotalBoxes"),totalBoxBytes:e.get("TotalBoxBytes"),lastProposed:e.get("LastProposed"),lastHeartbeat:e.get("LastHeartbeat")})}}Wr.encodingSchema=new z(je([{key:"Status",valueSchema:new b},{key:"MicroAlgos",valueSchema:new b},{key:"RewardsBase",valueSchema:new b},{key:"RewardedMicroAlgos",valueSchema:new b},{key:"AuthAddr",valueSchema:new _t},{key:"IncentiveEligible",valueSchema:new ht},{key:"TotalAppSchema",valueSchema:On.encodingSchema},{key:"TotalExtraAppPages",valueSchema:new b},{key:"TotalAppParams",valueSchema:new b},{key:"TotalAppLocalStates",valueSchema:new b},{key:"TotalAssetParams",valueSchema:new b},{key:"TotalAssets",valueSchema:new b},{key:"TotalBoxes",valueSchema:new b},{key:"TotalBoxBytes",valueSchema:new b},{key:"LastProposed",valueSchema:new b},{key:"LastHeartbeat",valueSchema:new b}]));class jr{constructor(e){this.accountBaseData=e.accountBaseData,this.votingData=e.votingData}getEncodingSchema(){return jr.encodingSchema}toEncodingData(){return Mo(this.accountBaseData.toEncodingData(),this.votingData.toEncodingData())}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountData: ${e}`);return new jr({accountBaseData:Wr.fromEncodingData(e),votingData:Kr.fromEncodingData(e)})}}jr.encodingSchema=new z(je([{key:"",valueSchema:Wr.encodingSchema,embedded:!0},{key:"",valueSchema:Kr.encodingSchema,embedded:!0}]));class Jr{constructor(e){this.addr=e.addr,this.accountData=e.accountData}getEncodingSchema(){return Jr.encodingSchema}toEncodingData(){return Mo(new Map([["Addr",this.addr]]),this.accountData.toEncodingData())}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BalanceRecord: ${e}`);return new Jr({addr:e.get("Addr"),accountData:jr.fromEncodingData(e)})}}Jr.encodingSchema=new z(je([{key:"Addr",valueSchema:new _t},{key:"",valueSchema:jr.encodingSchema,embedded:!0}]));class Yr{constructor(e){this.accounts=e.accounts,this.appResources=e.appResources,this.assetResources=e.assetResources}getEncodingSchema(){return Yr.encodingSchema}toEncodingData(){return new Map([["Accts",this.accounts.map(e=>e.toEncodingData())],["AppResources",this.appResources.length===0?void 0:this.appResources.map(e=>e.toEncodingData())],["AssetResources",this.assetResources.length===0?void 0:this.assetResources.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountDeltas: ${e}`);return new Yr({accounts:(e.get("Accts")??[]).map(Jr.fromEncodingData),appResources:(e.get("AppResources")??[]).map(qr.fromEncodingData),assetResources:(e.get("AssetResources")??[]).map(Gr.fromEncodingData)})}}Yr.encodingSchema=new z(je([{key:"Accts",valueSchema:new Ee(Jr.encodingSchema)},{key:"AppResources",valueSchema:new f(new Ee(qr.encodingSchema))},{key:"AssetResources",valueSchema:new f(new Ee(Gr.encodingSchema))}]));class Xr{constructor(e){this.data=e.data,this.oldData=e.oldData}getEncodingSchema(){return Xr.encodingSchema}toEncodingData(){return new Map([["Data",this.data],["OldData",this.oldData]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded KvValueDelta: ${e}`);return new Xr({data:e.get("Data"),oldData:e.get("OldData")})}}Xr.encodingSchema=new z(je([{key:"Data",valueSchema:new f(new Me)},{key:"OldData",valueSchema:new f(new Me)}]));class Zr{constructor(e){this.lastValid=e.lastValid,this.intra=e.intra}getEncodingSchema(){return Zr.encodingSchema}toEncodingData(){return new Map([["LastValid",this.lastValid],["Intra",this.intra]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded IncludedTransactions: ${e}`);return new Zr({lastValid:e.get("LastValid"),intra:Number(e.get("Intra"))})}}Zr.encodingSchema=new z(je([{key:"LastValid",valueSchema:new b},{key:"Intra",valueSchema:new b}]));class Qr{constructor(e){this.creatableType=e.creatableType,this.created=e.created,this.creator=e.creator,this.ndeltas=e.ndeltas}getEncodingSchema(){return Qr.encodingSchema}toEncodingData(){return new Map([["Ctype",this.creatableType],["Created",this.created],["Creator",this.creator],["Ndeltas",this.ndeltas]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ModifiedCreatable: ${e}`);return new Qr({creatableType:Number(e.get("Ctype")),created:e.get("Created"),creator:e.get("Creator"),ndeltas:Number(e.get("Ndeltas"))})}}Qr.encodingSchema=new z(je([{key:"Ctype",valueSchema:new b},{key:"Created",valueSchema:new ht},{key:"Creator",valueSchema:new _t},{key:"Ndeltas",valueSchema:new b}]));class Mn{constructor(e){this.money=e.money,this.rewardUnits=e.rewardUnits}getEncodingSchema(){return Mn.encodingSchema}toEncodingData(){return new Map([["mon",this.money],["rwd",this.rewardUnits]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AlgoCount: ${e}`);return new Mn({money:e.get("mon"),rewardUnits:e.get("rwd")})}}Mn.encodingSchema=new z(je([{key:"mon",valueSchema:new b},{key:"rwd",valueSchema:new b}]));class ei{constructor(e){this.online=e.online,this.offline=e.offline,this.notParticipating=e.notParticipating,this.rewardsLevel=e.rewardsLevel}getEncodingSchema(){return ei.encodingSchema}toEncodingData(){return new Map([["online",this.online.toEncodingData()],["offline",this.offline.toEncodingData()],["notpart",this.notParticipating.toEncodingData()],["rwdlvl",this.rewardsLevel]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountTotals: ${e}`);return new ei({online:Mn.fromEncodingData(e.get("online")),offline:Mn.fromEncodingData(e.get("offline")),notParticipating:Mn.fromEncodingData(e.get("notpart")),rewardsLevel:e.get("rwdlvl")})}}ei.encodingSchema=new z(je([{key:"online",valueSchema:Mn.encodingSchema},{key:"offline",valueSchema:Mn.encodingSchema},{key:"notpart",valueSchema:Mn.encodingSchema},{key:"rwdlvl",valueSchema:new b}]));class Gn{constructor(e){this.accounts=e.accounts,this.kvMods=e.kvMods,this.txids=e.txids,this.txleases=e.txleases,this.creatables=e.creatables,this.blockHeader=e.blockHeader,this.stateProofNext=e.stateProofNext,this.prevTimestamp=e.prevTimestamp,this.totals=e.totals}getEncodingSchema(){return Gn.encodingSchema}toEncodingData(){return new Map([["Accts",this.accounts.toEncodingData()],["KvMods",this.kvMods.size===0?void 0:Xt(this.kvMods,(e,t)=>[e,t.toEncodingData()])],["Txids",Xt(this.txids,(e,t)=>[e,t.toEncodingData()])],["Txleases",this.txleases.toEncodingData()],["Creatables",this.creatables.size===0?void 0:Xt(this.creatables,(e,t)=>[e,t.toEncodingData()])],["Hdr",this.blockHeader.toEncodingData()],["StateProofNext",this.stateProofNext],["PrevTimestamp",this.prevTimestamp],["Totals",this.totals.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded LedgerStateDelta: ${e}`);return new Gn({accounts:Yr.fromEncodingData(e.get("Accts")),kvMods:Xt(e.get("KvMods")??new Map,(t,r)=>[t,Xr.fromEncodingData(r)]),txids:Xt(e.get("Txids"),(t,r)=>[t,Zr.fromEncodingData(r)]),txleases:tn.fromEncodingData(e.get("Txleases")),creatables:Xt(e.get("Creatables")??new Map,(t,r)=>[t,Qr.fromEncodingData(r)]),blockHeader:Hn.fromEncodingData(e.get("Hdr")),stateProofNext:e.get("StateProofNext"),prevTimestamp:e.get("PrevTimestamp"),totals:ei.fromEncodingData(e.get("Totals"))})}}Gn.encodingSchema=new z(je([{key:"Accts",valueSchema:Yr.encodingSchema},{key:"KvMods",valueSchema:new f(new Fo(Xr.encodingSchema))},{key:"Txids",valueSchema:new Bg(Zr.encodingSchema)},{key:"Txleases",valueSchema:new f(new fu)},{key:"Creatables",valueSchema:new f(new Xs(Qr.encodingSchema))},{key:"Hdr",valueSchema:Hn.encodingSchema},{key:"StateProofNext",valueSchema:new b},{key:"PrevTimestamp",valueSchema:new b},{key:"Totals",valueSchema:ei.encodingSchema}]));let Os=class Ga{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new de,omitEmpty:!0},{key:"amount",valueSchema:new b,omitEmpty:!0},{key:"amount-without-pending-rewards",valueSchema:new b,omitEmpty:!0},{key:"min-balance",valueSchema:new b,omitEmpty:!0},{key:"pending-rewards",valueSchema:new b,omitEmpty:!0},{key:"rewards",valueSchema:new b,omitEmpty:!0},{key:"round",valueSchema:new b,omitEmpty:!0},{key:"status",valueSchema:new de,omitEmpty:!0},{key:"total-apps-opted-in",valueSchema:new b,omitEmpty:!0},{key:"total-assets-opted-in",valueSchema:new b,omitEmpty:!0},{key:"total-created-apps",valueSchema:new b,omitEmpty:!0},{key:"total-created-assets",valueSchema:new b,omitEmpty:!0},{key:"apps-local-state",valueSchema:new f(new Ee(Go.encodingSchema)),omitEmpty:!0},{key:"apps-total-extra-pages",valueSchema:new f(new b),omitEmpty:!0},{key:"apps-total-schema",valueSchema:new f(kn.encodingSchema),omitEmpty:!0},{key:"assets",valueSchema:new f(new Ee(ni.encodingSchema)),omitEmpty:!0},{key:"auth-addr",valueSchema:new f(new de),omitEmpty:!0},{key:"created-apps",valueSchema:new f(new Ee(ti.encodingSchema)),omitEmpty:!0},{key:"created-assets",valueSchema:new f(new Ee(Ns.encodingSchema)),omitEmpty:!0},{key:"incentive-eligible",valueSchema:new f(new ht),omitEmpty:!0},{key:"last-heartbeat",valueSchema:new f(new b),omitEmpty:!0},{key:"last-proposed",valueSchema:new f(new b),omitEmpty:!0},{key:"participation",valueSchema:new f(Ka.encodingSchema),omitEmpty:!0},{key:"reward-base",valueSchema:new f(new b),omitEmpty:!0},{key:"sig-type",valueSchema:new f(new de),omitEmpty:!0},{key:"total-box-bytes",valueSchema:new f(new b),omitEmpty:!0},{key:"total-boxes",valueSchema:new f(new b),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,amount:t,amountWithoutPendingRewards:r,minBalance:i,pendingRewards:o,rewards:h,round:v,status:V,totalAppsOptedIn:p,totalAssetsOptedIn:C,totalCreatedApps:J,totalCreatedAssets:Z,appsLocalState:he,appsTotalExtraPages:ne,appsTotalSchema:le,assets:k,authAddr:P,createdApps:N,createdAssets:G,incentiveEligible:fe,lastHeartbeat:ve,lastProposed:D,participation:Q,rewardBase:Y,sigType:me,totalBoxBytes:y,totalBoxes:s}){this.address=e,this.amount=oe(t),this.amountWithoutPendingRewards=oe(r),this.minBalance=oe(i),this.pendingRewards=oe(o),this.rewards=oe(h),this.round=oe(v),this.status=V,this.totalAppsOptedIn=De(p),this.totalAssetsOptedIn=De(C),this.totalCreatedApps=De(J),this.totalCreatedAssets=De(Z),this.appsLocalState=he,this.appsTotalExtraPages=typeof ne>"u"?void 0:De(ne),this.appsTotalSchema=le,this.assets=k,this.authAddr=typeof P=="string"?rt.fromString(P):P,this.createdApps=N,this.createdAssets=G,this.incentiveEligible=fe,this.lastHeartbeat=typeof ve>"u"?void 0:De(ve),this.lastProposed=typeof D>"u"?void 0:De(D),this.participation=Q,this.rewardBase=typeof Y>"u"?void 0:oe(Y),this.sigType=me,this.totalBoxBytes=typeof y>"u"?void 0:De(y),this.totalBoxes=typeof s>"u"?void 0:De(s)}getEncodingSchema(){return Ga.encodingSchema}toEncodingData(){return new Map([["address",this.address],["amount",this.amount],["amount-without-pending-rewards",this.amountWithoutPendingRewards],["min-balance",this.minBalance],["pending-rewards",this.pendingRewards],["rewards",this.rewards],["round",this.round],["status",this.status],["total-apps-opted-in",this.totalAppsOptedIn],["total-assets-opted-in",this.totalAssetsOptedIn],["total-created-apps",this.totalCreatedApps],["total-created-assets",this.totalCreatedAssets],["apps-local-state",typeof this.appsLocalState<"u"?this.appsLocalState.map(e=>e.toEncodingData()):void 0],["apps-total-extra-pages",this.appsTotalExtraPages],["apps-total-schema",typeof this.appsTotalSchema<"u"?this.appsTotalSchema.toEncodingData():void 0],["assets",typeof this.assets<"u"?this.assets.map(e=>e.toEncodingData()):void 0],["auth-addr",typeof this.authAddr<"u"?this.authAddr.toString():void 0],["created-apps",typeof this.createdApps<"u"?this.createdApps.map(e=>e.toEncodingData()):void 0],["created-assets",typeof this.createdAssets<"u"?this.createdAssets.map(e=>e.toEncodingData()):void 0],["incentive-eligible",this.incentiveEligible],["last-heartbeat",this.lastHeartbeat],["last-proposed",this.lastProposed],["participation",typeof this.participation<"u"?this.participation.toEncodingData():void 0],["reward-base",this.rewardBase],["sig-type",this.sigType],["total-box-bytes",this.totalBoxBytes],["total-boxes",this.totalBoxes]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Account: ${e}`);return new Ga({address:e.get("address"),amount:e.get("amount"),amountWithoutPendingRewards:e.get("amount-without-pending-rewards"),minBalance:e.get("min-balance"),pendingRewards:e.get("pending-rewards"),rewards:e.get("rewards"),round:e.get("round"),status:e.get("status"),totalAppsOptedIn:e.get("total-apps-opted-in"),totalAssetsOptedIn:e.get("total-assets-opted-in"),totalCreatedApps:e.get("total-created-apps"),totalCreatedAssets:e.get("total-created-assets"),appsLocalState:typeof e.get("apps-local-state")<"u"?e.get("apps-local-state").map(t=>Go.fromEncodingData(t)):void 0,appsTotalExtraPages:e.get("apps-total-extra-pages"),appsTotalSchema:typeof e.get("apps-total-schema")<"u"?kn.fromEncodingData(e.get("apps-total-schema")):void 0,assets:typeof e.get("assets")<"u"?e.get("assets").map(t=>ni.fromEncodingData(t)):void 0,authAddr:e.get("auth-addr"),createdApps:typeof e.get("created-apps")<"u"?e.get("created-apps").map(t=>ti.fromEncodingData(t)):void 0,createdAssets:typeof e.get("created-assets")<"u"?e.get("created-assets").map(t=>Ns.fromEncodingData(t)):void 0,incentiveEligible:e.get("incentive-eligible"),lastHeartbeat:e.get("last-heartbeat"),lastProposed:e.get("last-proposed"),participation:typeof e.get("participation")<"u"?Ka.fromEncodingData(e.get("participation")):void 0,rewardBase:e.get("reward-base"),sigType:e.get("sig-type"),totalBoxBytes:e.get("total-box-bytes"),totalBoxes:e.get("total-boxes")})}};class qo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"round",valueSchema:new b,omitEmpty:!0},{key:"app-local-state",valueSchema:new f(Go.encodingSchema),omitEmpty:!0},{key:"created-app",valueSchema:new f(Ei.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({round:e,appLocalState:t,createdApp:r}){this.round=oe(e),this.appLocalState=t,this.createdApp=r}getEncodingSchema(){return qo.encodingSchema}toEncodingData(){return new Map([["round",this.round],["app-local-state",typeof this.appLocalState<"u"?this.appLocalState.toEncodingData():void 0],["created-app",typeof this.createdApp<"u"?this.createdApp.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountApplicationResponse: ${e}`);return new qo({round:e.get("round"),appLocalState:typeof e.get("app-local-state")<"u"?Go.fromEncodingData(e.get("app-local-state")):void 0,createdApp:typeof e.get("created-app")<"u"?Ei.fromEncodingData(e.get("created-app")):void 0})}}class yi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"asset-holding",valueSchema:ni.encodingSchema,omitEmpty:!0},{key:"asset-params",valueSchema:new f(ri.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({assetHolding:e,assetParams:t}){this.assetHolding=e,this.assetParams=t}getEncodingSchema(){return yi.encodingSchema}toEncodingData(){return new Map([["asset-holding",this.assetHolding.toEncodingData()],["asset-params",typeof this.assetParams<"u"?this.assetParams.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountAssetHolding: ${e}`);return new yi({assetHolding:ni.fromEncodingData(e.get("asset-holding")??new Map),assetParams:typeof e.get("asset-params")<"u"?ri.fromEncodingData(e.get("asset-params")):void 0})}}class zo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"round",valueSchema:new b,omitEmpty:!0},{key:"asset-holding",valueSchema:new f(ni.encodingSchema),omitEmpty:!0},{key:"created-asset",valueSchema:new f(ri.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({round:e,assetHolding:t,createdAsset:r}){this.round=oe(e),this.assetHolding=t,this.createdAsset=r}getEncodingSchema(){return zo.encodingSchema}toEncodingData(){return new Map([["round",this.round],["asset-holding",typeof this.assetHolding<"u"?this.assetHolding.toEncodingData():void 0],["created-asset",typeof this.createdAsset<"u"?this.createdAsset.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountAssetResponse: ${e}`);return new zo({round:e.get("round"),assetHolding:typeof e.get("asset-holding")<"u"?ni.fromEncodingData(e.get("asset-holding")):void 0,createdAsset:typeof e.get("created-asset")<"u"?ri.fromEncodingData(e.get("created-asset")):void 0})}}class Cs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"round",valueSchema:new b,omitEmpty:!0},{key:"asset-holdings",valueSchema:new f(new Ee(yi.encodingSchema)),omitEmpty:!0},{key:"next-token",valueSchema:new f(new de),omitEmpty:!0})),this.encodingSchemaValue}constructor({round:e,assetHoldings:t,nextToken:r}){this.round=De(e),this.assetHoldings=t,this.nextToken=r}getEncodingSchema(){return Cs.encodingSchema}toEncodingData(){return new Map([["round",this.round],["asset-holdings",typeof this.assetHoldings<"u"?this.assetHoldings.map(e=>e.toEncodingData()):void 0],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountAssetsInformationResponse: ${e}`);return new Cs({round:e.get("round"),assetHoldings:typeof e.get("asset-holdings")<"u"?e.get("asset-holdings").map(t=>yi.fromEncodingData(t)):void 0,nextToken:e.get("next-token")})}}let Ka=class Wa{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"selection-participation-key",valueSchema:new Me,omitEmpty:!0},{key:"vote-first-valid",valueSchema:new b,omitEmpty:!0},{key:"vote-key-dilution",valueSchema:new b,omitEmpty:!0},{key:"vote-last-valid",valueSchema:new b,omitEmpty:!0},{key:"vote-participation-key",valueSchema:new Me,omitEmpty:!0},{key:"state-proof-key",valueSchema:new f(new Me),omitEmpty:!0})),this.encodingSchemaValue}constructor({selectionParticipationKey:e,voteFirstValid:t,voteKeyDilution:r,voteLastValid:i,voteParticipationKey:o,stateProofKey:h}){this.selectionParticipationKey=typeof e=="string"?_e(e):e,this.voteFirstValid=oe(t),this.voteKeyDilution=oe(r),this.voteLastValid=oe(i),this.voteParticipationKey=typeof o=="string"?_e(o):o,this.stateProofKey=typeof h=="string"?_e(h):h}getEncodingSchema(){return Wa.encodingSchema}toEncodingData(){return new Map([["selection-participation-key",this.selectionParticipationKey],["vote-first-valid",this.voteFirstValid],["vote-key-dilution",this.voteKeyDilution],["vote-last-valid",this.voteLastValid],["vote-participation-key",this.voteParticipationKey],["state-proof-key",this.stateProofKey]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountParticipation: ${e}`);return new Wa({selectionParticipationKey:e.get("selection-participation-key"),voteFirstValid:e.get("vote-first-valid"),voteKeyDilution:e.get("vote-key-dilution"),voteLastValid:e.get("vote-last-valid"),voteParticipationKey:e.get("vote-participation-key"),stateProofKey:e.get("state-proof-key")})}},Ho=class ja{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new de,omitEmpty:!0},{key:"delta",valueSchema:new Ee(ii.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,delta:t}){this.address=e,this.delta=t}getEncodingSchema(){return ja.encodingSchema}toEncodingData(){return new Map([["address",this.address],["delta",this.delta.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountStateDelta: ${e}`);return new ja({address:e.get("address"),delta:(e.get("delta")??[]).map(t=>ii.fromEncodingData(t))})}};class wi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"application-index",valueSchema:new b,omitEmpty:!0},{key:"logs",valueSchema:new Ee(new Me),omitEmpty:!0},{key:"txId",valueSchema:new de,omitEmpty:!0})),this.encodingSchemaValue}constructor({applicationIndex:e,logs:t,txid:r}){this.applicationIndex=De(e),this.logs=t,this.txid=r}getEncodingSchema(){return wi.encodingSchema}toEncodingData(){return new Map([["application-index",this.applicationIndex],["logs",this.logs],["txId",this.txid]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AppCallLogs: ${e}`);return new wi({applicationIndex:e.get("application-index"),logs:e.get("logs"),txid:e.get("txId")})}}let ti=class Ja{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new b,omitEmpty:!0},{key:"params",valueSchema:Ei.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({id:e,params:t}){this.id=oe(e),this.params=t}getEncodingSchema(){return Ja.encodingSchema}toEncodingData(){return new Map([["id",this.id],["params",this.params.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Application: ${e}`);return new Ja({id:e.get("id"),params:Ei.fromEncodingData(e.get("params")??new Map)})}};class vi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new b,omitEmpty:!0},{key:"app-boxes",valueSchema:new f(Rn.encodingSchema),omitEmpty:!0},{key:"app-globals",valueSchema:new f(Rn.encodingSchema),omitEmpty:!0},{key:"app-locals",valueSchema:new f(new Ee(Rn.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({id:e,appBoxes:t,appGlobals:r,appLocals:i}){this.id=oe(e),this.appBoxes=t,this.appGlobals=r,this.appLocals=i}getEncodingSchema(){return vi.encodingSchema}toEncodingData(){return new Map([["id",this.id],["app-boxes",typeof this.appBoxes<"u"?this.appBoxes.toEncodingData():void 0],["app-globals",typeof this.appGlobals<"u"?this.appGlobals.toEncodingData():void 0],["app-locals",typeof this.appLocals<"u"?this.appLocals.map(e=>e.toEncodingData()):void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationInitialStates: ${e}`);return new vi({id:e.get("id"),appBoxes:typeof e.get("app-boxes")<"u"?Rn.fromEncodingData(e.get("app-boxes")):void 0,appGlobals:typeof e.get("app-globals")<"u"?Rn.fromEncodingData(e.get("app-globals")):void 0,appLocals:typeof e.get("app-locals")<"u"?e.get("app-locals").map(t=>Rn.fromEncodingData(t)):void 0})}}class Rn{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"kvs",valueSchema:new Ee(ki.encodingSchema),omitEmpty:!0},{key:"account",valueSchema:new f(new de),omitEmpty:!0})),this.encodingSchemaValue}constructor({kvs:e,account:t}){this.kvs=e,this.account=typeof t=="string"?rt.fromString(t):t}getEncodingSchema(){return Rn.encodingSchema}toEncodingData(){return new Map([["kvs",this.kvs.map(e=>e.toEncodingData())],["account",typeof this.account<"u"?this.account.toString():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationKVStorage: ${e}`);return new Rn({kvs:(e.get("kvs")??[]).map(t=>ki.fromEncodingData(t)),account:e.get("account")})}}class Si{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"account",valueSchema:new de,omitEmpty:!0},{key:"app",valueSchema:new b,omitEmpty:!0})),this.encodingSchemaValue}constructor({account:e,app:t}){this.account=typeof e=="string"?rt.fromString(e):e,this.app=oe(t)}getEncodingSchema(){return Si.encodingSchema}toEncodingData(){return new Map([["account",this.account.toString()],["app",this.app]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationLocalReference: ${e}`);return new Si({account:e.get("account"),app:e.get("app")})}}let Go=class Ya{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new b,omitEmpty:!0},{key:"schema",valueSchema:kn.encodingSchema,omitEmpty:!0},{key:"key-value",valueSchema:new f(new Ee(is.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({id:e,schema:t,keyValue:r}){this.id=oe(e),this.schema=t,this.keyValue=r}getEncodingSchema(){return Ya.encodingSchema}toEncodingData(){return new Map([["id",this.id],["schema",this.schema.toEncodingData()],["key-value",typeof this.keyValue<"u"?this.keyValue.map(e=>e.toEncodingData()):void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationLocalState: ${e}`);return new Ya({id:e.get("id"),schema:kn.fromEncodingData(e.get("schema")??new Map),keyValue:typeof e.get("key-value")<"u"?e.get("key-value").map(t=>is.fromEncodingData(t)):void 0})}},Ei=class Xa{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"approval-program",valueSchema:new Me,omitEmpty:!0},{key:"clear-state-program",valueSchema:new Me,omitEmpty:!0},{key:"creator",valueSchema:new de,omitEmpty:!0},{key:"extra-program-pages",valueSchema:new f(new b),omitEmpty:!0},{key:"global-state",valueSchema:new f(new Ee(is.encodingSchema)),omitEmpty:!0},{key:"global-state-schema",valueSchema:new f(kn.encodingSchema),omitEmpty:!0},{key:"local-state-schema",valueSchema:new f(kn.encodingSchema),omitEmpty:!0},{key:"version",valueSchema:new f(new b),omitEmpty:!0})),this.encodingSchemaValue}constructor({approvalProgram:e,clearStateProgram:t,creator:r,extraProgramPages:i,globalState:o,globalStateSchema:h,localStateSchema:v,version:V}){this.approvalProgram=typeof e=="string"?_e(e):e,this.clearStateProgram=typeof t=="string"?_e(t):t,this.creator=typeof r=="string"?rt.fromString(r):r,this.extraProgramPages=typeof i>"u"?void 0:De(i),this.globalState=o,this.globalStateSchema=h,this.localStateSchema=v,this.version=typeof V>"u"?void 0:De(V)}getEncodingSchema(){return Xa.encodingSchema}toEncodingData(){return new Map([["approval-program",this.approvalProgram],["clear-state-program",this.clearStateProgram],["creator",this.creator.toString()],["extra-program-pages",this.extraProgramPages],["global-state",typeof this.globalState<"u"?this.globalState.map(e=>e.toEncodingData()):void 0],["global-state-schema",typeof this.globalStateSchema<"u"?this.globalStateSchema.toEncodingData():void 0],["local-state-schema",typeof this.localStateSchema<"u"?this.localStateSchema.toEncodingData():void 0],["version",this.version]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationParams: ${e}`);return new Xa({approvalProgram:e.get("approval-program"),clearStateProgram:e.get("clear-state-program"),creator:e.get("creator"),extraProgramPages:e.get("extra-program-pages"),globalState:typeof e.get("global-state")<"u"?e.get("global-state").map(t=>is.fromEncodingData(t)):void 0,globalStateSchema:typeof e.get("global-state-schema")<"u"?kn.fromEncodingData(e.get("global-state-schema")):void 0,localStateSchema:typeof e.get("local-state-schema")<"u"?kn.fromEncodingData(e.get("local-state-schema")):void 0,version:e.get("version")})}};class xi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"app-state-type",valueSchema:new de,omitEmpty:!0},{key:"key",valueSchema:new Me,omitEmpty:!0},{key:"operation",valueSchema:new de,omitEmpty:!0},{key:"account",valueSchema:new f(new de),omitEmpty:!0},{key:"new-value",valueSchema:new f(vn.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({appStateType:e,key:t,operation:r,account:i,newValue:o}){this.appStateType=e,this.key=typeof t=="string"?_e(t):t,this.operation=r,this.account=typeof i=="string"?rt.fromString(i):i,this.newValue=o}getEncodingSchema(){return xi.encodingSchema}toEncodingData(){return new Map([["app-state-type",this.appStateType],["key",this.key],["operation",this.operation],["account",typeof this.account<"u"?this.account.toString():void 0],["new-value",typeof this.newValue<"u"?this.newValue.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationStateOperation: ${e}`);return new xi({appStateType:e.get("app-state-type"),key:e.get("key"),operation:e.get("operation"),account:e.get("account"),newValue:typeof e.get("new-value")<"u"?vn.fromEncodingData(e.get("new-value")):void 0})}}let kn=class Za{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"num-byte-slice",valueSchema:new b,omitEmpty:!0},{key:"num-uint",valueSchema:new b,omitEmpty:!0})),this.encodingSchemaValue}constructor({numByteSlice:e,numUint:t}){this.numByteSlice=De(e),this.numUint=De(t)}getEncodingSchema(){return Za.encodingSchema}toEncodingData(){return new Map([["num-byte-slice",this.numByteSlice],["num-uint",this.numUint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationStateSchema: ${e}`);return new Za({numByteSlice:e.get("num-byte-slice"),numUint:e.get("num-uint")})}},Ns=class Qa{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"index",valueSchema:new b,omitEmpty:!0},{key:"params",valueSchema:ri.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({index:e,params:t}){this.index=oe(e),this.params=t}getEncodingSchema(){return Qa.encodingSchema}toEncodingData(){return new Map([["index",this.index],["params",this.params.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Asset: ${e}`);return new Qa({index:e.get("index"),params:ri.fromEncodingData(e.get("params")??new Map)})}},ni=class ec{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"amount",valueSchema:new b,omitEmpty:!0},{key:"asset-id",valueSchema:new b,omitEmpty:!0},{key:"is-frozen",valueSchema:new ht,omitEmpty:!0})),this.encodingSchemaValue}constructor({amount:e,assetId:t,isFrozen:r}){this.amount=oe(e),this.assetId=oe(t),this.isFrozen=r}getEncodingSchema(){return ec.encodingSchema}toEncodingData(){return new Map([["amount",this.amount],["asset-id",this.assetId],["is-frozen",this.isFrozen]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetHolding: ${e}`);return new ec({amount:e.get("amount"),assetId:e.get("asset-id"),isFrozen:e.get("is-frozen")})}};class bi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"account",valueSchema:new de,omitEmpty:!0},{key:"asset",valueSchema:new b,omitEmpty:!0})),this.encodingSchemaValue}constructor({account:e,asset:t}){this.account=typeof e=="string"?rt.fromString(e):e,this.asset=oe(t)}getEncodingSchema(){return bi.encodingSchema}toEncodingData(){return new Map([["account",this.account.toString()],["asset",this.asset]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetHoldingReference: ${e}`);return new bi({account:e.get("account"),asset:e.get("asset")})}}let ri=class tc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"creator",valueSchema:new de,omitEmpty:!0},{key:"decimals",valueSchema:new b,omitEmpty:!0},{key:"total",valueSchema:new b,omitEmpty:!0},{key:"clawback",valueSchema:new f(new de),omitEmpty:!0},{key:"default-frozen",valueSchema:new f(new ht),omitEmpty:!0},{key:"freeze",valueSchema:new f(new de),omitEmpty:!0},{key:"manager",valueSchema:new f(new de),omitEmpty:!0},{key:"metadata-hash",valueSchema:new f(new Me),omitEmpty:!0},{key:"name",valueSchema:new f(new de),omitEmpty:!0},{key:"name-b64",valueSchema:new f(new Me),omitEmpty:!0},{key:"reserve",valueSchema:new f(new de),omitEmpty:!0},{key:"unit-name",valueSchema:new f(new de),omitEmpty:!0},{key:"unit-name-b64",valueSchema:new f(new Me),omitEmpty:!0},{key:"url",valueSchema:new f(new de),omitEmpty:!0},{key:"url-b64",valueSchema:new f(new Me),omitEmpty:!0})),this.encodingSchemaValue}constructor({creator:e,decimals:t,total:r,clawback:i,defaultFrozen:o,freeze:h,manager:v,metadataHash:V,name:p,nameB64:C,reserve:J,unitName:Z,unitNameB64:he,url:ne,urlB64:le}){this.creator=e,this.decimals=De(t),this.total=oe(r),this.clawback=i,this.defaultFrozen=o,this.freeze=h,this.manager=v,this.metadataHash=typeof V=="string"?_e(V):V,this.name=p,this.nameB64=typeof C=="string"?_e(C):C,this.reserve=J,this.unitName=Z,this.unitNameB64=typeof he=="string"?_e(he):he,this.url=ne,this.urlB64=typeof le=="string"?_e(le):le}getEncodingSchema(){return tc.encodingSchema}toEncodingData(){return new Map([["creator",this.creator],["decimals",this.decimals],["total",this.total],["clawback",this.clawback],["default-frozen",this.defaultFrozen],["freeze",this.freeze],["manager",this.manager],["metadata-hash",this.metadataHash],["name",this.name],["name-b64",this.nameB64],["reserve",this.reserve],["unit-name",this.unitName],["unit-name-b64",this.unitNameB64],["url",this.url],["url-b64",this.urlB64]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetParams: ${e}`);return new tc({creator:e.get("creator"),decimals:e.get("decimals"),total:e.get("total"),clawback:e.get("clawback"),defaultFrozen:e.get("default-frozen"),freeze:e.get("freeze"),manager:e.get("manager"),metadataHash:e.get("metadata-hash"),name:e.get("name"),nameB64:e.get("name-b64"),reserve:e.get("reserve"),unitName:e.get("unit-name"),unitNameB64:e.get("unit-name-b64"),url:e.get("url"),urlB64:e.get("url-b64")})}};class ki{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new Me,omitEmpty:!0},{key:"value",valueSchema:vn.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:e,value:t}){this.key=typeof e=="string"?_e(e):e,this.value=t}getEncodingSchema(){return ki.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AvmKeyValue: ${e}`);return new ki({key:e.get("key"),value:vn.fromEncodingData(e.get("value")??new Map)})}}class vn{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"type",valueSchema:new b,omitEmpty:!0},{key:"bytes",valueSchema:new f(new Me),omitEmpty:!0},{key:"uint",valueSchema:new f(new b),omitEmpty:!0})),this.encodingSchemaValue}constructor({type:e,bytes:t,uint:r}){this.type=De(e),this.bytes=typeof t=="string"?_e(t):t,this.uint=typeof r>"u"?void 0:oe(r)}getEncodingSchema(){return vn.encodingSchema}toEncodingData(){return new Map([["type",this.type],["bytes",this.bytes],["uint",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AvmValue: ${e}`);return new vn({type:e.get("type"),bytes:e.get("bytes"),uint:e.get("uint")})}}class Ko{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"blockHash",valueSchema:new de,omitEmpty:!0})),this.encodingSchemaValue}constructor({blockhash:e}){this.blockhash=e}getEncodingSchema(){return Ko.encodingSchema}toEncodingData(){return new Map([["blockHash",this.blockhash]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockHashResponse: ${e}`);return new Ko({blockhash:e.get("blockHash")})}}class Us{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"logs",valueSchema:new Ee(wi.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({logs:e}){this.logs=e}getEncodingSchema(){return Us.encodingSchema}toEncodingData(){return new Map([["logs",this.logs.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockLogsResponse: ${e}`);return new Us({logs:(e.get("logs")??[]).map(t=>wi.fromEncodingData(t))})}}class Wo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"block",valueSchema:Ps.encodingSchema,omitEmpty:!0},{key:"cert",valueSchema:new f(tn.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({block:e,cert:t}){this.block=e,this.cert=t}getEncodingSchema(){return Wo.encodingSchema}toEncodingData(){return new Map([["block",this.block.toEncodingData()],["cert",typeof this.cert<"u"?this.cert.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockResponse: ${e}`);return new Wo({block:Ps.fromEncodingData(e.get("block")??new Map),cert:typeof e.get("cert")<"u"?tn.fromEncodingData(e.get("cert")):void 0})}}class jo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"blockTxids",valueSchema:new Ee(new de),omitEmpty:!0})),this.encodingSchemaValue}constructor({blocktxids:e}){this.blocktxids=e}getEncodingSchema(){return jo.encodingSchema}toEncodingData(){return new Map([["blockTxids",this.blocktxids]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockTxidsResponse: ${e}`);return new jo({blocktxids:e.get("blockTxids")})}}let ku=class nc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"name",valueSchema:new Me,omitEmpty:!0},{key:"round",valueSchema:new b,omitEmpty:!0},{key:"value",valueSchema:new Me,omitEmpty:!0})),this.encodingSchemaValue}constructor({name:e,round:t,value:r}){this.name=typeof e=="string"?_e(e):e,this.round=oe(t),this.value=typeof r=="string"?_e(r):r}getEncodingSchema(){return nc.encodingSchema}toEncodingData(){return new Map([["name",this.name],["round",this.round],["value",this.value]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Box: ${e}`);return new nc({name:e.get("name"),round:e.get("round"),value:e.get("value")})}},rc=class ic{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"name",valueSchema:new Me,omitEmpty:!0})),this.encodingSchemaValue}constructor({name:e}){this.name=typeof e=="string"?_e(e):e}getEncodingSchema(){return ic.encodingSchema}toEncodingData(){return new Map([["name",this.name]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BoxDescriptor: ${e}`);return new ic({name:e.get("name")})}},oc=class sc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"app",valueSchema:new b,omitEmpty:!0},{key:"name",valueSchema:new Me,omitEmpty:!0})),this.encodingSchemaValue}constructor({app:e,name:t}){this.app=oe(e),this.name=typeof t=="string"?_e(t):t}getEncodingSchema(){return sc.encodingSchema}toEncodingData(){return new Map([["app",this.app],["name",this.name]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BoxReference: ${e}`);return new sc({app:e.get("app"),name:e.get("name")})}},Mu=class ac{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"boxes",valueSchema:new Ee(rc.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({boxes:e}){this.boxes=e}getEncodingSchema(){return ac.encodingSchema}toEncodingData(){return new Map([["boxes",this.boxes.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BoxesResponse: ${e}`);return new ac({boxes:(e.get("boxes")??[]).map(t=>rc.fromEncodingData(t))})}};class Mi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"branch",valueSchema:new de,omitEmpty:!0},{key:"build_number",valueSchema:new b,omitEmpty:!0},{key:"channel",valueSchema:new de,omitEmpty:!0},{key:"commit_hash",valueSchema:new de,omitEmpty:!0},{key:"major",valueSchema:new b,omitEmpty:!0},{key:"minor",valueSchema:new b,omitEmpty:!0})),this.encodingSchemaValue}constructor({branch:e,buildNumber:t,channel:r,commitHash:i,major:o,minor:h}){this.branch=e,this.buildNumber=De(t),this.channel=r,this.commitHash=i,this.major=De(o),this.minor=De(h)}getEncodingSchema(){return Mi.encodingSchema}toEncodingData(){return new Map([["branch",this.branch],["build_number",this.buildNumber],["channel",this.channel],["commit_hash",this.commitHash],["major",this.major],["minor",this.minor]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BuildVersion: ${e}`);return new Mi({branch:e.get("branch"),buildNumber:e.get("build_number"),channel:e.get("channel"),commitHash:e.get("commit_hash"),major:e.get("major"),minor:e.get("minor")})}}class Jo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"hash",valueSchema:new de,omitEmpty:!0},{key:"result",valueSchema:new de,omitEmpty:!0},{key:"sourcemap",valueSchema:new f(tn.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({hash:e,result:t,sourcemap:r}){this.hash=e,this.result=t,this.sourcemap=r}getEncodingSchema(){return Jo.encodingSchema}toEncodingData(){return new Map([["hash",this.hash],["result",this.result],["sourcemap",typeof this.sourcemap<"u"?this.sourcemap.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded CompileResponse: ${e}`);return new Jo({hash:e.get("hash"),result:e.get("result"),sourcemap:typeof e.get("sourcemap")<"u"?tn.fromEncodingData(e.get("sourcemap")):void 0})}}class Yo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"result",valueSchema:new de,omitEmpty:!0})),this.encodingSchemaValue}constructor({result:e}){this.result=e}getEncodingSchema(){return Yo.encodingSchema}toEncodingData(){return new Map([["result",this.result]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded DisassembleResponse: ${e}`);return new Yo({result:e.get("result")})}}class Xo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"accounts",valueSchema:new Ee(Os.encodingSchema),omitEmpty:!0},{key:"apps",valueSchema:new Ee(ti.encodingSchema),omitEmpty:!0},{key:"latest-timestamp",valueSchema:new b,omitEmpty:!0},{key:"protocol-version",valueSchema:new de,omitEmpty:!0},{key:"round",valueSchema:new b,omitEmpty:!0},{key:"sources",valueSchema:new Ee(Ai.encodingSchema),omitEmpty:!0},{key:"txns",valueSchema:new Ee(Ct.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({accounts:e,apps:t,latestTimestamp:r,protocolVersion:i,round:o,sources:h,txns:v}){this.accounts=e,this.apps=t,this.latestTimestamp=De(r),this.protocolVersion=i,this.round=oe(o),this.sources=h,this.txns=v}getEncodingSchema(){return Xo.encodingSchema}toEncodingData(){return new Map([["accounts",this.accounts.map(e=>e.toEncodingData())],["apps",this.apps.map(e=>e.toEncodingData())],["latest-timestamp",this.latestTimestamp],["protocol-version",this.protocolVersion],["round",this.round],["sources",this.sources.map(e=>e.toEncodingData())],["txns",this.txns.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded DryrunRequest: ${e}`);return new Xo({accounts:(e.get("accounts")??[]).map(t=>Os.fromEncodingData(t)),apps:(e.get("apps")??[]).map(t=>ti.fromEncodingData(t)),latestTimestamp:e.get("latest-timestamp"),protocolVersion:e.get("protocol-version"),round:e.get("round"),sources:(e.get("sources")??[]).map(t=>Ai.fromEncodingData(t)),txns:(e.get("txns")??[]).map(t=>Ct.fromEncodingData(t))})}}class Zo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"error",valueSchema:new de,omitEmpty:!0},{key:"protocol-version",valueSchema:new de,omitEmpty:!0},{key:"txns",valueSchema:new Ee(Di.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({error:e,protocolVersion:t,txns:r}){this.error=e,this.protocolVersion=t,this.txns=r}getEncodingSchema(){return Zo.encodingSchema}toEncodingData(){return new Map([["error",this.error],["protocol-version",this.protocolVersion],["txns",this.txns.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded DryrunResponse: ${e}`);return new Zo({error:e.get("error"),protocolVersion:e.get("protocol-version"),txns:(e.get("txns")??[]).map(t=>Di.fromEncodingData(t))})}}class Ai{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"app-index",valueSchema:new b,omitEmpty:!0},{key:"field-name",valueSchema:new de,omitEmpty:!0},{key:"source",valueSchema:new de,omitEmpty:!0},{key:"txn-index",valueSchema:new b,omitEmpty:!0})),this.encodingSchemaValue}constructor({appIndex:e,fieldName:t,source:r,txnIndex:i}){this.appIndex=oe(e),this.fieldName=t,this.source=r,this.txnIndex=De(i)}getEncodingSchema(){return Ai.encodingSchema}toEncodingData(){return new Map([["app-index",this.appIndex],["field-name",this.fieldName],["source",this.source],["txn-index",this.txnIndex]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded DryrunSource: ${e}`);return new Ai({appIndex:e.get("app-index"),fieldName:e.get("field-name"),source:e.get("source"),txnIndex:e.get("txn-index")})}}class Zn{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"line",valueSchema:new b,omitEmpty:!0},{key:"pc",valueSchema:new b,omitEmpty:!0},{key:"stack",valueSchema:new Ee(Sr.encodingSchema),omitEmpty:!0},{key:"error",valueSchema:new f(new de),omitEmpty:!0},{key:"scratch",valueSchema:new f(new Ee(Sr.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({line:e,pc:t,stack:r,error:i,scratch:o}){this.line=De(e),this.pc=De(t),this.stack=r,this.error=i,this.scratch=o}getEncodingSchema(){return Zn.encodingSchema}toEncodingData(){return new Map([["line",this.line],["pc",this.pc],["stack",this.stack.map(e=>e.toEncodingData())],["error",this.error],["scratch",typeof this.scratch<"u"?this.scratch.map(e=>e.toEncodingData()):void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded DryrunState: ${e}`);return new Zn({line:e.get("line"),pc:e.get("pc"),stack:(e.get("stack")??[]).map(t=>Sr.fromEncodingData(t)),error:e.get("error"),scratch:typeof e.get("scratch")<"u"?e.get("scratch").map(t=>Sr.fromEncodingData(t)):void 0})}}class Di{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"disassembly",valueSchema:new Ee(new de),omitEmpty:!0},{key:"app-call-messages",valueSchema:new f(new Ee(new de)),omitEmpty:!0},{key:"app-call-trace",valueSchema:new f(new Ee(Zn.encodingSchema)),omitEmpty:!0},{key:"budget-added",valueSchema:new f(new b),omitEmpty:!0},{key:"budget-consumed",valueSchema:new f(new b),omitEmpty:!0},{key:"global-delta",valueSchema:new f(new Ee(ii.encodingSchema)),omitEmpty:!0},{key:"local-deltas",valueSchema:new f(new Ee(Ho.encodingSchema)),omitEmpty:!0},{key:"logic-sig-disassembly",valueSchema:new f(new Ee(new de)),omitEmpty:!0},{key:"logic-sig-messages",valueSchema:new f(new Ee(new de)),omitEmpty:!0},{key:"logic-sig-trace",valueSchema:new f(new Ee(Zn.encodingSchema)),omitEmpty:!0},{key:"logs",valueSchema:new f(new Ee(new Me)),omitEmpty:!0})),this.encodingSchemaValue}constructor({disassembly:e,appCallMessages:t,appCallTrace:r,budgetAdded:i,budgetConsumed:o,globalDelta:h,localDeltas:v,logicSigDisassembly:V,logicSigMessages:p,logicSigTrace:C,logs:J}){this.disassembly=e,this.appCallMessages=t,this.appCallTrace=r,this.budgetAdded=typeof i>"u"?void 0:De(i),this.budgetConsumed=typeof o>"u"?void 0:De(o),this.globalDelta=h,this.localDeltas=v,this.logicSigDisassembly=V,this.logicSigMessages=p,this.logicSigTrace=C,this.logs=J}getEncodingSchema(){return Di.encodingSchema}toEncodingData(){return new Map([["disassembly",this.disassembly],["app-call-messages",this.appCallMessages],["app-call-trace",typeof this.appCallTrace<"u"?this.appCallTrace.map(e=>e.toEncodingData()):void 0],["budget-added",this.budgetAdded],["budget-consumed",this.budgetConsumed],["global-delta",typeof this.globalDelta<"u"?this.globalDelta.map(e=>e.toEncodingData()):void 0],["local-deltas",typeof this.localDeltas<"u"?this.localDeltas.map(e=>e.toEncodingData()):void 0],["logic-sig-disassembly",this.logicSigDisassembly],["logic-sig-messages",this.logicSigMessages],["logic-sig-trace",typeof this.logicSigTrace<"u"?this.logicSigTrace.map(e=>e.toEncodingData()):void 0],["logs",this.logs]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded DryrunTxnResult: ${e}`);return new Di({disassembly:e.get("disassembly"),appCallMessages:e.get("app-call-messages"),appCallTrace:typeof e.get("app-call-trace")<"u"?e.get("app-call-trace").map(t=>Zn.fromEncodingData(t)):void 0,budgetAdded:e.get("budget-added"),budgetConsumed:e.get("budget-consumed"),globalDelta:typeof e.get("global-delta")<"u"?e.get("global-delta").map(t=>ii.fromEncodingData(t)):void 0,localDeltas:typeof e.get("local-deltas")<"u"?e.get("local-deltas").map(t=>Ho.fromEncodingData(t)):void 0,logicSigDisassembly:e.get("logic-sig-disassembly"),logicSigMessages:e.get("logic-sig-messages"),logicSigTrace:typeof e.get("logic-sig-trace")<"u"?e.get("logic-sig-trace").map(t=>Zn.fromEncodingData(t)):void 0,logs:e.get("logs")})}}let im=class cc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"message",valueSchema:new de,omitEmpty:!0},{key:"data",valueSchema:new f(tn.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({message:e,data:t}){this.message=e,this.data=t}getEncodingSchema(){return cc.encodingSchema}toEncodingData(){return new Map([["message",this.message],["data",typeof this.data<"u"?this.data.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ErrorResponse: ${e}`);return new cc({message:e.get("message"),data:typeof e.get("data")<"u"?tn.fromEncodingData(e.get("data")):void 0})}},hc=class uc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"action",valueSchema:new b,omitEmpty:!0},{key:"bytes",valueSchema:new f(new de),omitEmpty:!0},{key:"uint",valueSchema:new f(new b),omitEmpty:!0})),this.encodingSchemaValue}constructor({action:e,bytes:t,uint:r}){this.action=De(e),this.bytes=t,this.uint=typeof r>"u"?void 0:oe(r)}getEncodingSchema(){return uc.encodingSchema}toEncodingData(){return new Map([["action",this.action],["bytes",this.bytes],["uint",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded EvalDelta: ${e}`);return new uc({action:e.get("action"),bytes:e.get("bytes"),uint:e.get("uint")})}},ii=class lc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new de,omitEmpty:!0},{key:"value",valueSchema:hc.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:e,value:t}){this.key=e,this.value=t}getEncodingSchema(){return lc.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded EvalDeltaKeyValue: ${e}`);return new lc({key:e.get("key"),value:hc.fromEncodingData(e.get("value")??new Map)})}},om=class dc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"alloc",valueSchema:new Ee(Ii.encodingSchema),omitEmpty:!0},{key:"fees",valueSchema:new de,omitEmpty:!0},{key:"id",valueSchema:new de,omitEmpty:!0},{key:"network",valueSchema:new de,omitEmpty:!0},{key:"proto",valueSchema:new de,omitEmpty:!0},{key:"rwd",valueSchema:new de,omitEmpty:!0},{key:"timestamp",valueSchema:new b,omitEmpty:!0},{key:"comment",valueSchema:new f(new de),omitEmpty:!0},{key:"devmode",valueSchema:new f(new ht),omitEmpty:!0})),this.encodingSchemaValue}constructor({alloc:e,fees:t,id:r,network:i,proto:o,rwd:h,timestamp:v,comment:V,devmode:p}){this.alloc=e,this.fees=t,this.id=r,this.network=i,this.proto=o,this.rwd=h,this.timestamp=De(v),this.comment=V,this.devmode=p}getEncodingSchema(){return dc.encodingSchema}toEncodingData(){return new Map([["alloc",this.alloc.map(e=>e.toEncodingData())],["fees",this.fees],["id",this.id],["network",this.network],["proto",this.proto],["rwd",this.rwd],["timestamp",this.timestamp],["comment",this.comment],["devmode",this.devmode]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Genesis: ${e}`);return new dc({alloc:(e.get("alloc")??[]).map(t=>Ii.fromEncodingData(t)),fees:e.get("fees"),id:e.get("id"),network:e.get("network"),proto:e.get("proto"),rwd:e.get("rwd"),timestamp:e.get("timestamp"),comment:e.get("comment"),devmode:e.get("devmode")})}};class Ii{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"addr",valueSchema:new de,omitEmpty:!0},{key:"comment",valueSchema:new de,omitEmpty:!0},{key:"state",valueSchema:tn.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({addr:e,comment:t,state:r}){this.addr=e,this.comment=t,this.state=r}getEncodingSchema(){return Ii.encodingSchema}toEncodingData(){return new Map([["addr",this.addr],["comment",this.comment],["state",this.state.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded GenesisAllocation: ${e}`);return new Ii({addr:e.get("addr"),comment:e.get("comment"),state:tn.fromEncodingData(e.get("state")??new Map)})}}class Qo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"offset",valueSchema:new b,omitEmpty:!0})),this.encodingSchemaValue}constructor({offset:e}){this.offset=De(e)}getEncodingSchema(){return Qo.encodingSchema}toEncodingData(){return new Map([["offset",this.offset]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded GetBlockTimeStampOffsetResponse: ${e}`);return new Qo({offset:e.get("offset")})}}class es{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"round",valueSchema:new b,omitEmpty:!0})),this.encodingSchemaValue}constructor({round:e}){this.round=oe(e)}getEncodingSchema(){return es.encodingSchema}toEncodingData(){return new Map([["round",this.round]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded GetSyncRoundResponse: ${e}`);return new es({round:e.get("round")})}}class Ti{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"Delta",valueSchema:Gn.encodingSchema,omitEmpty:!0},{key:"Ids",valueSchema:new Ee(new de),omitEmpty:!0})),this.encodingSchemaValue}constructor({delta:e,ids:t}){this.delta=e,this.ids=t}getEncodingSchema(){return Ti.encodingSchema}toEncodingData(){return new Map([["Delta",this.delta.toEncodingData()],["Ids",this.ids]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded LedgerStateDeltaForTransactionGroup: ${e}`);return new Ti({delta:Gn.fromEncodingData(e.get("Delta")??new Map),ids:e.get("Ids")})}}let Au=class fc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"index",valueSchema:new b,omitEmpty:!0},{key:"proof",valueSchema:new Me,omitEmpty:!0},{key:"treedepth",valueSchema:new b,omitEmpty:!0})),this.encodingSchemaValue}constructor({index:e,proof:t,treedepth:r}){this.index=De(e),this.proof=typeof t=="string"?_e(t):t,this.treedepth=De(r)}getEncodingSchema(){return fc.encodingSchema}toEncodingData(){return new Map([["index",this.index],["proof",this.proof],["treedepth",this.treedepth]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded LightBlockHeaderProof: ${e}`);return new fc({index:e.get("index"),proof:e.get("proof"),treedepth:e.get("treedepth")})}};class Ri{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"catchup-time",valueSchema:new b,omitEmpty:!0},{key:"last-round",valueSchema:new b,omitEmpty:!0},{key:"last-version",valueSchema:new de,omitEmpty:!0},{key:"next-version",valueSchema:new de,omitEmpty:!0},{key:"next-version-round",valueSchema:new b,omitEmpty:!0},{key:"next-version-supported",valueSchema:new ht,omitEmpty:!0},{key:"stopped-at-unsupported-round",valueSchema:new ht,omitEmpty:!0},{key:"time-since-last-round",valueSchema:new b,omitEmpty:!0},{key:"catchpoint",valueSchema:new f(new de),omitEmpty:!0},{key:"catchpoint-acquired-blocks",valueSchema:new f(new b),omitEmpty:!0},{key:"catchpoint-processed-accounts",valueSchema:new f(new b),omitEmpty:!0},{key:"catchpoint-processed-kvs",valueSchema:new f(new b),omitEmpty:!0},{key:"catchpoint-total-accounts",valueSchema:new f(new b),omitEmpty:!0},{key:"catchpoint-total-blocks",valueSchema:new f(new b),omitEmpty:!0},{key:"catchpoint-total-kvs",valueSchema:new f(new b),omitEmpty:!0},{key:"catchpoint-verified-accounts",valueSchema:new f(new b),omitEmpty:!0},{key:"catchpoint-verified-kvs",valueSchema:new f(new b),omitEmpty:!0},{key:"last-catchpoint",valueSchema:new f(new de),omitEmpty:!0},{key:"upgrade-delay",valueSchema:new f(new b),omitEmpty:!0},{key:"upgrade-next-protocol-vote-before",valueSchema:new f(new b),omitEmpty:!0},{key:"upgrade-no-votes",valueSchema:new f(new b),omitEmpty:!0},{key:"upgrade-node-vote",valueSchema:new f(new ht),omitEmpty:!0},{key:"upgrade-vote-rounds",valueSchema:new f(new b),omitEmpty:!0},{key:"upgrade-votes",valueSchema:new f(new b),omitEmpty:!0},{key:"upgrade-votes-required",valueSchema:new f(new b),omitEmpty:!0},{key:"upgrade-yes-votes",valueSchema:new f(new b),omitEmpty:!0})),this.encodingSchemaValue}constructor({catchupTime:e,lastRound:t,lastVersion:r,nextVersion:i,nextVersionRound:o,nextVersionSupported:h,stoppedAtUnsupportedRound:v,timeSinceLastRound:V,catchpoint:p,catchpointAcquiredBlocks:C,catchpointProcessedAccounts:J,catchpointProcessedKvs:Z,catchpointTotalAccounts:he,catchpointTotalBlocks:ne,catchpointTotalKvs:le,catchpointVerifiedAccounts:k,catchpointVerifiedKvs:P,lastCatchpoint:N,upgradeDelay:G,upgradeNextProtocolVoteBefore:fe,upgradeNoVotes:ve,upgradeNodeVote:D,upgradeVoteRounds:Q,upgradeVotes:Y,upgradeVotesRequired:me,upgradeYesVotes:y}){this.catchupTime=oe(e),this.lastRound=oe(t),this.lastVersion=r,this.nextVersion=i,this.nextVersionRound=oe(o),this.nextVersionSupported=h,this.stoppedAtUnsupportedRound=v,this.timeSinceLastRound=oe(V),this.catchpoint=p,this.catchpointAcquiredBlocks=typeof C>"u"?void 0:De(C),this.catchpointProcessedAccounts=typeof J>"u"?void 0:De(J),this.catchpointProcessedKvs=typeof Z>"u"?void 0:De(Z),this.catchpointTotalAccounts=typeof he>"u"?void 0:De(he),this.catchpointTotalBlocks=typeof ne>"u"?void 0:De(ne),this.catchpointTotalKvs=typeof le>"u"?void 0:De(le),this.catchpointVerifiedAccounts=typeof k>"u"?void 0:De(k),this.catchpointVerifiedKvs=typeof P>"u"?void 0:De(P),this.lastCatchpoint=N,this.upgradeDelay=typeof G>"u"?void 0:oe(G),this.upgradeNextProtocolVoteBefore=typeof fe>"u"?void 0:oe(fe),this.upgradeNoVotes=typeof ve>"u"?void 0:De(ve),this.upgradeNodeVote=D,this.upgradeVoteRounds=typeof Q>"u"?void 0:De(Q),this.upgradeVotes=typeof Y>"u"?void 0:De(Y),this.upgradeVotesRequired=typeof me>"u"?void 0:De(me),this.upgradeYesVotes=typeof y>"u"?void 0:De(y)}getEncodingSchema(){return Ri.encodingSchema}toEncodingData(){return new Map([["catchup-time",this.catchupTime],["last-round",this.lastRound],["last-version",this.lastVersion],["next-version",this.nextVersion],["next-version-round",this.nextVersionRound],["next-version-supported",this.nextVersionSupported],["stopped-at-unsupported-round",this.stoppedAtUnsupportedRound],["time-since-last-round",this.timeSinceLastRound],["catchpoint",this.catchpoint],["catchpoint-acquired-blocks",this.catchpointAcquiredBlocks],["catchpoint-processed-accounts",this.catchpointProcessedAccounts],["catchpoint-processed-kvs",this.catchpointProcessedKvs],["catchpoint-total-accounts",this.catchpointTotalAccounts],["catchpoint-total-blocks",this.catchpointTotalBlocks],["catchpoint-total-kvs",this.catchpointTotalKvs],["catchpoint-verified-accounts",this.catchpointVerifiedAccounts],["catchpoint-verified-kvs",this.catchpointVerifiedKvs],["last-catchpoint",this.lastCatchpoint],["upgrade-delay",this.upgradeDelay],["upgrade-next-protocol-vote-before",this.upgradeNextProtocolVoteBefore],["upgrade-no-votes",this.upgradeNoVotes],["upgrade-node-vote",this.upgradeNodeVote],["upgrade-vote-rounds",this.upgradeVoteRounds],["upgrade-votes",this.upgradeVotes],["upgrade-votes-required",this.upgradeVotesRequired],["upgrade-yes-votes",this.upgradeYesVotes]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded NodeStatusResponse: ${e}`);return new Ri({catchupTime:e.get("catchup-time"),lastRound:e.get("last-round"),lastVersion:e.get("last-version"),nextVersion:e.get("next-version"),nextVersionRound:e.get("next-version-round"),nextVersionSupported:e.get("next-version-supported"),stoppedAtUnsupportedRound:e.get("stopped-at-unsupported-round"),timeSinceLastRound:e.get("time-since-last-round"),catchpoint:e.get("catchpoint"),catchpointAcquiredBlocks:e.get("catchpoint-acquired-blocks"),catchpointProcessedAccounts:e.get("catchpoint-processed-accounts"),catchpointProcessedKvs:e.get("catchpoint-processed-kvs"),catchpointTotalAccounts:e.get("catchpoint-total-accounts"),catchpointTotalBlocks:e.get("catchpoint-total-blocks"),catchpointTotalKvs:e.get("catchpoint-total-kvs"),catchpointVerifiedAccounts:e.get("catchpoint-verified-accounts"),catchpointVerifiedKvs:e.get("catchpoint-verified-kvs"),lastCatchpoint:e.get("last-catchpoint"),upgradeDelay:e.get("upgrade-delay"),upgradeNextProtocolVoteBefore:e.get("upgrade-next-protocol-vote-before"),upgradeNoVotes:e.get("upgrade-no-votes"),upgradeNodeVote:e.get("upgrade-node-vote"),upgradeVoteRounds:e.get("upgrade-vote-rounds"),upgradeVotes:e.get("upgrade-votes"),upgradeVotesRequired:e.get("upgrade-votes-required"),upgradeYesVotes:e.get("upgrade-yes-votes")})}}class Ln{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"pool-error",valueSchema:new de,omitEmpty:!0},{key:"txn",valueSchema:Ct.encodingSchema,omitEmpty:!0},{key:"application-index",valueSchema:new f(new b),omitEmpty:!0},{key:"asset-closing-amount",valueSchema:new f(new b),omitEmpty:!0},{key:"asset-index",valueSchema:new f(new b),omitEmpty:!0},{key:"close-rewards",valueSchema:new f(new b),omitEmpty:!0},{key:"closing-amount",valueSchema:new f(new b),omitEmpty:!0},{key:"confirmed-round",valueSchema:new f(new b),omitEmpty:!0},{key:"global-state-delta",valueSchema:new f(new Ee(ii.encodingSchema)),omitEmpty:!0},{key:"inner-txns",valueSchema:new f(new Ee(Ln.encodingSchema)),omitEmpty:!0},{key:"local-state-delta",valueSchema:new f(new Ee(Ho.encodingSchema)),omitEmpty:!0},{key:"logs",valueSchema:new f(new Ee(new Me)),omitEmpty:!0},{key:"receiver-rewards",valueSchema:new f(new b),omitEmpty:!0},{key:"sender-rewards",valueSchema:new f(new b),omitEmpty:!0})),this.encodingSchemaValue}constructor({poolError:e,txn:t,applicationIndex:r,assetClosingAmount:i,assetIndex:o,closeRewards:h,closingAmount:v,confirmedRound:V,globalStateDelta:p,innerTxns:C,localStateDelta:J,logs:Z,receiverRewards:he,senderRewards:ne}){this.poolError=e,this.txn=t,this.applicationIndex=typeof r>"u"?void 0:oe(r),this.assetClosingAmount=typeof i>"u"?void 0:oe(i),this.assetIndex=typeof o>"u"?void 0:oe(o),this.closeRewards=typeof h>"u"?void 0:oe(h),this.closingAmount=typeof v>"u"?void 0:oe(v),this.confirmedRound=typeof V>"u"?void 0:oe(V),this.globalStateDelta=p,this.innerTxns=C,this.localStateDelta=J,this.logs=Z,this.receiverRewards=typeof he>"u"?void 0:oe(he),this.senderRewards=typeof ne>"u"?void 0:oe(ne)}getEncodingSchema(){return Ln.encodingSchema}toEncodingData(){return new Map([["pool-error",this.poolError],["txn",this.txn.toEncodingData()],["application-index",this.applicationIndex],["asset-closing-amount",this.assetClosingAmount],["asset-index",this.assetIndex],["close-rewards",this.closeRewards],["closing-amount",this.closingAmount],["confirmed-round",this.confirmedRound],["global-state-delta",typeof this.globalStateDelta<"u"?this.globalStateDelta.map(e=>e.toEncodingData()):void 0],["inner-txns",typeof this.innerTxns<"u"?this.innerTxns.map(e=>e.toEncodingData()):void 0],["local-state-delta",typeof this.localStateDelta<"u"?this.localStateDelta.map(e=>e.toEncodingData()):void 0],["logs",this.logs],["receiver-rewards",this.receiverRewards],["sender-rewards",this.senderRewards]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded PendingTransactionResponse: ${e}`);return new Ln({poolError:e.get("pool-error"),txn:Ct.fromEncodingData(e.get("txn")??new Map),applicationIndex:e.get("application-index"),assetClosingAmount:e.get("asset-closing-amount"),assetIndex:e.get("asset-index"),closeRewards:e.get("close-rewards"),closingAmount:e.get("closing-amount"),confirmedRound:e.get("confirmed-round"),globalStateDelta:typeof e.get("global-state-delta")<"u"?e.get("global-state-delta").map(t=>ii.fromEncodingData(t)):void 0,innerTxns:typeof e.get("inner-txns")<"u"?e.get("inner-txns").map(t=>Ln.fromEncodingData(t)):void 0,localStateDelta:typeof e.get("local-state-delta")<"u"?e.get("local-state-delta").map(t=>Ho.fromEncodingData(t)):void 0,logs:e.get("logs"),receiverRewards:e.get("receiver-rewards"),senderRewards:e.get("sender-rewards")})}}class Vi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"top-transactions",valueSchema:new Ee(Ct.encodingSchema),omitEmpty:!0},{key:"total-transactions",valueSchema:new b,omitEmpty:!0})),this.encodingSchemaValue}constructor({topTransactions:e,totalTransactions:t}){this.topTransactions=e,this.totalTransactions=De(t)}getEncodingSchema(){return Vi.encodingSchema}toEncodingData(){return new Map([["top-transactions",this.topTransactions.map(e=>e.toEncodingData())],["total-transactions",this.totalTransactions]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded PendingTransactionsResponse: ${e}`);return new Vi({topTransactions:(e.get("top-transactions")??[]).map(t=>Ct.fromEncodingData(t)),totalTransactions:e.get("total-transactions")})}}class ts{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"txId",valueSchema:new de,omitEmpty:!0})),this.encodingSchemaValue}constructor({txid:e}){this.txid=e}getEncodingSchema(){return ts.encodingSchema}toEncodingData(){return new Map([["txId",this.txid]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded PostTransactionsResponse: ${e}`);return new ts({txid:e.get("txId")})}}class _i{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"new-value",valueSchema:vn.encodingSchema,omitEmpty:!0},{key:"slot",valueSchema:new b,omitEmpty:!0})),this.encodingSchemaValue}constructor({newValue:e,slot:t}){this.newValue=e,this.slot=De(t)}getEncodingSchema(){return _i.encodingSchema}toEncodingData(){return new Map([["new-value",this.newValue.toEncodingData()],["slot",this.slot]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ScratchChange: ${e}`);return new _i({newValue:vn.fromEncodingData(e.get("new-value")??new Map),slot:e.get("slot")})}}class Bi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"app-initial-states",valueSchema:new f(new Ee(vi.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({appInitialStates:e}){this.appInitialStates=e}getEncodingSchema(){return Bi.encodingSchema}toEncodingData(){return new Map([["app-initial-states",typeof this.appInitialStates<"u"?this.appInitialStates.map(e=>e.toEncodingData()):void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateInitialStates: ${e}`);return new Bi({appInitialStates:typeof e.get("app-initial-states")<"u"?e.get("app-initial-states").map(t=>vi.fromEncodingData(t)):void 0})}}class Pi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"txn-groups",valueSchema:new Ee(sr.encodingSchema),omitEmpty:!0},{key:"allow-empty-signatures",valueSchema:new f(new ht),omitEmpty:!0},{key:"allow-more-logging",valueSchema:new f(new ht),omitEmpty:!0},{key:"allow-unnamed-resources",valueSchema:new f(new ht),omitEmpty:!0},{key:"exec-trace-config",valueSchema:new f(ar.encodingSchema),omitEmpty:!0},{key:"extra-opcode-budget",valueSchema:new f(new b),omitEmpty:!0},{key:"fix-signers",valueSchema:new f(new ht),omitEmpty:!0},{key:"round",valueSchema:new f(new b),omitEmpty:!0})),this.encodingSchemaValue}constructor({txnGroups:e,allowEmptySignatures:t,allowMoreLogging:r,allowUnnamedResources:i,execTraceConfig:o,extraOpcodeBudget:h,fixSigners:v,round:V}){this.txnGroups=e,this.allowEmptySignatures=t,this.allowMoreLogging=r,this.allowUnnamedResources=i,this.execTraceConfig=o,this.extraOpcodeBudget=typeof h>"u"?void 0:De(h),this.fixSigners=v,this.round=typeof V>"u"?void 0:oe(V)}getEncodingSchema(){return Pi.encodingSchema}toEncodingData(){return new Map([["txn-groups",this.txnGroups.map(e=>e.toEncodingData())],["allow-empty-signatures",this.allowEmptySignatures],["allow-more-logging",this.allowMoreLogging],["allow-unnamed-resources",this.allowUnnamedResources],["exec-trace-config",typeof this.execTraceConfig<"u"?this.execTraceConfig.toEncodingData():void 0],["extra-opcode-budget",this.extraOpcodeBudget],["fix-signers",this.fixSigners],["round",this.round]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateRequest: ${e}`);return new Pi({txnGroups:(e.get("txn-groups")??[]).map(t=>sr.fromEncodingData(t)),allowEmptySignatures:e.get("allow-empty-signatures"),allowMoreLogging:e.get("allow-more-logging"),allowUnnamedResources:e.get("allow-unnamed-resources"),execTraceConfig:typeof e.get("exec-trace-config")<"u"?ar.fromEncodingData(e.get("exec-trace-config")):void 0,extraOpcodeBudget:e.get("extra-opcode-budget"),fixSigners:e.get("fix-signers"),round:e.get("round")})}}class sr{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"txns",valueSchema:new Ee(Ct.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({txns:e}){this.txns=e}getEncodingSchema(){return sr.encodingSchema}toEncodingData(){return new Map([["txns",this.txns.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateRequestTransactionGroup: ${e}`);return new sr({txns:(e.get("txns")??[]).map(t=>Ct.fromEncodingData(t))})}}class ns{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"last-round",valueSchema:new b,omitEmpty:!0},{key:"txn-groups",valueSchema:new Ee(Oi.encodingSchema),omitEmpty:!0},{key:"version",valueSchema:new b,omitEmpty:!0},{key:"eval-overrides",valueSchema:new f(Ni.encodingSchema),omitEmpty:!0},{key:"exec-trace-config",valueSchema:new f(ar.encodingSchema),omitEmpty:!0},{key:"initial-states",valueSchema:new f(Bi.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({lastRound:e,txnGroups:t,version:r,evalOverrides:i,execTraceConfig:o,initialStates:h}){this.lastRound=oe(e),this.txnGroups=t,this.version=De(r),this.evalOverrides=i,this.execTraceConfig=o,this.initialStates=h}getEncodingSchema(){return ns.encodingSchema}toEncodingData(){return new Map([["last-round",this.lastRound],["txn-groups",this.txnGroups.map(e=>e.toEncodingData())],["version",this.version],["eval-overrides",typeof this.evalOverrides<"u"?this.evalOverrides.toEncodingData():void 0],["exec-trace-config",typeof this.execTraceConfig<"u"?this.execTraceConfig.toEncodingData():void 0],["initial-states",typeof this.initialStates<"u"?this.initialStates.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateResponse: ${e}`);return new ns({lastRound:e.get("last-round"),txnGroups:(e.get("txn-groups")??[]).map(t=>Oi.fromEncodingData(t)),version:e.get("version"),evalOverrides:typeof e.get("eval-overrides")<"u"?Ni.fromEncodingData(e.get("eval-overrides")):void 0,execTraceConfig:typeof e.get("exec-trace-config")<"u"?ar.fromEncodingData(e.get("exec-trace-config")):void 0,initialStates:typeof e.get("initial-states")<"u"?Bi.fromEncodingData(e.get("initial-states")):void 0})}}class ar{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"enable",valueSchema:new f(new ht),omitEmpty:!0},{key:"scratch-change",valueSchema:new f(new ht),omitEmpty:!0},{key:"stack-change",valueSchema:new f(new ht),omitEmpty:!0},{key:"state-change",valueSchema:new f(new ht),omitEmpty:!0})),this.encodingSchemaValue}constructor({enable:e,scratchChange:t,stackChange:r,stateChange:i}){this.enable=e,this.scratchChange=t,this.stackChange=r,this.stateChange=i}getEncodingSchema(){return ar.encodingSchema}toEncodingData(){return new Map([["enable",this.enable],["scratch-change",this.scratchChange],["stack-change",this.stackChange],["state-change",this.stateChange]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateTraceConfig: ${e}`);return new ar({enable:e.get("enable"),scratchChange:e.get("scratch-change"),stackChange:e.get("stack-change"),stateChange:e.get("state-change")})}}class Oi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"txn-results",valueSchema:new Ee(Ci.encodingSchema),omitEmpty:!0},{key:"app-budget-added",valueSchema:new f(new b),omitEmpty:!0},{key:"app-budget-consumed",valueSchema:new f(new b),omitEmpty:!0},{key:"failed-at",valueSchema:new f(new Ee(new b)),omitEmpty:!0},{key:"failure-message",valueSchema:new f(new de),omitEmpty:!0},{key:"unnamed-resources-accessed",valueSchema:new f(cr.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({txnResults:e,appBudgetAdded:t,appBudgetConsumed:r,failedAt:i,failureMessage:o,unnamedResourcesAccessed:h}){this.txnResults=e,this.appBudgetAdded=typeof t>"u"?void 0:De(t),this.appBudgetConsumed=typeof r>"u"?void 0:De(r),this.failedAt=typeof i>"u"?void 0:i.map(De),this.failureMessage=o,this.unnamedResourcesAccessed=h}getEncodingSchema(){return Oi.encodingSchema}toEncodingData(){return new Map([["txn-results",this.txnResults.map(e=>e.toEncodingData())],["app-budget-added",this.appBudgetAdded],["app-budget-consumed",this.appBudgetConsumed],["failed-at",this.failedAt],["failure-message",this.failureMessage],["unnamed-resources-accessed",typeof this.unnamedResourcesAccessed<"u"?this.unnamedResourcesAccessed.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateTransactionGroupResult: ${e}`);return new Oi({txnResults:(e.get("txn-results")??[]).map(t=>Ci.fromEncodingData(t)),appBudgetAdded:e.get("app-budget-added"),appBudgetConsumed:e.get("app-budget-consumed"),failedAt:e.get("failed-at"),failureMessage:e.get("failure-message"),unnamedResourcesAccessed:typeof e.get("unnamed-resources-accessed")<"u"?cr.fromEncodingData(e.get("unnamed-resources-accessed")):void 0})}}class Ci{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"txn-result",valueSchema:Ln.encodingSchema,omitEmpty:!0},{key:"app-budget-consumed",valueSchema:new f(new b),omitEmpty:!0},{key:"exec-trace",valueSchema:new f(Qn.encodingSchema),omitEmpty:!0},{key:"fixed-signer",valueSchema:new f(new de),omitEmpty:!0},{key:"logic-sig-budget-consumed",valueSchema:new f(new b),omitEmpty:!0},{key:"unnamed-resources-accessed",valueSchema:new f(cr.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({txnResult:e,appBudgetConsumed:t,execTrace:r,fixedSigner:i,logicSigBudgetConsumed:o,unnamedResourcesAccessed:h}){this.txnResult=e,this.appBudgetConsumed=typeof t>"u"?void 0:De(t),this.execTrace=r,this.fixedSigner=typeof i=="string"?rt.fromString(i):i,this.logicSigBudgetConsumed=typeof o>"u"?void 0:De(o),this.unnamedResourcesAccessed=h}getEncodingSchema(){return Ci.encodingSchema}toEncodingData(){return new Map([["txn-result",this.txnResult.toEncodingData()],["app-budget-consumed",this.appBudgetConsumed],["exec-trace",typeof this.execTrace<"u"?this.execTrace.toEncodingData():void 0],["fixed-signer",typeof this.fixedSigner<"u"?this.fixedSigner.toString():void 0],["logic-sig-budget-consumed",this.logicSigBudgetConsumed],["unnamed-resources-accessed",typeof this.unnamedResourcesAccessed<"u"?this.unnamedResourcesAccessed.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateTransactionResult: ${e}`);return new Ci({txnResult:Ln.fromEncodingData(e.get("txn-result")??new Map),appBudgetConsumed:e.get("app-budget-consumed"),execTrace:typeof e.get("exec-trace")<"u"?Qn.fromEncodingData(e.get("exec-trace")):void 0,fixedSigner:e.get("fixed-signer"),logicSigBudgetConsumed:e.get("logic-sig-budget-consumed"),unnamedResourcesAccessed:typeof e.get("unnamed-resources-accessed")<"u"?cr.fromEncodingData(e.get("unnamed-resources-accessed")):void 0})}}class cr{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"accounts",valueSchema:new f(new Ee(new de)),omitEmpty:!0},{key:"app-locals",valueSchema:new f(new Ee(Si.encodingSchema)),omitEmpty:!0},{key:"apps",valueSchema:new f(new Ee(new b)),omitEmpty:!0},{key:"asset-holdings",valueSchema:new f(new Ee(bi.encodingSchema)),omitEmpty:!0},{key:"assets",valueSchema:new f(new Ee(new b)),omitEmpty:!0},{key:"boxes",valueSchema:new f(new Ee(oc.encodingSchema)),omitEmpty:!0},{key:"extra-box-refs",valueSchema:new f(new b),omitEmpty:!0})),this.encodingSchemaValue}constructor({accounts:e,appLocals:t,apps:r,assetHoldings:i,assets:o,boxes:h,extraBoxRefs:v}){this.accounts=typeof e<"u"?e.map(V=>typeof V=="string"?rt.fromString(V):V):void 0,this.appLocals=t,this.apps=typeof r>"u"?void 0:r.map(oe),this.assetHoldings=i,this.assets=typeof o>"u"?void 0:o.map(oe),this.boxes=h,this.extraBoxRefs=typeof v>"u"?void 0:De(v)}getEncodingSchema(){return cr.encodingSchema}toEncodingData(){return new Map([["accounts",typeof this.accounts<"u"?this.accounts.map(e=>e.toString()):void 0],["app-locals",typeof this.appLocals<"u"?this.appLocals.map(e=>e.toEncodingData()):void 0],["apps",this.apps],["asset-holdings",typeof this.assetHoldings<"u"?this.assetHoldings.map(e=>e.toEncodingData()):void 0],["assets",this.assets],["boxes",typeof this.boxes<"u"?this.boxes.map(e=>e.toEncodingData()):void 0],["extra-box-refs",this.extraBoxRefs]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateUnnamedResourcesAccessed: ${e}`);return new cr({accounts:e.get("accounts"),appLocals:typeof e.get("app-locals")<"u"?e.get("app-locals").map(t=>Si.fromEncodingData(t)):void 0,apps:e.get("apps"),assetHoldings:typeof e.get("asset-holdings")<"u"?e.get("asset-holdings").map(t=>bi.fromEncodingData(t)):void 0,assets:e.get("assets"),boxes:typeof e.get("boxes")<"u"?e.get("boxes").map(t=>oc.fromEncodingData(t)):void 0,extraBoxRefs:e.get("extra-box-refs")})}}class Ni{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"allow-empty-signatures",valueSchema:new f(new ht),omitEmpty:!0},{key:"allow-unnamed-resources",valueSchema:new f(new ht),omitEmpty:!0},{key:"extra-opcode-budget",valueSchema:new f(new b),omitEmpty:!0},{key:"fix-signers",valueSchema:new f(new ht),omitEmpty:!0},{key:"max-log-calls",valueSchema:new f(new b),omitEmpty:!0},{key:"max-log-size",valueSchema:new f(new b),omitEmpty:!0})),this.encodingSchemaValue}constructor({allowEmptySignatures:e,allowUnnamedResources:t,extraOpcodeBudget:r,fixSigners:i,maxLogCalls:o,maxLogSize:h}){this.allowEmptySignatures=e,this.allowUnnamedResources=t,this.extraOpcodeBudget=typeof r>"u"?void 0:De(r),this.fixSigners=i,this.maxLogCalls=typeof o>"u"?void 0:De(o),this.maxLogSize=typeof h>"u"?void 0:De(h)}getEncodingSchema(){return Ni.encodingSchema}toEncodingData(){return new Map([["allow-empty-signatures",this.allowEmptySignatures],["allow-unnamed-resources",this.allowUnnamedResources],["extra-opcode-budget",this.extraOpcodeBudget],["fix-signers",this.fixSigners],["max-log-calls",this.maxLogCalls],["max-log-size",this.maxLogSize]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulationEvalOverrides: ${e}`);return new Ni({allowEmptySignatures:e.get("allow-empty-signatures"),allowUnnamedResources:e.get("allow-unnamed-resources"),extraOpcodeBudget:e.get("extra-opcode-budget"),fixSigners:e.get("fix-signers"),maxLogCalls:e.get("max-log-calls"),maxLogSize:e.get("max-log-size")})}}class Vn{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"pc",valueSchema:new b,omitEmpty:!0},{key:"scratch-changes",valueSchema:new f(new Ee(_i.encodingSchema)),omitEmpty:!0},{key:"spawned-inners",valueSchema:new f(new Ee(new b)),omitEmpty:!0},{key:"stack-additions",valueSchema:new f(new Ee(vn.encodingSchema)),omitEmpty:!0},{key:"stack-pop-count",valueSchema:new f(new b),omitEmpty:!0},{key:"state-changes",valueSchema:new f(new Ee(xi.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({pc:e,scratchChanges:t,spawnedInners:r,stackAdditions:i,stackPopCount:o,stateChanges:h}){this.pc=De(e),this.scratchChanges=t,this.spawnedInners=typeof r>"u"?void 0:r.map(De),this.stackAdditions=i,this.stackPopCount=typeof o>"u"?void 0:De(o),this.stateChanges=h}getEncodingSchema(){return Vn.encodingSchema}toEncodingData(){return new Map([["pc",this.pc],["scratch-changes",typeof this.scratchChanges<"u"?this.scratchChanges.map(e=>e.toEncodingData()):void 0],["spawned-inners",this.spawnedInners],["stack-additions",typeof this.stackAdditions<"u"?this.stackAdditions.map(e=>e.toEncodingData()):void 0],["stack-pop-count",this.stackPopCount],["state-changes",typeof this.stateChanges<"u"?this.stateChanges.map(e=>e.toEncodingData()):void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulationOpcodeTraceUnit: ${e}`);return new Vn({pc:e.get("pc"),scratchChanges:typeof e.get("scratch-changes")<"u"?e.get("scratch-changes").map(t=>_i.fromEncodingData(t)):void 0,spawnedInners:e.get("spawned-inners"),stackAdditions:typeof e.get("stack-additions")<"u"?e.get("stack-additions").map(t=>vn.fromEncodingData(t)):void 0,stackPopCount:e.get("stack-pop-count"),stateChanges:typeof e.get("state-changes")<"u"?e.get("state-changes").map(t=>xi.fromEncodingData(t)):void 0})}}class Qn{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"approval-program-hash",valueSchema:new f(new Me),omitEmpty:!0},{key:"approval-program-trace",valueSchema:new f(new Ee(Vn.encodingSchema)),omitEmpty:!0},{key:"clear-state-program-hash",valueSchema:new f(new Me),omitEmpty:!0},{key:"clear-state-program-trace",valueSchema:new f(new Ee(Vn.encodingSchema)),omitEmpty:!0},{key:"clear-state-rollback",valueSchema:new f(new ht),omitEmpty:!0},{key:"clear-state-rollback-error",valueSchema:new f(new de),omitEmpty:!0},{key:"inner-trace",valueSchema:new f(new Ee(Qn.encodingSchema)),omitEmpty:!0},{key:"logic-sig-hash",valueSchema:new f(new Me),omitEmpty:!0},{key:"logic-sig-trace",valueSchema:new f(new Ee(Vn.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({approvalProgramHash:e,approvalProgramTrace:t,clearStateProgramHash:r,clearStateProgramTrace:i,clearStateRollback:o,clearStateRollbackError:h,innerTrace:v,logicSigHash:V,logicSigTrace:p}){this.approvalProgramHash=typeof e=="string"?_e(e):e,this.approvalProgramTrace=t,this.clearStateProgramHash=typeof r=="string"?_e(r):r,this.clearStateProgramTrace=i,this.clearStateRollback=o,this.clearStateRollbackError=h,this.innerTrace=v,this.logicSigHash=typeof V=="string"?_e(V):V,this.logicSigTrace=p}getEncodingSchema(){return Qn.encodingSchema}toEncodingData(){return new Map([["approval-program-hash",this.approvalProgramHash],["approval-program-trace",typeof this.approvalProgramTrace<"u"?this.approvalProgramTrace.map(e=>e.toEncodingData()):void 0],["clear-state-program-hash",this.clearStateProgramHash],["clear-state-program-trace",typeof this.clearStateProgramTrace<"u"?this.clearStateProgramTrace.map(e=>e.toEncodingData()):void 0],["clear-state-rollback",this.clearStateRollback],["clear-state-rollback-error",this.clearStateRollbackError],["inner-trace",typeof this.innerTrace<"u"?this.innerTrace.map(e=>e.toEncodingData()):void 0],["logic-sig-hash",this.logicSigHash],["logic-sig-trace",typeof this.logicSigTrace<"u"?this.logicSigTrace.map(e=>e.toEncodingData()):void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulationTransactionExecTrace: ${e}`);return new Qn({approvalProgramHash:e.get("approval-program-hash"),approvalProgramTrace:typeof e.get("approval-program-trace")<"u"?e.get("approval-program-trace").map(t=>Vn.fromEncodingData(t)):void 0,clearStateProgramHash:e.get("clear-state-program-hash"),clearStateProgramTrace:typeof e.get("clear-state-program-trace")<"u"?e.get("clear-state-program-trace").map(t=>Vn.fromEncodingData(t)):void 0,clearStateRollback:e.get("clear-state-rollback"),clearStateRollbackError:e.get("clear-state-rollback-error"),innerTrace:typeof e.get("inner-trace")<"u"?e.get("inner-trace").map(t=>Qn.fromEncodingData(t)):void 0,logicSigHash:e.get("logic-sig-hash"),logicSigTrace:typeof e.get("logic-sig-trace")<"u"?e.get("logic-sig-trace").map(t=>Vn.fromEncodingData(t)):void 0})}}let Du=class gc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"Message",valueSchema:Ui.encodingSchema,omitEmpty:!0},{key:"StateProof",valueSchema:new Me,omitEmpty:!0})),this.encodingSchemaValue}constructor({message:e,stateproof:t}){this.message=e,this.stateproof=typeof t=="string"?_e(t):t}getEncodingSchema(){return gc.encodingSchema}toEncodingData(){return new Map([["Message",this.message.toEncodingData()],["StateProof",this.stateproof]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProof: ${e}`);return new gc({message:Ui.fromEncodingData(e.get("Message")??new Map),stateproof:e.get("StateProof")})}};class Ui{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"BlockHeadersCommitment",valueSchema:new Me,omitEmpty:!0},{key:"FirstAttestedRound",valueSchema:new b,omitEmpty:!0},{key:"LastAttestedRound",valueSchema:new b,omitEmpty:!0},{key:"LnProvenWeight",valueSchema:new b,omitEmpty:!0},{key:"VotersCommitment",valueSchema:new Me,omitEmpty:!0})),this.encodingSchemaValue}constructor({blockheaderscommitment:e,firstattestedround:t,lastattestedround:r,lnprovenweight:i,voterscommitment:o}){this.blockheaderscommitment=typeof e=="string"?_e(e):e,this.firstattestedround=oe(t),this.lastattestedround=oe(r),this.lnprovenweight=oe(i),this.voterscommitment=typeof o=="string"?_e(o):o}getEncodingSchema(){return Ui.encodingSchema}toEncodingData(){return new Map([["BlockHeadersCommitment",this.blockheaderscommitment],["FirstAttestedRound",this.firstattestedround],["LastAttestedRound",this.lastattestedround],["LnProvenWeight",this.lnprovenweight],["VotersCommitment",this.voterscommitment]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofMessage: ${e}`);return new Ui({blockheaderscommitment:e.get("BlockHeadersCommitment"),firstattestedround:e.get("FirstAttestedRound"),lastattestedround:e.get("LastAttestedRound"),lnprovenweight:e.get("LnProvenWeight"),voterscommitment:e.get("VotersCommitment")})}}class rs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"current_round",valueSchema:new b,omitEmpty:!0},{key:"online-money",valueSchema:new b,omitEmpty:!0},{key:"total-money",valueSchema:new b,omitEmpty:!0})),this.encodingSchemaValue}constructor({currentRound:e,onlineMoney:t,totalMoney:r}){this.currentRound=oe(e),this.onlineMoney=oe(t),this.totalMoney=oe(r)}getEncodingSchema(){return rs.encodingSchema}toEncodingData(){return new Map([["current_round",this.currentRound],["online-money",this.onlineMoney],["total-money",this.totalMoney]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SupplyResponse: ${e}`);return new rs({currentRound:e.get("current_round"),onlineMoney:e.get("online-money"),totalMoney:e.get("total-money")})}}let is=class mc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new Me,omitEmpty:!0},{key:"value",valueSchema:Sr.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:e,value:t}){this.key=typeof e=="string"?_e(e):e,this.value=t}getEncodingSchema(){return mc.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TealKeyValue: ${e}`);return new mc({key:e.get("key"),value:Sr.fromEncodingData(e.get("value")??new Map)})}},Sr=class pc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"bytes",valueSchema:new Me,omitEmpty:!0},{key:"type",valueSchema:new b,omitEmpty:!0},{key:"uint",valueSchema:new b,omitEmpty:!0})),this.encodingSchemaValue}constructor({bytes:e,type:t,uint:r}){this.bytes=typeof e=="string"?_e(e):e,this.type=De(t),this.uint=oe(r)}getEncodingSchema(){return pc.encodingSchema}toEncodingData(){return new Map([["bytes",this.bytes],["type",this.type],["uint",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TealValue: ${e}`);return new pc({bytes:e.get("bytes"),type:e.get("type"),uint:e.get("uint")})}};class os{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"Deltas",valueSchema:new Ee(Ti.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({deltas:e}){this.deltas=e}getEncodingSchema(){return os.encodingSchema}toEncodingData(){return new Map([["Deltas",this.deltas.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionGroupLedgerStateDeltasForRoundResponse: ${e}`);return new os({deltas:(e.get("Deltas")??[]).map(t=>Ti.fromEncodingData(t))})}}class ss{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"consensus-version",valueSchema:new de,omitEmpty:!0},{key:"fee",valueSchema:new b,omitEmpty:!0},{key:"genesis-hash",valueSchema:new Me,omitEmpty:!0},{key:"genesis-id",valueSchema:new de,omitEmpty:!0},{key:"last-round",valueSchema:new b,omitEmpty:!0},{key:"min-fee",valueSchema:new b,omitEmpty:!0})),this.encodingSchemaValue}constructor({consensusVersion:e,fee:t,genesisHash:r,genesisId:i,lastRound:o,minFee:h}){this.consensusVersion=e,this.fee=oe(t),this.genesisHash=typeof r=="string"?_e(r):r,this.genesisId=i,this.lastRound=oe(o),this.minFee=oe(h)}getEncodingSchema(){return ss.encodingSchema}toEncodingData(){return new Map([["consensus-version",this.consensusVersion],["fee",this.fee],["genesis-hash",this.genesisHash],["genesis-id",this.genesisId],["last-round",this.lastRound],["min-fee",this.minFee]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionParametersResponse: ${e}`);return new ss({consensusVersion:e.get("consensus-version"),fee:e.get("fee"),genesisHash:e.get("genesis-hash"),genesisId:e.get("genesis-id"),lastRound:e.get("last-round"),minFee:e.get("min-fee")})}}class as{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"idx",valueSchema:new b,omitEmpty:!0},{key:"proof",valueSchema:new Me,omitEmpty:!0},{key:"stibhash",valueSchema:new Me,omitEmpty:!0},{key:"treedepth",valueSchema:new b,omitEmpty:!0},{key:"hashtype",valueSchema:new f(new de),omitEmpty:!0})),this.encodingSchemaValue}constructor({idx:e,proof:t,stibhash:r,treedepth:i,hashtype:o}){this.idx=De(e),this.proof=typeof t=="string"?_e(t):t,this.stibhash=typeof r=="string"?_e(r):r,this.treedepth=De(i),this.hashtype=o}getEncodingSchema(){return as.encodingSchema}toEncodingData(){return new Map([["idx",this.idx],["proof",this.proof],["stibhash",this.stibhash],["treedepth",this.treedepth],["hashtype",this.hashtype]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionProof: ${e}`);return new as({idx:e.get("idx"),proof:e.get("proof"),stibhash:e.get("stibhash"),treedepth:e.get("treedepth"),hashtype:e.get("hashtype")})}}class cs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"build",valueSchema:Mi.encodingSchema,omitEmpty:!0},{key:"genesis_hash_b64",valueSchema:new Me,omitEmpty:!0},{key:"genesis_id",valueSchema:new de,omitEmpty:!0},{key:"versions",valueSchema:new Ee(new de),omitEmpty:!0})),this.encodingSchemaValue}constructor({build:e,genesisHashB64:t,genesisId:r,versions:i}){this.build=e,this.genesisHashB64=typeof t=="string"?_e(t):t,this.genesisId=r,this.versions=i}getEncodingSchema(){return cs.encodingSchema}toEncodingData(){return new Map([["build",this.build.toEncodingData()],["genesis_hash_b64",this.genesisHashB64],["genesis_id",this.genesisId],["versions",this.versions]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Version: ${e}`);return new cs({build:Mi.fromEncodingData(e.get("build")??new Map),genesisHashB64:e.get("genesis_hash_b64"),genesisId:e.get("genesis_id"),versions:e.get("versions")})}}const sm=Object.freeze(Object.defineProperty({__proto__:null,Account:Os,AccountApplicationResponse:qo,AccountAssetHolding:yi,AccountAssetResponse:zo,AccountAssetsInformationResponse:Cs,AccountParticipation:Ka,AccountStateDelta:Ho,AppCallLogs:wi,Application:ti,ApplicationInitialStates:vi,ApplicationKVStorage:Rn,ApplicationLocalReference:Si,ApplicationLocalState:Go,ApplicationParams:Ei,ApplicationStateOperation:xi,ApplicationStateSchema:kn,Asset:Ns,AssetHolding:ni,AssetHoldingReference:bi,AssetParams:ri,AvmKeyValue:ki,AvmValue:vn,BlockHashResponse:Ko,BlockLogsResponse:Us,BlockResponse:Wo,BlockTxidsResponse:jo,Box:ku,BoxDescriptor:rc,BoxReference:oc,BoxesResponse:Mu,BuildVersion:Mi,CompileResponse:Jo,DisassembleResponse:Yo,DryrunRequest:Xo,DryrunResponse:Zo,DryrunSource:Ai,DryrunState:Zn,DryrunTxnResult:Di,ErrorResponse:im,EvalDelta:hc,EvalDeltaKeyValue:ii,Genesis:om,GenesisAllocation:Ii,GetBlockTimeStampOffsetResponse:Qo,GetSyncRoundResponse:es,LedgerStateDeltaForTransactionGroup:Ti,LightBlockHeaderProof:Au,NodeStatusResponse:Ri,PendingTransactionResponse:Ln,PendingTransactionsResponse:Vi,PostTransactionsResponse:ts,ScratchChange:_i,SimulateInitialStates:Bi,SimulateRequest:Pi,SimulateRequestTransactionGroup:sr,SimulateResponse:ns,SimulateTraceConfig:ar,SimulateTransactionGroupResult:Oi,SimulateTransactionResult:Ci,SimulateUnnamedResourcesAccessed:cr,SimulationEvalOverrides:Ni,SimulationOpcodeTraceUnit:Vn,SimulationTransactionExecTrace:Qn,StateProof:Du,StateProofMessage:Ui,SupplyResponse:rs,TealKeyValue:is,TealValue:Sr,TransactionGroupLedgerStateDeltasForRoundResponse:os,TransactionParametersResponse:ss,TransactionProof:as,Version:cs},Symbol.toStringTag,{value:"Module"}));class Ye{constructor(e){this.c=e,this.query={}}executeRequest(e,t){return this.c.get({relativePath:this.path(),query:this.query,requestHeaders:e,customOptions:t})}async do(e,t){const r=await this.executeRequest(e,t);return this.prepare(r)}async doRaw(e,t){return(await this.executeRequest(e,t)).body}}class am extends Ye{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}`}exclude(e){return this.query.exclude=e,this}prepare(e){return ft(e.getJSONText(),Os)}}class cm extends Ye{constructor(e,t,r){super(e),this.account=t.toString(),this.assetID=BigInt(r)}path(){return`/v2/accounts/${this.account}/assets/${this.assetID}`}prepare(e){return ft(e.getJSONText(),zo)}}class hm extends Ye{constructor(e,t,r){super(e),this.account=t.toString(),this.applicationID=BigInt(r)}path(){return`/v2/accounts/${this.account}/applications/${this.applicationID}`}prepare(e){return ft(e.getJSONText(),qo)}}let um=class extends Ye{constructor(e,t){super(e),this.round=BigInt(t),this.query={format:"msgpack"}}path(){return`/v2/blocks/${this.round}`}headerOnly(e){return this.query["header-only"]=e,this}prepare(e){return Ht(e.body,Wo)}};function Iu(n={}){let e=n;return Object.keys(e).every(t=>t.toLowerCase()!=="content-type")&&(e={...n},e["Content-Type"]="text/plain"),e}class lm extends Ye{constructor(e,t){super(e),this.source=t}path(){return"/v2/teal/compile"}sourcemap(e=!0){return this.query.sourcemap=e,this}executeRequest(e,t){const r=Iu(e);return this.c.post({relativePath:this.path(),data:Pn(this.source),query:this.query,requestHeaders:r,customOptions:t})}prepare(e){return ft(e.getJSONText(),Jo)}}class dm extends Ye{constructor(e,t){super(e),this.blob=Sn(t)}path(){return"/v2/teal/dryrun"}executeRequest(e,t){const r=Iu(e);return this.c.post({relativePath:this.path(),data:this.blob,requestHeaders:r,customOptions:t})}prepare(e){return ft(e.getJSONText(),Zo)}}class fm extends Ye{path(){return"/genesis"}prepare(e){return e.getJSONText()}}class gm extends Ye{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/assets/${this.index}`}prepare(e){return ft(e.getJSONText(),Ns)}}class mm extends Ye{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/applications/${this.index}`}prepare(e){return ft(e.getJSONText(),ti)}}class pm extends Ye{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/blocks/${this.round}/hash`}prepare(e){return ft(e.getJSONText(),Ko)}}class ym extends Ye{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/blocks/${this.round}/txids`}prepare(e){return ft(e.getJSONText(),jo)}}class wm extends Ye{constructor(e,t,r){super(e),this.index=BigInt(t);const i=nn(r);this.query.name=encodeURI(`b64:${i}`)}path(){return`/v2/applications/${this.index}/box`}prepare(e){return ft(e.getJSONText(),ku)}}class vm extends Ye{constructor(e,t){super(e),this.index=BigInt(t),this.query.max=0}path(){return`/v2/applications/${this.index}/boxes`}max(e){return this.query.max=e,this}prepare(e){return ft(e.getJSONText(),Mu)}}let Sm=class extends Ye{path(){return"/health"}prepare(e){}};class Em extends Ye{constructor(e,t){super(e),this.txid=t,this.query.format="msgpack"}prepare(e){return Ht(e.body,Ln)}path(){return`/v2/transactions/pending/${this.txid}`}max(e){return this.query.max=e,this}}class xm extends Ye{constructor(e){super(e),this.query.format="msgpack"}path(){return"/v2/transactions/pending"}prepare(e){return Ht(e.body,Vi)}max(e){return this.query.max=e,this}}class bm extends Ye{constructor(e,t){super(e),this.address=t.toString(),this.query.format="msgpack"}prepare(e){return Ht(e.body,Vi)}path(){return`/v2/accounts/${this.address}/transactions/pending`}max(e){return this.query.max=e,this}}class km extends Ye{constructor(e,t,r){super(e),this.txID=r,this.round=BigInt(t)}path(){return`/v2/blocks/${this.round}/transactions/${this.txID}/proof`}hashType(e){return this.query.hashtype=e,this}prepare(e){return ft(e.getJSONText(),as)}}function Mm(n={}){let e=n;return Object.keys(e).every(t=>t.toLowerCase()!=="content-type")&&(e={...n},e["Content-Type"]="application/x-binary"),e}function uh(n){return n&&n.byteLength!==void 0}class Am extends Ye{constructor(e,t){super(e);let r=t;if(Array.isArray(t)){if(!t.every(uh))throw new TypeError("Array elements must be byte arrays");r=en(...t)}else if(!uh(r))throw new TypeError("Argument must be byte array");this.txnBytesToPost=r}path(){return"/v2/transactions"}executeRequest(e,t){const r=Mm(e);return this.c.post({relativePath:this.path(),data:this.txnBytesToPost,requestHeaders:r,customOptions:t})}prepare(e){return ft(e.getJSONText(),ts)}}class Dm extends Ye{path(){return"/v2/status"}prepare(e){return ft(e.getJSONText(),Ri)}}class Im extends Ye{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/status/wait-for-block-after/${this.round}`}prepare(e){return ft(e.getJSONText(),Ri)}}class Tm extends Ye{path(){return"/v2/transactions/params"}prepare(e){const t=ft(e.getJSONText(),ss);return{flatFee:!1,fee:t.fee,firstValid:t.lastRound,lastValid:t.lastRound+BigInt(1e3),genesisID:t.genesisId,genesisHash:t.genesisHash,minFee:t.minFee,consensusVersion:t.consensusVersion}}}class Rm extends Ye{path(){return"/v2/ledger/supply"}prepare(e){return ft(e.getJSONText(),rs)}}class Vm extends Ye{path(){return"/versions"}prepare(e){return ft(e.getJSONText(),cs)}}class _m extends Ye{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/blocks/${this.round}/lightheader/proof`}prepare(e){return ft(e.getJSONText(),Au)}}class Bm extends Ye{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/stateproofs/${this.round}`}prepare(e){return ft(e.getJSONText(),Du)}}class Pm extends Ye{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/ledger/sync/${this.round}`}executeRequest(e,t){return this.c.post({relativePath:this.path(),data:null,requestHeaders:e,customOptions:t})}prepare(e){}}class Om extends Ye{path(){return"/v2/ledger/sync"}prepare(e){return ft(e.getJSONText(),es)}}class Cm extends Ye{constructor(e,t){super(e),this.offset=BigInt(t)}path(){return`/v2/devmode/blocks/offset/${this.offset}`}executeRequest(e,t){return this.c.post({relativePath:this.path(),data:null,requestHeaders:e,customOptions:t})}prepare(e){}}class Nm extends Ye{path(){return"/v2/devmode/blocks/offset"}prepare(e){return ft(e.getJSONText(),Qo)}}function Um(n={}){let e=n;return Object.keys(e).every(t=>t.toLowerCase()!=="content-type")&&(e={...n},e["Content-Type"]="text/plain"),e}class $m extends Ye{constructor(e,t){super(e),this.source=t}path(){return"/v2/teal/disassemble"}executeRequest(e,t){const r=Um(e);return this.c.post({relativePath:this.path(),data:Pn(this.source),query:this.query,requestHeaders:r,customOptions:t})}prepare(e){return ft(e.getJSONText(),Yo)}}function Lm(n={}){let e=n;return Object.keys(e).every(t=>t.toLowerCase()!=="content-type")&&(e={...n},e["Content-Type"]="application/msgpack"),e}class Fm extends Ye{constructor(e,t){super(e),this.query.format="msgpack",this.requestBytes=Sn(t)}path(){return"/v2/transactions/simulate"}executeRequest(e,t){const r=Lm(e);return this.c.post({relativePath:this.path(),data:this.requestBytes,query:this.query,requestHeaders:r,customOptions:t})}prepare(e){return Ht(e.body,ns)}}class qm extends Ye{path(){return"/ready"}prepare(e){}}class zm extends Ye{path(){return"/v2/ledger/sync"}executeRequest(e,t){return this.c.delete({relativePath:this.path(),data:void 0,requestHeaders:e,customOptions:t})}prepare(e){}}class Hm extends Ye{constructor(e,t){super(e),this.id=t,this.query={format:"msgpack"}}path(){return`/v2/deltas/txn/group/${this.id}`}prepare(e){return Ht(e.body,Gn)}}class Gm extends Ye{constructor(e,t){super(e),this.round=BigInt(t),this.query={format:"msgpack"}}path(){return`/v2/deltas/${this.round}`}prepare(e){return Ht(e.body,Gn)}}class Km extends Ye{constructor(e,t){super(e),this.round=BigInt(t),this.query={format:"msgpack"}}path(){return`/v2/deltas/${this.round}/txn/group`}prepare(e){return Ht(e.body,os)}}class Wm extends Rc{constructor(e,t,r,i={}){super("X-Algo-API-Token",e,t,r,i)}healthCheck(){return new Sm(this.c)}versionsCheck(){return new Vm(this.c)}sendRawTransaction(e){return new Am(this.c,e)}accountInformation(e){return new am(this.c,e)}accountAssetInformation(e,t){return new cm(this.c,e,t)}accountApplicationInformation(e,t){return new hm(this.c,e,t)}block(e){return new um(this.c,e)}getBlockHash(e){return new pm(this.c,e)}getBlockTxids(e){return new ym(this.c,e)}pendingTransactionInformation(e){return new Em(this.c,e)}pendingTransactionsInformation(){return new xm(this.c)}pendingTransactionByAddress(e){return new bm(this.c,e)}status(){return new Dm(this.c)}statusAfterBlock(e){return new Im(this.c,e)}getTransactionParams(){return new Tm(this.c)}supply(){return new Rm(this.c)}compile(e){return new lm(this.c,e)}disassemble(e){return new $m(this.c,e)}dryrun(e){return new dm(this.c,e)}getAssetByID(e){return new gm(this.c,e)}getApplicationByID(e){return new mm(this.c,e)}getApplicationBoxByName(e,t){return new wm(this.c,e,t)}getApplicationBoxes(e){return new vm(this.c,e)}genesis(){return new fm(this.c)}getTransactionProof(e,t){return new km(this.c,e,t)}getLightBlockHeaderProof(e){return new _m(this.c,e)}getStateProof(e){return new Bm(this.c,e)}simulateRawTransactions(e){const t=[];if(Array.isArray(e))for(const i of e)t.push(Ht(i,Ct));else t.push(Ht(e,Ct));const r=new Pi({txnGroups:[new sr({txns:t})]});return this.simulateTransactions(r)}simulateTransactions(e){return new Fm(this.c,e)}setBlockOffsetTimestamp(e){return new Cm(this.c,e)}getBlockOffsetTimestamp(){return new Nm(this.c)}setSyncRound(e){return new Pm(this.c,e)}unsetSyncRound(){return new zm(this.c)}getSyncRound(){return new Om(this.c)}ready(){return new qm(this.c)}getLedgerStateDeltaForTransactionGroup(e){return new Hm(this.c,e)}getLedgerStateDelta(e){return new Gm(this.c,e)}getTransactionGroupLedgerStateDeltasForRound(e){return new Km(this.c,e)}}class jm extends Rc{constructor(e,t="http://127.0.0.1",r=7833,i={}){super("X-KMD-API-Token",e,t,r,i)}async get(e){return(await this.c.get({relativePath:e})).parseBodyAsJSON({intDecoding:Qt.SAFE})}async delete(e,t){return(await this.c.delete({relativePath:e,data:t})).parseBodyAsJSON({intDecoding:Qt.SAFE})}async post(e,t){return(await this.c.post({relativePath:e,data:t})).parseBodyAsJSON({intDecoding:Qt.SAFE})}async versions(){return this.get("/versions")}async listWallets(){return this.get("/v1/wallets")}async createWallet(e,t,r=new Uint8Array,i="sqlite"){const o={wallet_name:e,wallet_driver_name:i,wallet_password:t,master_derivation_key:nn(r)};return this.post("/v1/wallet",o)}async initWalletHandle(e,t){const r={wallet_id:e,wallet_password:t};return this.post("/v1/wallet/init",r)}async releaseWalletHandle(e){const t={wallet_handle_token:e};return this.post("/v1/wallet/release",t)}async renewWalletHandle(e){const t={wallet_handle_token:e};return this.post("/v1/wallet/renew",t)}async renameWallet(e,t,r){const i={wallet_id:e,wallet_password:t,wallet_name:r};return this.post("/v1/wallet/rename",i)}async getWallet(e){const t={wallet_handle_token:e};return this.post("/v1/wallet/info",t)}async exportMasterDerivationKey(e,t){const r={wallet_handle_token:e,wallet_password:t},i=await this.post("/v1/master-key/export",r);return{master_derivation_key:_e(i.master_derivation_key)}}async importKey(e,t){const r={wallet_handle_token:e,private_key:nn(t)};return this.post("/v1/key/import",r)}async exportKey(e,t,r){const i={wallet_handle_token:e,address:r,wallet_password:t},o=await this.post("/v1/key/export",i);return{private_key:_e(o.private_key)}}async generateKey(e){const t={wallet_handle_token:e,display_mnemonic:!1};return this.post("/v1/key",t)}async deleteKey(e,t,r){const i={wallet_handle_token:e,address:r,wallet_password:t};return this.delete("/v1/key",i)}async listKeys(e){const t={wallet_handle_token:e};return this.post("/v1/key/list",t)}async signTransaction(e,t,r){const i={wallet_handle_token:e,wallet_password:t,transaction:nn(r.toByte())},o=await this.post("/v1/transaction/sign",i);return _e(o.signed_transaction)}async signTransactionWithSpecificPublicKey(e,t,r,i){const o=Pn(i),h={wallet_handle_token:e,wallet_password:t,transaction:nn(r.toByte()),public_key:nn(o)},v=await this.post("/v1/transaction/sign",h);return _e(v.signed_transaction)}async listMultisig(e){const t={wallet_handle_token:e};return this.post("/v1/multisig/list",t)}async importMultisig(e,t,r,i){const o={wallet_handle_token:e,multisig_version:t,threshold:r,pks:i};return this.post("/v1/multisig/import",o)}async exportMultisig(e,t){const r={wallet_handle_token:e,address:t};return this.post("/v1/multisig/export",r)}async signMultisigTransaction(e,t,r,i,o){const h=Pn(i),v={wallet_handle_token:e,transaction:nn(r.toByte()),public_key:nn(h),partial_multisig:o,wallet_password:t};return this.post("/v1/multisig/sign",v)}async deleteMultisig(e,t,r){const i={wallet_handle_token:e,address:r,wallet_password:t};return this.delete("/v1/multisig",i)}}class hr{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new de,omitEmpty:!0},{key:"amount",valueSchema:new b,omitEmpty:!0},{key:"amount-without-pending-rewards",valueSchema:new b,omitEmpty:!0},{key:"min-balance",valueSchema:new b,omitEmpty:!0},{key:"pending-rewards",valueSchema:new b,omitEmpty:!0},{key:"rewards",valueSchema:new b,omitEmpty:!0},{key:"round",valueSchema:new b,omitEmpty:!0},{key:"status",valueSchema:new de,omitEmpty:!0},{key:"total-apps-opted-in",valueSchema:new b,omitEmpty:!0},{key:"total-assets-opted-in",valueSchema:new b,omitEmpty:!0},{key:"total-box-bytes",valueSchema:new b,omitEmpty:!0},{key:"total-boxes",valueSchema:new b,omitEmpty:!0},{key:"total-created-apps",valueSchema:new b,omitEmpty:!0},{key:"total-created-assets",valueSchema:new b,omitEmpty:!0},{key:"apps-local-state",valueSchema:new f(new Ee(ur.encodingSchema)),omitEmpty:!0},{key:"apps-total-extra-pages",valueSchema:new f(new b),omitEmpty:!0},{key:"apps-total-schema",valueSchema:new f(yn.encodingSchema),omitEmpty:!0},{key:"assets",valueSchema:new f(new Ee(lr.encodingSchema)),omitEmpty:!0},{key:"auth-addr",valueSchema:new f(new de),omitEmpty:!0},{key:"closed-at-round",valueSchema:new f(new b),omitEmpty:!0},{key:"created-apps",valueSchema:new f(new Ee(Cn.encodingSchema)),omitEmpty:!0},{key:"created-assets",valueSchema:new f(new Ee(Nn.encodingSchema)),omitEmpty:!0},{key:"created-at-round",valueSchema:new f(new b),omitEmpty:!0},{key:"deleted",valueSchema:new f(new ht),omitEmpty:!0},{key:"incentive-eligible",valueSchema:new f(new ht),omitEmpty:!0},{key:"last-heartbeat",valueSchema:new f(new b),omitEmpty:!0},{key:"last-proposed",valueSchema:new f(new b),omitEmpty:!0},{key:"participation",valueSchema:new f($i.encodingSchema),omitEmpty:!0},{key:"reward-base",valueSchema:new f(new b),omitEmpty:!0},{key:"sig-type",valueSchema:new f(new de),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,amount:t,amountWithoutPendingRewards:r,minBalance:i,pendingRewards:o,rewards:h,round:v,status:V,totalAppsOptedIn:p,totalAssetsOptedIn:C,totalBoxBytes:J,totalBoxes:Z,totalCreatedApps:he,totalCreatedAssets:ne,appsLocalState:le,appsTotalExtraPages:k,appsTotalSchema:P,assets:N,authAddr:G,closedAtRound:fe,createdApps:ve,createdAssets:D,createdAtRound:Q,deleted:Y,incentiveEligible:me,lastHeartbeat:y,lastProposed:s,participation:u,rewardBase:d,sigType:S}){this.address=e,this.amount=oe(t),this.amountWithoutPendingRewards=oe(r),this.minBalance=De(i),this.pendingRewards=oe(o),this.rewards=oe(h),this.round=oe(v),this.status=V,this.totalAppsOptedIn=De(p),this.totalAssetsOptedIn=De(C),this.totalBoxBytes=De(J),this.totalBoxes=De(Z),this.totalCreatedApps=De(he),this.totalCreatedAssets=De(ne),this.appsLocalState=le,this.appsTotalExtraPages=typeof k>"u"?void 0:De(k),this.appsTotalSchema=P,this.assets=N,this.authAddr=typeof G=="string"?rt.fromString(G):G,this.closedAtRound=typeof fe>"u"?void 0:oe(fe),this.createdApps=ve,this.createdAssets=D,this.createdAtRound=typeof Q>"u"?void 0:oe(Q),this.deleted=Y,this.incentiveEligible=me,this.lastHeartbeat=typeof y>"u"?void 0:De(y),this.lastProposed=typeof s>"u"?void 0:De(s),this.participation=u,this.rewardBase=typeof d>"u"?void 0:oe(d),this.sigType=S}getEncodingSchema(){return hr.encodingSchema}toEncodingData(){return new Map([["address",this.address],["amount",this.amount],["amount-without-pending-rewards",this.amountWithoutPendingRewards],["min-balance",this.minBalance],["pending-rewards",this.pendingRewards],["rewards",this.rewards],["round",this.round],["status",this.status],["total-apps-opted-in",this.totalAppsOptedIn],["total-assets-opted-in",this.totalAssetsOptedIn],["total-box-bytes",this.totalBoxBytes],["total-boxes",this.totalBoxes],["total-created-apps",this.totalCreatedApps],["total-created-assets",this.totalCreatedAssets],["apps-local-state",typeof this.appsLocalState<"u"?this.appsLocalState.map(e=>e.toEncodingData()):void 0],["apps-total-extra-pages",this.appsTotalExtraPages],["apps-total-schema",typeof this.appsTotalSchema<"u"?this.appsTotalSchema.toEncodingData():void 0],["assets",typeof this.assets<"u"?this.assets.map(e=>e.toEncodingData()):void 0],["auth-addr",typeof this.authAddr<"u"?this.authAddr.toString():void 0],["closed-at-round",this.closedAtRound],["created-apps",typeof this.createdApps<"u"?this.createdApps.map(e=>e.toEncodingData()):void 0],["created-assets",typeof this.createdAssets<"u"?this.createdAssets.map(e=>e.toEncodingData()):void 0],["created-at-round",this.createdAtRound],["deleted",this.deleted],["incentive-eligible",this.incentiveEligible],["last-heartbeat",this.lastHeartbeat],["last-proposed",this.lastProposed],["participation",typeof this.participation<"u"?this.participation.toEncodingData():void 0],["reward-base",this.rewardBase],["sig-type",this.sigType]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Account: ${e}`);return new hr({address:e.get("address"),amount:e.get("amount"),amountWithoutPendingRewards:e.get("amount-without-pending-rewards"),minBalance:e.get("min-balance"),pendingRewards:e.get("pending-rewards"),rewards:e.get("rewards"),round:e.get("round"),status:e.get("status"),totalAppsOptedIn:e.get("total-apps-opted-in"),totalAssetsOptedIn:e.get("total-assets-opted-in"),totalBoxBytes:e.get("total-box-bytes"),totalBoxes:e.get("total-boxes"),totalCreatedApps:e.get("total-created-apps"),totalCreatedAssets:e.get("total-created-assets"),appsLocalState:typeof e.get("apps-local-state")<"u"?e.get("apps-local-state").map(t=>ur.fromEncodingData(t)):void 0,appsTotalExtraPages:e.get("apps-total-extra-pages"),appsTotalSchema:typeof e.get("apps-total-schema")<"u"?yn.fromEncodingData(e.get("apps-total-schema")):void 0,assets:typeof e.get("assets")<"u"?e.get("assets").map(t=>lr.fromEncodingData(t)):void 0,authAddr:e.get("auth-addr"),closedAtRound:e.get("closed-at-round"),createdApps:typeof e.get("created-apps")<"u"?e.get("created-apps").map(t=>Cn.fromEncodingData(t)):void 0,createdAssets:typeof e.get("created-assets")<"u"?e.get("created-assets").map(t=>Nn.fromEncodingData(t)):void 0,createdAtRound:e.get("created-at-round"),deleted:e.get("deleted"),incentiveEligible:e.get("incentive-eligible"),lastHeartbeat:e.get("last-heartbeat"),lastProposed:e.get("last-proposed"),participation:typeof e.get("participation")<"u"?$i.fromEncodingData(e.get("participation")):void 0,rewardBase:e.get("reward-base"),sigType:e.get("sig-type")})}}class $i{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"selection-participation-key",valueSchema:new Me,omitEmpty:!0},{key:"vote-first-valid",valueSchema:new b,omitEmpty:!0},{key:"vote-key-dilution",valueSchema:new b,omitEmpty:!0},{key:"vote-last-valid",valueSchema:new b,omitEmpty:!0},{key:"vote-participation-key",valueSchema:new Me,omitEmpty:!0},{key:"state-proof-key",valueSchema:new f(new Me),omitEmpty:!0})),this.encodingSchemaValue}constructor({selectionParticipationKey:e,voteFirstValid:t,voteKeyDilution:r,voteLastValid:i,voteParticipationKey:o,stateProofKey:h}){this.selectionParticipationKey=typeof e=="string"?_e(e):e,this.voteFirstValid=oe(t),this.voteKeyDilution=oe(r),this.voteLastValid=oe(i),this.voteParticipationKey=typeof o=="string"?_e(o):o,this.stateProofKey=typeof h=="string"?_e(h):h}getEncodingSchema(){return $i.encodingSchema}toEncodingData(){return new Map([["selection-participation-key",this.selectionParticipationKey],["vote-first-valid",this.voteFirstValid],["vote-key-dilution",this.voteKeyDilution],["vote-last-valid",this.voteLastValid],["vote-participation-key",this.voteParticipationKey],["state-proof-key",this.stateProofKey]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountParticipation: ${e}`);return new $i({selectionParticipationKey:e.get("selection-participation-key"),voteFirstValid:e.get("vote-first-valid"),voteKeyDilution:e.get("vote-key-dilution"),voteLastValid:e.get("vote-last-valid"),voteParticipationKey:e.get("vote-participation-key"),stateProofKey:e.get("state-proof-key")})}}class hs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"account",valueSchema:hr.encodingSchema,omitEmpty:!0},{key:"current-round",valueSchema:new b,omitEmpty:!0})),this.encodingSchemaValue}constructor({account:e,currentRound:t}){this.account=e,this.currentRound=oe(t)}getEncodingSchema(){return hs.encodingSchema}toEncodingData(){return new Map([["account",this.account.toEncodingData()],["current-round",this.currentRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountResponse: ${e}`);return new hs({account:hr.fromEncodingData(e.get("account")??new Map),currentRound:e.get("current-round")})}}class Li{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new de,omitEmpty:!0},{key:"delta",valueSchema:new Ee(fr.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,delta:t}){this.address=e,this.delta=t}getEncodingSchema(){return Li.encodingSchema}toEncodingData(){return new Map([["address",this.address],["delta",this.delta.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountStateDelta: ${e}`);return new Li({address:e.get("address"),delta:(e.get("delta")??[]).map(t=>fr.fromEncodingData(t))})}}class us{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"accounts",valueSchema:new Ee(hr.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new b,omitEmpty:!0},{key:"next-token",valueSchema:new f(new de),omitEmpty:!0})),this.encodingSchemaValue}constructor({accounts:e,currentRound:t,nextToken:r}){this.accounts=e,this.currentRound=oe(t),this.nextToken=r}getEncodingSchema(){return us.encodingSchema}toEncodingData(){return new Map([["accounts",this.accounts.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountsResponse: ${e}`);return new us({accounts:(e.get("accounts")??[]).map(t=>hr.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class Cn{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new b,omitEmpty:!0},{key:"params",valueSchema:qi.encodingSchema,omitEmpty:!0},{key:"created-at-round",valueSchema:new f(new b),omitEmpty:!0},{key:"deleted",valueSchema:new f(new ht),omitEmpty:!0},{key:"deleted-at-round",valueSchema:new f(new b),omitEmpty:!0})),this.encodingSchemaValue}constructor({id:e,params:t,createdAtRound:r,deleted:i,deletedAtRound:o}){this.id=oe(e),this.params=t,this.createdAtRound=typeof r>"u"?void 0:oe(r),this.deleted=i,this.deletedAtRound=typeof o>"u"?void 0:oe(o)}getEncodingSchema(){return Cn.encodingSchema}toEncodingData(){return new Map([["id",this.id],["params",this.params.toEncodingData()],["created-at-round",this.createdAtRound],["deleted",this.deleted],["deleted-at-round",this.deletedAtRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Application: ${e}`);return new Cn({id:e.get("id"),params:qi.fromEncodingData(e.get("params")??new Map),createdAtRound:e.get("created-at-round"),deleted:e.get("deleted"),deletedAtRound:e.get("deleted-at-round")})}}class ur{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new b,omitEmpty:!0},{key:"schema",valueSchema:yn.encodingSchema,omitEmpty:!0},{key:"closed-out-at-round",valueSchema:new f(new b),omitEmpty:!0},{key:"deleted",valueSchema:new f(new ht),omitEmpty:!0},{key:"key-value",valueSchema:new f(new Ee(gr.encodingSchema)),omitEmpty:!0},{key:"opted-in-at-round",valueSchema:new f(new b),omitEmpty:!0})),this.encodingSchemaValue}constructor({id:e,schema:t,closedOutAtRound:r,deleted:i,keyValue:o,optedInAtRound:h}){this.id=oe(e),this.schema=t,this.closedOutAtRound=typeof r>"u"?void 0:oe(r),this.deleted=i,this.keyValue=o,this.optedInAtRound=typeof h>"u"?void 0:oe(h)}getEncodingSchema(){return ur.encodingSchema}toEncodingData(){return new Map([["id",this.id],["schema",this.schema.toEncodingData()],["closed-out-at-round",this.closedOutAtRound],["deleted",this.deleted],["key-value",typeof this.keyValue<"u"?this.keyValue.map(e=>e.toEncodingData()):void 0],["opted-in-at-round",this.optedInAtRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationLocalState: ${e}`);return new ur({id:e.get("id"),schema:yn.fromEncodingData(e.get("schema")??new Map),closedOutAtRound:e.get("closed-out-at-round"),deleted:e.get("deleted"),keyValue:typeof e.get("key-value")<"u"?e.get("key-value").map(t=>gr.fromEncodingData(t)):void 0,optedInAtRound:e.get("opted-in-at-round")})}}class ls{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"apps-local-states",valueSchema:new Ee(ur.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new b,omitEmpty:!0},{key:"next-token",valueSchema:new f(new de),omitEmpty:!0})),this.encodingSchemaValue}constructor({appsLocalStates:e,currentRound:t,nextToken:r}){this.appsLocalStates=e,this.currentRound=oe(t),this.nextToken=r}getEncodingSchema(){return ls.encodingSchema}toEncodingData(){return new Map([["apps-local-states",this.appsLocalStates.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationLocalStatesResponse: ${e}`);return new ls({appsLocalStates:(e.get("apps-local-states")??[]).map(t=>ur.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class Fi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"logs",valueSchema:new Ee(new Me),omitEmpty:!0},{key:"txid",valueSchema:new de,omitEmpty:!0})),this.encodingSchemaValue}constructor({logs:e,txid:t}){this.logs=e,this.txid=t}getEncodingSchema(){return Fi.encodingSchema}toEncodingData(){return new Map([["logs",this.logs],["txid",this.txid]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationLogData: ${e}`);return new Fi({logs:e.get("logs"),txid:e.get("txid")})}}class ds{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"application-id",valueSchema:new b,omitEmpty:!0},{key:"current-round",valueSchema:new b,omitEmpty:!0},{key:"log-data",valueSchema:new f(new Ee(Fi.encodingSchema)),omitEmpty:!0},{key:"next-token",valueSchema:new f(new de),omitEmpty:!0})),this.encodingSchemaValue}constructor({applicationId:e,currentRound:t,logData:r,nextToken:i}){this.applicationId=oe(e),this.currentRound=oe(t),this.logData=r,this.nextToken=i}getEncodingSchema(){return ds.encodingSchema}toEncodingData(){return new Map([["application-id",this.applicationId],["current-round",this.currentRound],["log-data",typeof this.logData<"u"?this.logData.map(e=>e.toEncodingData()):void 0],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationLogsResponse: ${e}`);return new ds({applicationId:e.get("application-id"),currentRound:e.get("current-round"),logData:typeof e.get("log-data")<"u"?e.get("log-data").map(t=>Fi.fromEncodingData(t)):void 0,nextToken:e.get("next-token")})}}class qi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"approval-program",valueSchema:new Me,omitEmpty:!0},{key:"clear-state-program",valueSchema:new Me,omitEmpty:!0},{key:"creator",valueSchema:new f(new de),omitEmpty:!0},{key:"extra-program-pages",valueSchema:new f(new b),omitEmpty:!0},{key:"global-state",valueSchema:new f(new Ee(gr.encodingSchema)),omitEmpty:!0},{key:"global-state-schema",valueSchema:new f(yn.encodingSchema),omitEmpty:!0},{key:"local-state-schema",valueSchema:new f(yn.encodingSchema),omitEmpty:!0},{key:"version",valueSchema:new f(new b),omitEmpty:!0})),this.encodingSchemaValue}constructor({approvalProgram:e,clearStateProgram:t,creator:r,extraProgramPages:i,globalState:o,globalStateSchema:h,localStateSchema:v,version:V}){this.approvalProgram=typeof e=="string"?_e(e):e,this.clearStateProgram=typeof t=="string"?_e(t):t,this.creator=typeof r=="string"?rt.fromString(r):r,this.extraProgramPages=typeof i>"u"?void 0:De(i),this.globalState=o,this.globalStateSchema=h,this.localStateSchema=v,this.version=typeof V>"u"?void 0:De(V)}getEncodingSchema(){return qi.encodingSchema}toEncodingData(){return new Map([["approval-program",this.approvalProgram],["clear-state-program",this.clearStateProgram],["creator",typeof this.creator<"u"?this.creator.toString():void 0],["extra-program-pages",this.extraProgramPages],["global-state",typeof this.globalState<"u"?this.globalState.map(e=>e.toEncodingData()):void 0],["global-state-schema",typeof this.globalStateSchema<"u"?this.globalStateSchema.toEncodingData():void 0],["local-state-schema",typeof this.localStateSchema<"u"?this.localStateSchema.toEncodingData():void 0],["version",this.version]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationParams: ${e}`);return new qi({approvalProgram:e.get("approval-program"),clearStateProgram:e.get("clear-state-program"),creator:e.get("creator"),extraProgramPages:e.get("extra-program-pages"),globalState:typeof e.get("global-state")<"u"?e.get("global-state").map(t=>gr.fromEncodingData(t)):void 0,globalStateSchema:typeof e.get("global-state-schema")<"u"?yn.fromEncodingData(e.get("global-state-schema")):void 0,localStateSchema:typeof e.get("local-state-schema")<"u"?yn.fromEncodingData(e.get("local-state-schema")):void 0,version:e.get("version")})}}class fs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"current-round",valueSchema:new b,omitEmpty:!0},{key:"application",valueSchema:new f(Cn.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({currentRound:e,application:t}){this.currentRound=oe(e),this.application=t}getEncodingSchema(){return fs.encodingSchema}toEncodingData(){return new Map([["current-round",this.currentRound],["application",typeof this.application<"u"?this.application.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationResponse: ${e}`);return new fs({currentRound:e.get("current-round"),application:typeof e.get("application")<"u"?Cn.fromEncodingData(e.get("application")):void 0})}}class yn{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"num-byte-slice",valueSchema:new b,omitEmpty:!0},{key:"num-uint",valueSchema:new b,omitEmpty:!0})),this.encodingSchemaValue}constructor({numByteSlice:e,numUint:t}){this.numByteSlice=De(e),this.numUint=De(t)}getEncodingSchema(){return yn.encodingSchema}toEncodingData(){return new Map([["num-byte-slice",this.numByteSlice],["num-uint",this.numUint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationStateSchema: ${e}`);return new yn({numByteSlice:e.get("num-byte-slice"),numUint:e.get("num-uint")})}}class zi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"applications",valueSchema:new Ee(Cn.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new b,omitEmpty:!0},{key:"next-token",valueSchema:new f(new de),omitEmpty:!0})),this.encodingSchemaValue}constructor({applications:e,currentRound:t,nextToken:r}){this.applications=e,this.currentRound=oe(t),this.nextToken=r}getEncodingSchema(){return zi.encodingSchema}toEncodingData(){return new Map([["applications",this.applications.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationsResponse: ${e}`);return new zi({applications:(e.get("applications")??[]).map(t=>Cn.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class Nn{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"index",valueSchema:new b,omitEmpty:!0},{key:"params",valueSchema:dr.encodingSchema,omitEmpty:!0},{key:"created-at-round",valueSchema:new f(new b),omitEmpty:!0},{key:"deleted",valueSchema:new f(new ht),omitEmpty:!0},{key:"destroyed-at-round",valueSchema:new f(new b),omitEmpty:!0})),this.encodingSchemaValue}constructor({index:e,params:t,createdAtRound:r,deleted:i,destroyedAtRound:o}){this.index=oe(e),this.params=t,this.createdAtRound=typeof r>"u"?void 0:oe(r),this.deleted=i,this.destroyedAtRound=typeof o>"u"?void 0:oe(o)}getEncodingSchema(){return Nn.encodingSchema}toEncodingData(){return new Map([["index",this.index],["params",this.params.toEncodingData()],["created-at-round",this.createdAtRound],["deleted",this.deleted],["destroyed-at-round",this.destroyedAtRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Asset: ${e}`);return new Nn({index:e.get("index"),params:dr.fromEncodingData(e.get("params")??new Map),createdAtRound:e.get("created-at-round"),deleted:e.get("deleted"),destroyedAtRound:e.get("destroyed-at-round")})}}class gs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"balances",valueSchema:new Ee(eo.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new b,omitEmpty:!0},{key:"next-token",valueSchema:new f(new de),omitEmpty:!0})),this.encodingSchemaValue}constructor({balances:e,currentRound:t,nextToken:r}){this.balances=e,this.currentRound=oe(t),this.nextToken=r}getEncodingSchema(){return gs.encodingSchema}toEncodingData(){return new Map([["balances",this.balances.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetBalancesResponse: ${e}`);return new gs({balances:(e.get("balances")??[]).map(t=>eo.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class lr{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"amount",valueSchema:new b,omitEmpty:!0},{key:"asset-id",valueSchema:new b,omitEmpty:!0},{key:"is-frozen",valueSchema:new ht,omitEmpty:!0},{key:"deleted",valueSchema:new f(new ht),omitEmpty:!0},{key:"opted-in-at-round",valueSchema:new f(new b),omitEmpty:!0},{key:"opted-out-at-round",valueSchema:new f(new b),omitEmpty:!0})),this.encodingSchemaValue}constructor({amount:e,assetId:t,isFrozen:r,deleted:i,optedInAtRound:o,optedOutAtRound:h}){this.amount=oe(e),this.assetId=oe(t),this.isFrozen=r,this.deleted=i,this.optedInAtRound=typeof o>"u"?void 0:oe(o),this.optedOutAtRound=typeof h>"u"?void 0:oe(h)}getEncodingSchema(){return lr.encodingSchema}toEncodingData(){return new Map([["amount",this.amount],["asset-id",this.assetId],["is-frozen",this.isFrozen],["deleted",this.deleted],["opted-in-at-round",this.optedInAtRound],["opted-out-at-round",this.optedOutAtRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetHolding: ${e}`);return new lr({amount:e.get("amount"),assetId:e.get("asset-id"),isFrozen:e.get("is-frozen"),deleted:e.get("deleted"),optedInAtRound:e.get("opted-in-at-round"),optedOutAtRound:e.get("opted-out-at-round")})}}class ms{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"assets",valueSchema:new Ee(lr.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new b,omitEmpty:!0},{key:"next-token",valueSchema:new f(new de),omitEmpty:!0})),this.encodingSchemaValue}constructor({assets:e,currentRound:t,nextToken:r}){this.assets=e,this.currentRound=oe(t),this.nextToken=r}getEncodingSchema(){return ms.encodingSchema}toEncodingData(){return new Map([["assets",this.assets.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetHoldingsResponse: ${e}`);return new ms({assets:(e.get("assets")??[]).map(t=>lr.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class dr{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"creator",valueSchema:new de,omitEmpty:!0},{key:"decimals",valueSchema:new b,omitEmpty:!0},{key:"total",valueSchema:new b,omitEmpty:!0},{key:"clawback",valueSchema:new f(new de),omitEmpty:!0},{key:"default-frozen",valueSchema:new f(new ht),omitEmpty:!0},{key:"freeze",valueSchema:new f(new de),omitEmpty:!0},{key:"manager",valueSchema:new f(new de),omitEmpty:!0},{key:"metadata-hash",valueSchema:new f(new Me),omitEmpty:!0},{key:"name",valueSchema:new f(new de),omitEmpty:!0},{key:"name-b64",valueSchema:new f(new Me),omitEmpty:!0},{key:"reserve",valueSchema:new f(new de),omitEmpty:!0},{key:"unit-name",valueSchema:new f(new de),omitEmpty:!0},{key:"unit-name-b64",valueSchema:new f(new Me),omitEmpty:!0},{key:"url",valueSchema:new f(new de),omitEmpty:!0},{key:"url-b64",valueSchema:new f(new Me),omitEmpty:!0})),this.encodingSchemaValue}constructor({creator:e,decimals:t,total:r,clawback:i,defaultFrozen:o,freeze:h,manager:v,metadataHash:V,name:p,nameB64:C,reserve:J,unitName:Z,unitNameB64:he,url:ne,urlB64:le}){this.creator=e,this.decimals=De(t),this.total=oe(r),this.clawback=i,this.defaultFrozen=o,this.freeze=h,this.manager=v,this.metadataHash=typeof V=="string"?_e(V):V,this.name=p,this.nameB64=typeof C=="string"?_e(C):C,this.reserve=J,this.unitName=Z,this.unitNameB64=typeof he=="string"?_e(he):he,this.url=ne,this.urlB64=typeof le=="string"?_e(le):le}getEncodingSchema(){return dr.encodingSchema}toEncodingData(){return new Map([["creator",this.creator],["decimals",this.decimals],["total",this.total],["clawback",this.clawback],["default-frozen",this.defaultFrozen],["freeze",this.freeze],["manager",this.manager],["metadata-hash",this.metadataHash],["name",this.name],["name-b64",this.nameB64],["reserve",this.reserve],["unit-name",this.unitName],["unit-name-b64",this.unitNameB64],["url",this.url],["url-b64",this.urlB64]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetParams: ${e}`);return new dr({creator:e.get("creator"),decimals:e.get("decimals"),total:e.get("total"),clawback:e.get("clawback"),defaultFrozen:e.get("default-frozen"),freeze:e.get("freeze"),manager:e.get("manager"),metadataHash:e.get("metadata-hash"),name:e.get("name"),nameB64:e.get("name-b64"),reserve:e.get("reserve"),unitName:e.get("unit-name"),unitNameB64:e.get("unit-name-b64"),url:e.get("url"),urlB64:e.get("url-b64")})}}class ps{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"asset",valueSchema:Nn.encodingSchema,omitEmpty:!0},{key:"current-round",valueSchema:new b,omitEmpty:!0})),this.encodingSchemaValue}constructor({asset:e,currentRound:t}){this.asset=e,this.currentRound=oe(t)}getEncodingSchema(){return ps.encodingSchema}toEncodingData(){return new Map([["asset",this.asset.toEncodingData()],["current-round",this.currentRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetResponse: ${e}`);return new ps({asset:Nn.fromEncodingData(e.get("asset")??new Map),currentRound:e.get("current-round")})}}class Hi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"assets",valueSchema:new Ee(Nn.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new b,omitEmpty:!0},{key:"next-token",valueSchema:new f(new de),omitEmpty:!0})),this.encodingSchemaValue}constructor({assets:e,currentRound:t,nextToken:r}){this.assets=e,this.currentRound=oe(t),this.nextToken=r}getEncodingSchema(){return Hi.encodingSchema}toEncodingData(){return new Map([["assets",this.assets.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetsResponse: ${e}`);return new Hi({assets:(e.get("assets")??[]).map(t=>Nn.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class oi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"genesis-hash",valueSchema:new Me,omitEmpty:!0},{key:"genesis-id",valueSchema:new de,omitEmpty:!0},{key:"previous-block-hash",valueSchema:new Me,omitEmpty:!0},{key:"round",valueSchema:new b,omitEmpty:!0},{key:"seed",valueSchema:new Me,omitEmpty:!0},{key:"timestamp",valueSchema:new b,omitEmpty:!0},{key:"transactions-root",valueSchema:new Me,omitEmpty:!0},{key:"transactions-root-sha256",valueSchema:new Me,omitEmpty:!0},{key:"bonus",valueSchema:new f(new b),omitEmpty:!0},{key:"fees-collected",valueSchema:new f(new b),omitEmpty:!0},{key:"participation-updates",valueSchema:new f(to.encodingSchema),omitEmpty:!0},{key:"proposer",valueSchema:new f(new de),omitEmpty:!0},{key:"proposer-payout",valueSchema:new f(new b),omitEmpty:!0},{key:"rewards",valueSchema:new f(Gi.encodingSchema),omitEmpty:!0},{key:"state-proof-tracking",valueSchema:new f(new Ee(ao.encodingSchema)),omitEmpty:!0},{key:"transactions",valueSchema:new f(new Ee(wn.encodingSchema)),omitEmpty:!0},{key:"txn-counter",valueSchema:new f(new b),omitEmpty:!0},{key:"upgrade-state",valueSchema:new f(Ki.encodingSchema),omitEmpty:!0},{key:"upgrade-vote",valueSchema:new f(Wi.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({genesisHash:e,genesisId:t,previousBlockHash:r,round:i,seed:o,timestamp:h,transactionsRoot:v,transactionsRootSha256:V,bonus:p,feesCollected:C,participationUpdates:J,proposer:Z,proposerPayout:he,rewards:ne,stateProofTracking:le,transactions:k,txnCounter:P,upgradeState:N,upgradeVote:G}){this.genesisHash=typeof e=="string"?_e(e):e,this.genesisId=t,this.previousBlockHash=typeof r=="string"?_e(r):r,this.round=oe(i),this.seed=typeof o=="string"?_e(o):o,this.timestamp=De(h),this.transactionsRoot=typeof v=="string"?_e(v):v,this.transactionsRootSha256=typeof V=="string"?_e(V):V,this.bonus=typeof p>"u"?void 0:De(p),this.feesCollected=typeof C>"u"?void 0:De(C),this.participationUpdates=J,this.proposer=typeof Z=="string"?rt.fromString(Z):Z,this.proposerPayout=typeof he>"u"?void 0:De(he),this.rewards=ne,this.stateProofTracking=le,this.transactions=k,this.txnCounter=typeof P>"u"?void 0:De(P),this.upgradeState=N,this.upgradeVote=G}getEncodingSchema(){return oi.encodingSchema}toEncodingData(){return new Map([["genesis-hash",this.genesisHash],["genesis-id",this.genesisId],["previous-block-hash",this.previousBlockHash],["round",this.round],["seed",this.seed],["timestamp",this.timestamp],["transactions-root",this.transactionsRoot],["transactions-root-sha256",this.transactionsRootSha256],["bonus",this.bonus],["fees-collected",this.feesCollected],["participation-updates",typeof this.participationUpdates<"u"?this.participationUpdates.toEncodingData():void 0],["proposer",typeof this.proposer<"u"?this.proposer.toString():void 0],["proposer-payout",this.proposerPayout],["rewards",typeof this.rewards<"u"?this.rewards.toEncodingData():void 0],["state-proof-tracking",typeof this.stateProofTracking<"u"?this.stateProofTracking.map(e=>e.toEncodingData()):void 0],["transactions",typeof this.transactions<"u"?this.transactions.map(e=>e.toEncodingData()):void 0],["txn-counter",this.txnCounter],["upgrade-state",typeof this.upgradeState<"u"?this.upgradeState.toEncodingData():void 0],["upgrade-vote",typeof this.upgradeVote<"u"?this.upgradeVote.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Block: ${e}`);return new oi({genesisHash:e.get("genesis-hash"),genesisId:e.get("genesis-id"),previousBlockHash:e.get("previous-block-hash"),round:e.get("round"),seed:e.get("seed"),timestamp:e.get("timestamp"),transactionsRoot:e.get("transactions-root"),transactionsRootSha256:e.get("transactions-root-sha256"),bonus:e.get("bonus"),feesCollected:e.get("fees-collected"),participationUpdates:typeof e.get("participation-updates")<"u"?to.fromEncodingData(e.get("participation-updates")):void 0,proposer:e.get("proposer"),proposerPayout:e.get("proposer-payout"),rewards:typeof e.get("rewards")<"u"?Gi.fromEncodingData(e.get("rewards")):void 0,stateProofTracking:typeof e.get("state-proof-tracking")<"u"?e.get("state-proof-tracking").map(t=>ao.fromEncodingData(t)):void 0,transactions:typeof e.get("transactions")<"u"?e.get("transactions").map(t=>wn.fromEncodingData(t)):void 0,txnCounter:e.get("txn-counter"),upgradeState:typeof e.get("upgrade-state")<"u"?Ki.fromEncodingData(e.get("upgrade-state")):void 0,upgradeVote:typeof e.get("upgrade-vote")<"u"?Wi.fromEncodingData(e.get("upgrade-vote")):void 0})}}class ys{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"blocks",valueSchema:new Ee(oi.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new b,omitEmpty:!0},{key:"next-token",valueSchema:new f(new de),omitEmpty:!0})),this.encodingSchemaValue}constructor({blocks:e,currentRound:t,nextToken:r}){this.blocks=e,this.currentRound=oe(t),this.nextToken=r}getEncodingSchema(){return ys.encodingSchema}toEncodingData(){return new Map([["blocks",this.blocks.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockHeadersResponse: ${e}`);return new ys({blocks:(e.get("blocks")??[]).map(t=>oi.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class Gi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"fee-sink",valueSchema:new de,omitEmpty:!0},{key:"rewards-calculation-round",valueSchema:new b,omitEmpty:!0},{key:"rewards-level",valueSchema:new b,omitEmpty:!0},{key:"rewards-pool",valueSchema:new de,omitEmpty:!0},{key:"rewards-rate",valueSchema:new b,omitEmpty:!0},{key:"rewards-residue",valueSchema:new b,omitEmpty:!0})),this.encodingSchemaValue}constructor({feeSink:e,rewardsCalculationRound:t,rewardsLevel:r,rewardsPool:i,rewardsRate:o,rewardsResidue:h}){this.feeSink=e,this.rewardsCalculationRound=oe(t),this.rewardsLevel=oe(r),this.rewardsPool=i,this.rewardsRate=oe(o),this.rewardsResidue=oe(h)}getEncodingSchema(){return Gi.encodingSchema}toEncodingData(){return new Map([["fee-sink",this.feeSink],["rewards-calculation-round",this.rewardsCalculationRound],["rewards-level",this.rewardsLevel],["rewards-pool",this.rewardsPool],["rewards-rate",this.rewardsRate],["rewards-residue",this.rewardsResidue]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockRewards: ${e}`);return new Gi({feeSink:e.get("fee-sink"),rewardsCalculationRound:e.get("rewards-calculation-round"),rewardsLevel:e.get("rewards-level"),rewardsPool:e.get("rewards-pool"),rewardsRate:e.get("rewards-rate"),rewardsResidue:e.get("rewards-residue")})}}class Ki{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"current-protocol",valueSchema:new de,omitEmpty:!0},{key:"next-protocol",valueSchema:new f(new de),omitEmpty:!0},{key:"next-protocol-approvals",valueSchema:new f(new b),omitEmpty:!0},{key:"next-protocol-switch-on",valueSchema:new f(new b),omitEmpty:!0},{key:"next-protocol-vote-before",valueSchema:new f(new b),omitEmpty:!0})),this.encodingSchemaValue}constructor({currentProtocol:e,nextProtocol:t,nextProtocolApprovals:r,nextProtocolSwitchOn:i,nextProtocolVoteBefore:o}){this.currentProtocol=e,this.nextProtocol=t,this.nextProtocolApprovals=typeof r>"u"?void 0:De(r),this.nextProtocolSwitchOn=typeof i>"u"?void 0:oe(i),this.nextProtocolVoteBefore=typeof o>"u"?void 0:oe(o)}getEncodingSchema(){return Ki.encodingSchema}toEncodingData(){return new Map([["current-protocol",this.currentProtocol],["next-protocol",this.nextProtocol],["next-protocol-approvals",this.nextProtocolApprovals],["next-protocol-switch-on",this.nextProtocolSwitchOn],["next-protocol-vote-before",this.nextProtocolVoteBefore]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockUpgradeState: ${e}`);return new Ki({currentProtocol:e.get("current-protocol"),nextProtocol:e.get("next-protocol"),nextProtocolApprovals:e.get("next-protocol-approvals"),nextProtocolSwitchOn:e.get("next-protocol-switch-on"),nextProtocolVoteBefore:e.get("next-protocol-vote-before")})}}class Wi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"upgrade-approve",valueSchema:new f(new ht),omitEmpty:!0},{key:"upgrade-delay",valueSchema:new f(new b),omitEmpty:!0},{key:"upgrade-propose",valueSchema:new f(new de),omitEmpty:!0})),this.encodingSchemaValue}constructor({upgradeApprove:e,upgradeDelay:t,upgradePropose:r}){this.upgradeApprove=e,this.upgradeDelay=typeof t>"u"?void 0:oe(t),this.upgradePropose=r}getEncodingSchema(){return Wi.encodingSchema}toEncodingData(){return new Map([["upgrade-approve",this.upgradeApprove],["upgrade-delay",this.upgradeDelay],["upgrade-propose",this.upgradePropose]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockUpgradeVote: ${e}`);return new Wi({upgradeApprove:e.get("upgrade-approve"),upgradeDelay:e.get("upgrade-delay"),upgradePropose:e.get("upgrade-propose")})}}class ws{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"name",valueSchema:new Me,omitEmpty:!0},{key:"round",valueSchema:new b,omitEmpty:!0},{key:"value",valueSchema:new Me,omitEmpty:!0})),this.encodingSchemaValue}constructor({name:e,round:t,value:r}){this.name=typeof e=="string"?_e(e):e,this.round=oe(t),this.value=typeof r=="string"?_e(r):r}getEncodingSchema(){return ws.encodingSchema}toEncodingData(){return new Map([["name",this.name],["round",this.round],["value",this.value]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Box: ${e}`);return new ws({name:e.get("name"),round:e.get("round"),value:e.get("value")})}}class ji{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"name",valueSchema:new Me,omitEmpty:!0})),this.encodingSchemaValue}constructor({name:e}){this.name=typeof e=="string"?_e(e):e}getEncodingSchema(){return ji.encodingSchema}toEncodingData(){return new Map([["name",this.name]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BoxDescriptor: ${e}`);return new ji({name:e.get("name")})}}class Ji{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"app",valueSchema:new b,omitEmpty:!0},{key:"name",valueSchema:new Me,omitEmpty:!0})),this.encodingSchemaValue}constructor({app:e,name:t}){this.app=De(e),this.name=typeof t=="string"?_e(t):t}getEncodingSchema(){return Ji.encodingSchema}toEncodingData(){return new Map([["app",this.app],["name",this.name]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BoxReference: ${e}`);return new Ji({app:e.get("app"),name:e.get("name")})}}class vs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"application-id",valueSchema:new b,omitEmpty:!0},{key:"boxes",valueSchema:new Ee(ji.encodingSchema),omitEmpty:!0},{key:"next-token",valueSchema:new f(new de),omitEmpty:!0})),this.encodingSchemaValue}constructor({applicationId:e,boxes:t,nextToken:r}){this.applicationId=oe(e),this.boxes=t,this.nextToken=r}getEncodingSchema(){return vs.encodingSchema}toEncodingData(){return new Map([["application-id",this.applicationId],["boxes",this.boxes.map(e=>e.toEncodingData())],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BoxesResponse: ${e}`);return new vs({applicationId:e.get("application-id"),boxes:(e.get("boxes")??[]).map(t=>ji.fromEncodingData(t)),nextToken:e.get("next-token")})}}class $s{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"message",valueSchema:new de,omitEmpty:!0},{key:"data",valueSchema:new f(tn.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({message:e,data:t}){this.message=e,this.data=t}getEncodingSchema(){return $s.encodingSchema}toEncodingData(){return new Map([["message",this.message],["data",typeof this.data<"u"?this.data.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ErrorResponse: ${e}`);return new $s({message:e.get("message"),data:typeof e.get("data")<"u"?tn.fromEncodingData(e.get("data")):void 0})}}class Yi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"action",valueSchema:new b,omitEmpty:!0},{key:"bytes",valueSchema:new f(new de),omitEmpty:!0},{key:"uint",valueSchema:new f(new b),omitEmpty:!0})),this.encodingSchemaValue}constructor({action:e,bytes:t,uint:r}){this.action=De(e),this.bytes=t,this.uint=typeof r>"u"?void 0:oe(r)}getEncodingSchema(){return Yi.encodingSchema}toEncodingData(){return new Map([["action",this.action],["bytes",this.bytes],["uint",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded EvalDelta: ${e}`);return new Yi({action:e.get("action"),bytes:e.get("bytes"),uint:e.get("uint")})}}class fr{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new de,omitEmpty:!0},{key:"value",valueSchema:Yi.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:e,value:t}){this.key=e,this.value=t}getEncodingSchema(){return fr.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded EvalDeltaKeyValue: ${e}`);return new fr({key:e.get("key"),value:Yi.fromEncodingData(e.get("value")??new Map)})}}class Xi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"hash-type",valueSchema:new f(new b),omitEmpty:!0})),this.encodingSchemaValue}constructor({hashType:e}){this.hashType=typeof e>"u"?void 0:De(e)}getEncodingSchema(){return Xi.encodingSchema}toEncodingData(){return new Map([["hash-type",this.hashType]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded HashFactory: ${e}`);return new Xi({hashType:e.get("hash-type")})}}class Zi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"hb-pk",valueSchema:new f(new Me),omitEmpty:!0},{key:"hb-pk1sig",valueSchema:new f(new Me),omitEmpty:!0},{key:"hb-pk2",valueSchema:new f(new Me),omitEmpty:!0},{key:"hb-pk2sig",valueSchema:new f(new Me),omitEmpty:!0},{key:"hb-sig",valueSchema:new f(new Me),omitEmpty:!0})),this.encodingSchemaValue}constructor({hbPk:e,hbPk1sig:t,hbPk2:r,hbPk2sig:i,hbSig:o}){this.hbPk=typeof e=="string"?_e(e):e,this.hbPk1sig=typeof t=="string"?_e(t):t,this.hbPk2=typeof r=="string"?_e(r):r,this.hbPk2sig=typeof i=="string"?_e(i):i,this.hbSig=typeof o=="string"?_e(o):o}getEncodingSchema(){return Zi.encodingSchema}toEncodingData(){return new Map([["hb-pk",this.hbPk],["hb-pk1sig",this.hbPk1sig],["hb-pk2",this.hbPk2],["hb-pk2sig",this.hbPk2sig],["hb-sig",this.hbSig]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded HbProofFields: ${e}`);return new Zi({hbPk:e.get("hb-pk"),hbPk1sig:e.get("hb-pk1sig"),hbPk2:e.get("hb-pk2"),hbPk2sig:e.get("hb-pk2sig"),hbSig:e.get("hb-sig")})}}class Ss{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"db-available",valueSchema:new ht,omitEmpty:!0},{key:"is-migrating",valueSchema:new ht,omitEmpty:!0},{key:"message",valueSchema:new de,omitEmpty:!0},{key:"round",valueSchema:new b,omitEmpty:!0},{key:"version",valueSchema:new de,omitEmpty:!0},{key:"data",valueSchema:new f(tn.encodingSchema),omitEmpty:!0},{key:"errors",valueSchema:new f(new Ee(new de)),omitEmpty:!0})),this.encodingSchemaValue}constructor({dbAvailable:e,isMigrating:t,message:r,round:i,version:o,data:h,errors:v}){this.dbAvailable=e,this.isMigrating=t,this.message=r,this.round=oe(i),this.version=o,this.data=h,this.errors=v}getEncodingSchema(){return Ss.encodingSchema}toEncodingData(){return new Map([["db-available",this.dbAvailable],["is-migrating",this.isMigrating],["message",this.message],["round",this.round],["version",this.version],["data",typeof this.data<"u"?this.data.toEncodingData():void 0],["errors",this.errors]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded HealthCheck: ${e}`);return new Ss({dbAvailable:e.get("db-available"),isMigrating:e.get("is-migrating"),message:e.get("message"),round:e.get("round"),version:e.get("version"),data:typeof e.get("data")<"u"?tn.fromEncodingData(e.get("data")):void 0,errors:e.get("errors")})}}class Qi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"block-headers-commitment",valueSchema:new f(new Me),omitEmpty:!0},{key:"first-attested-round",valueSchema:new f(new b),omitEmpty:!0},{key:"latest-attested-round",valueSchema:new f(new b),omitEmpty:!0},{key:"ln-proven-weight",valueSchema:new f(new b),omitEmpty:!0},{key:"voters-commitment",valueSchema:new f(new Me),omitEmpty:!0})),this.encodingSchemaValue}constructor({blockHeadersCommitment:e,firstAttestedRound:t,latestAttestedRound:r,lnProvenWeight:i,votersCommitment:o}){this.blockHeadersCommitment=typeof e=="string"?_e(e):e,this.firstAttestedRound=typeof t>"u"?void 0:oe(t),this.latestAttestedRound=typeof r>"u"?void 0:oe(r),this.lnProvenWeight=typeof i>"u"?void 0:oe(i),this.votersCommitment=typeof o=="string"?_e(o):o}getEncodingSchema(){return Qi.encodingSchema}toEncodingData(){return new Map([["block-headers-commitment",this.blockHeadersCommitment],["first-attested-round",this.firstAttestedRound],["latest-attested-round",this.latestAttestedRound],["ln-proven-weight",this.lnProvenWeight],["voters-commitment",this.votersCommitment]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded IndexerStateProofMessage: ${e}`);return new Qi({blockHeadersCommitment:e.get("block-headers-commitment"),firstAttestedRound:e.get("first-attested-round"),latestAttestedRound:e.get("latest-attested-round"),lnProvenWeight:e.get("ln-proven-weight"),votersCommitment:e.get("voters-commitment")})}}class _n{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"hash-factory",valueSchema:new f(Xi.encodingSchema),omitEmpty:!0},{key:"path",valueSchema:new f(new Ee(new Me)),omitEmpty:!0},{key:"tree-depth",valueSchema:new f(new b),omitEmpty:!0})),this.encodingSchemaValue}constructor({hashFactory:e,path:t,treeDepth:r}){this.hashFactory=e,this.path=t,this.treeDepth=typeof r>"u"?void 0:De(r)}getEncodingSchema(){return _n.encodingSchema}toEncodingData(){return new Map([["hash-factory",typeof this.hashFactory<"u"?this.hashFactory.toEncodingData():void 0],["path",this.path],["tree-depth",this.treeDepth]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded MerkleArrayProof: ${e}`);return new _n({hashFactory:typeof e.get("hash-factory")<"u"?Xi.fromEncodingData(e.get("hash-factory")):void 0,path:e.get("path"),treeDepth:e.get("tree-depth")})}}class eo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new de,omitEmpty:!0},{key:"amount",valueSchema:new b,omitEmpty:!0},{key:"is-frozen",valueSchema:new ht,omitEmpty:!0},{key:"deleted",valueSchema:new f(new ht),omitEmpty:!0},{key:"opted-in-at-round",valueSchema:new f(new b),omitEmpty:!0},{key:"opted-out-at-round",valueSchema:new f(new b),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,amount:t,isFrozen:r,deleted:i,optedInAtRound:o,optedOutAtRound:h}){this.address=e,this.amount=oe(t),this.isFrozen=r,this.deleted=i,this.optedInAtRound=typeof o>"u"?void 0:oe(o),this.optedOutAtRound=typeof h>"u"?void 0:oe(h)}getEncodingSchema(){return eo.encodingSchema}toEncodingData(){return new Map([["address",this.address],["amount",this.amount],["is-frozen",this.isFrozen],["deleted",this.deleted],["opted-in-at-round",this.optedInAtRound],["opted-out-at-round",this.optedOutAtRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded MiniAssetHolding: ${e}`);return new eo({address:e.get("address"),amount:e.get("amount"),isFrozen:e.get("is-frozen"),deleted:e.get("deleted"),optedInAtRound:e.get("opted-in-at-round"),optedOutAtRound:e.get("opted-out-at-round")})}}class to{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"absent-participation-accounts",valueSchema:new f(new Ee(new de)),omitEmpty:!0},{key:"expired-participation-accounts",valueSchema:new f(new Ee(new de)),omitEmpty:!0})),this.encodingSchemaValue}constructor({absentParticipationAccounts:e,expiredParticipationAccounts:t}){this.absentParticipationAccounts=e,this.expiredParticipationAccounts=t}getEncodingSchema(){return to.encodingSchema}toEncodingData(){return new Map([["absent-participation-accounts",this.absentParticipationAccounts],["expired-participation-accounts",this.expiredParticipationAccounts]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ParticipationUpdates: ${e}`);return new to({absentParticipationAccounts:e.get("absent-participation-accounts"),expiredParticipationAccounts:e.get("expired-participation-accounts")})}}class no{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"part-proofs",valueSchema:new f(_n.encodingSchema),omitEmpty:!0},{key:"positions-to-reveal",valueSchema:new f(new Ee(new b)),omitEmpty:!0},{key:"reveals",valueSchema:new f(new Ee(io.encodingSchema)),omitEmpty:!0},{key:"salt-version",valueSchema:new f(new b),omitEmpty:!0},{key:"sig-commit",valueSchema:new f(new Me),omitEmpty:!0},{key:"sig-proofs",valueSchema:new f(_n.encodingSchema),omitEmpty:!0},{key:"signed-weight",valueSchema:new f(new b),omitEmpty:!0})),this.encodingSchemaValue}constructor({partProofs:e,positionsToReveal:t,reveals:r,saltVersion:i,sigCommit:o,sigProofs:h,signedWeight:v}){this.partProofs=e,this.positionsToReveal=typeof t>"u"?void 0:t.map(oe),this.reveals=r,this.saltVersion=typeof i>"u"?void 0:De(i),this.sigCommit=typeof o=="string"?_e(o):o,this.sigProofs=h,this.signedWeight=typeof v>"u"?void 0:oe(v)}getEncodingSchema(){return no.encodingSchema}toEncodingData(){return new Map([["part-proofs",typeof this.partProofs<"u"?this.partProofs.toEncodingData():void 0],["positions-to-reveal",this.positionsToReveal],["reveals",typeof this.reveals<"u"?this.reveals.map(e=>e.toEncodingData()):void 0],["salt-version",this.saltVersion],["sig-commit",this.sigCommit],["sig-proofs",typeof this.sigProofs<"u"?this.sigProofs.toEncodingData():void 0],["signed-weight",this.signedWeight]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofFields: ${e}`);return new no({partProofs:typeof e.get("part-proofs")<"u"?_n.fromEncodingData(e.get("part-proofs")):void 0,positionsToReveal:e.get("positions-to-reveal"),reveals:typeof e.get("reveals")<"u"?e.get("reveals").map(t=>io.fromEncodingData(t)):void 0,saltVersion:e.get("salt-version"),sigCommit:e.get("sig-commit"),sigProofs:typeof e.get("sig-proofs")<"u"?_n.fromEncodingData(e.get("sig-proofs")):void 0,signedWeight:e.get("signed-weight")})}}class ro{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"verifier",valueSchema:new f(co.encodingSchema),omitEmpty:!0},{key:"weight",valueSchema:new f(new b),omitEmpty:!0})),this.encodingSchemaValue}constructor({verifier:e,weight:t}){this.verifier=e,this.weight=typeof t>"u"?void 0:oe(t)}getEncodingSchema(){return ro.encodingSchema}toEncodingData(){return new Map([["verifier",typeof this.verifier<"u"?this.verifier.toEncodingData():void 0],["weight",this.weight]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofParticipant: ${e}`);return new ro({verifier:typeof e.get("verifier")<"u"?co.fromEncodingData(e.get("verifier")):void 0,weight:e.get("weight")})}}class io{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"participant",valueSchema:new f(ro.encodingSchema),omitEmpty:!0},{key:"position",valueSchema:new f(new b),omitEmpty:!0},{key:"sig-slot",valueSchema:new f(oo.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({participant:e,position:t,sigSlot:r}){this.participant=e,this.position=typeof t>"u"?void 0:oe(t),this.sigSlot=r}getEncodingSchema(){return io.encodingSchema}toEncodingData(){return new Map([["participant",typeof this.participant<"u"?this.participant.toEncodingData():void 0],["position",this.position],["sig-slot",typeof this.sigSlot<"u"?this.sigSlot.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofReveal: ${e}`);return new io({participant:typeof e.get("participant")<"u"?ro.fromEncodingData(e.get("participant")):void 0,position:e.get("position"),sigSlot:typeof e.get("sig-slot")<"u"?oo.fromEncodingData(e.get("sig-slot")):void 0})}}class oo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"lower-sig-weight",valueSchema:new f(new b),omitEmpty:!0},{key:"signature",valueSchema:new f(so.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({lowerSigWeight:e,signature:t}){this.lowerSigWeight=typeof e>"u"?void 0:oe(e),this.signature=t}getEncodingSchema(){return oo.encodingSchema}toEncodingData(){return new Map([["lower-sig-weight",this.lowerSigWeight],["signature",typeof this.signature<"u"?this.signature.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofSigSlot: ${e}`);return new oo({lowerSigWeight:e.get("lower-sig-weight"),signature:typeof e.get("signature")<"u"?so.fromEncodingData(e.get("signature")):void 0})}}class so{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"falcon-signature",valueSchema:new f(new Me),omitEmpty:!0},{key:"merkle-array-index",valueSchema:new f(new b),omitEmpty:!0},{key:"proof",valueSchema:new f(_n.encodingSchema),omitEmpty:!0},{key:"verifying-key",valueSchema:new f(new Me),omitEmpty:!0})),this.encodingSchemaValue}constructor({falconSignature:e,merkleArrayIndex:t,proof:r,verifyingKey:i}){this.falconSignature=typeof e=="string"?_e(e):e,this.merkleArrayIndex=typeof t>"u"?void 0:De(t),this.proof=r,this.verifyingKey=typeof i=="string"?_e(i):i}getEncodingSchema(){return so.encodingSchema}toEncodingData(){return new Map([["falcon-signature",this.falconSignature],["merkle-array-index",this.merkleArrayIndex],["proof",typeof this.proof<"u"?this.proof.toEncodingData():void 0],["verifying-key",this.verifyingKey]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofSignature: ${e}`);return new so({falconSignature:e.get("falcon-signature"),merkleArrayIndex:e.get("merkle-array-index"),proof:typeof e.get("proof")<"u"?_n.fromEncodingData(e.get("proof")):void 0,verifyingKey:e.get("verifying-key")})}}class ao{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"next-round",valueSchema:new f(new b),omitEmpty:!0},{key:"online-total-weight",valueSchema:new f(new b),omitEmpty:!0},{key:"type",valueSchema:new f(new b),omitEmpty:!0},{key:"voters-commitment",valueSchema:new f(new Me),omitEmpty:!0})),this.encodingSchemaValue}constructor({nextRound:e,onlineTotalWeight:t,type:r,votersCommitment:i}){this.nextRound=typeof e>"u"?void 0:oe(e),this.onlineTotalWeight=typeof t>"u"?void 0:oe(t),this.type=typeof r>"u"?void 0:De(r),this.votersCommitment=typeof i=="string"?_e(i):i}getEncodingSchema(){return ao.encodingSchema}toEncodingData(){return new Map([["next-round",this.nextRound],["online-total-weight",this.onlineTotalWeight],["type",this.type],["voters-commitment",this.votersCommitment]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofTracking: ${e}`);return new ao({nextRound:e.get("next-round"),onlineTotalWeight:e.get("online-total-weight"),type:e.get("type"),votersCommitment:e.get("voters-commitment")})}}class co{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"commitment",valueSchema:new f(new Me),omitEmpty:!0},{key:"key-lifetime",valueSchema:new f(new b),omitEmpty:!0})),this.encodingSchemaValue}constructor({commitment:e,keyLifetime:t}){this.commitment=typeof e=="string"?_e(e):e,this.keyLifetime=typeof t>"u"?void 0:oe(t)}getEncodingSchema(){return co.encodingSchema}toEncodingData(){return new Map([["commitment",this.commitment],["key-lifetime",this.keyLifetime]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofVerifier: ${e}`);return new co({commitment:e.get("commitment"),keyLifetime:e.get("key-lifetime")})}}class er{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"num-byte-slice",valueSchema:new b,omitEmpty:!0},{key:"num-uint",valueSchema:new b,omitEmpty:!0})),this.encodingSchemaValue}constructor({numByteSlice:e,numUint:t}){this.numByteSlice=De(e),this.numUint=De(t)}getEncodingSchema(){return er.encodingSchema}toEncodingData(){return new Map([["num-byte-slice",this.numByteSlice],["num-uint",this.numUint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateSchema: ${e}`);return new er({numByteSlice:e.get("num-byte-slice"),numUint:e.get("num-uint")})}}class gr{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new Me,omitEmpty:!0},{key:"value",valueSchema:ho.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:e,value:t}){this.key=typeof e=="string"?_e(e):e,this.value=t}getEncodingSchema(){return gr.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TealKeyValue: ${e}`);return new gr({key:e.get("key"),value:ho.fromEncodingData(e.get("value")??new Map)})}}class ho{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"bytes",valueSchema:new Me,omitEmpty:!0},{key:"type",valueSchema:new b,omitEmpty:!0},{key:"uint",valueSchema:new b,omitEmpty:!0})),this.encodingSchemaValue}constructor({bytes:e,type:t,uint:r}){this.bytes=typeof e=="string"?_e(e):e,this.type=De(t),this.uint=oe(r)}getEncodingSchema(){return ho.encodingSchema}toEncodingData(){return new Map([["bytes",this.bytes],["type",this.type],["uint",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TealValue: ${e}`);return new ho({bytes:e.get("bytes"),type:e.get("type"),uint:e.get("uint")})}}class wn{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"fee",valueSchema:new b,omitEmpty:!0},{key:"first-valid",valueSchema:new b,omitEmpty:!0},{key:"last-valid",valueSchema:new b,omitEmpty:!0},{key:"sender",valueSchema:new de,omitEmpty:!0},{key:"application-transaction",valueSchema:new f(uo.encodingSchema),omitEmpty:!0},{key:"asset-config-transaction",valueSchema:new f(lo.encodingSchema),omitEmpty:!0},{key:"asset-freeze-transaction",valueSchema:new f(fo.encodingSchema),omitEmpty:!0},{key:"asset-transfer-transaction",valueSchema:new f(go.encodingSchema),omitEmpty:!0},{key:"auth-addr",valueSchema:new f(new de),omitEmpty:!0},{key:"close-rewards",valueSchema:new f(new b),omitEmpty:!0},{key:"closing-amount",valueSchema:new f(new b),omitEmpty:!0},{key:"confirmed-round",valueSchema:new f(new b),omitEmpty:!0},{key:"created-application-index",valueSchema:new f(new b),omitEmpty:!0},{key:"created-asset-index",valueSchema:new f(new b),omitEmpty:!0},{key:"genesis-hash",valueSchema:new f(new Me),omitEmpty:!0},{key:"genesis-id",valueSchema:new f(new de),omitEmpty:!0},{key:"global-state-delta",valueSchema:new f(new Ee(fr.encodingSchema)),omitEmpty:!0},{key:"group",valueSchema:new f(new Me),omitEmpty:!0},{key:"heartbeat-transaction",valueSchema:new f(mo.encodingSchema),omitEmpty:!0},{key:"id",valueSchema:new f(new de),omitEmpty:!0},{key:"inner-txns",valueSchema:new f(new Ee(wn.encodingSchema)),omitEmpty:!0},{key:"intra-round-offset",valueSchema:new f(new b),omitEmpty:!0},{key:"keyreg-transaction",valueSchema:new f(po.encodingSchema),omitEmpty:!0},{key:"lease",valueSchema:new f(new Me),omitEmpty:!0},{key:"local-state-delta",valueSchema:new f(new Ee(Li.encodingSchema)),omitEmpty:!0},{key:"logs",valueSchema:new f(new Ee(new Me)),omitEmpty:!0},{key:"note",valueSchema:new f(new Me),omitEmpty:!0},{key:"payment-transaction",valueSchema:new f(yo.encodingSchema),omitEmpty:!0},{key:"receiver-rewards",valueSchema:new f(new b),omitEmpty:!0},{key:"rekey-to",valueSchema:new f(new de),omitEmpty:!0},{key:"round-time",valueSchema:new f(new b),omitEmpty:!0},{key:"sender-rewards",valueSchema:new f(new b),omitEmpty:!0},{key:"signature",valueSchema:new f(wo.encodingSchema),omitEmpty:!0},{key:"state-proof-transaction",valueSchema:new f(Eo.encodingSchema),omitEmpty:!0},{key:"tx-type",valueSchema:new f(new de),omitEmpty:!0})),this.encodingSchemaValue}constructor({fee:e,firstValid:t,lastValid:r,sender:i,applicationTransaction:o,assetConfigTransaction:h,assetFreezeTransaction:v,assetTransferTransaction:V,authAddr:p,closeRewards:C,closingAmount:J,confirmedRound:Z,createdApplicationIndex:he,createdAssetIndex:ne,genesisHash:le,genesisId:k,globalStateDelta:P,group:N,heartbeatTransaction:G,id:fe,innerTxns:ve,intraRoundOffset:D,keyregTransaction:Q,lease:Y,localStateDelta:me,logs:y,note:s,paymentTransaction:u,receiverRewards:d,rekeyTo:S,roundTime:A,senderRewards:_,signature:L,stateProofTransaction:I,txType:c}){this.fee=oe(e),this.firstValid=oe(t),this.lastValid=oe(r),this.sender=i,this.applicationTransaction=o,this.assetConfigTransaction=h,this.assetFreezeTransaction=v,this.assetTransferTransaction=V,this.authAddr=typeof p=="string"?rt.fromString(p):p,this.closeRewards=typeof C>"u"?void 0:oe(C),this.closingAmount=typeof J>"u"?void 0:oe(J),this.confirmedRound=typeof Z>"u"?void 0:oe(Z),this.createdApplicationIndex=typeof he>"u"?void 0:oe(he),this.createdAssetIndex=typeof ne>"u"?void 0:oe(ne),this.genesisHash=typeof le=="string"?_e(le):le,this.genesisId=k,this.globalStateDelta=P,this.group=typeof N=="string"?_e(N):N,this.heartbeatTransaction=G,this.id=fe,this.innerTxns=ve,this.intraRoundOffset=typeof D>"u"?void 0:De(D),this.keyregTransaction=Q,this.lease=typeof Y=="string"?_e(Y):Y,this.localStateDelta=me,this.logs=y,this.note=typeof s=="string"?_e(s):s,this.paymentTransaction=u,this.receiverRewards=typeof d>"u"?void 0:oe(d),this.rekeyTo=typeof S=="string"?rt.fromString(S):S,this.roundTime=typeof A>"u"?void 0:De(A),this.senderRewards=typeof _>"u"?void 0:oe(_),this.signature=L,this.stateProofTransaction=I,this.txType=c}getEncodingSchema(){return wn.encodingSchema}toEncodingData(){return new Map([["fee",this.fee],["first-valid",this.firstValid],["last-valid",this.lastValid],["sender",this.sender],["application-transaction",typeof this.applicationTransaction<"u"?this.applicationTransaction.toEncodingData():void 0],["asset-config-transaction",typeof this.assetConfigTransaction<"u"?this.assetConfigTransaction.toEncodingData():void 0],["asset-freeze-transaction",typeof this.assetFreezeTransaction<"u"?this.assetFreezeTransaction.toEncodingData():void 0],["asset-transfer-transaction",typeof this.assetTransferTransaction<"u"?this.assetTransferTransaction.toEncodingData():void 0],["auth-addr",typeof this.authAddr<"u"?this.authAddr.toString():void 0],["close-rewards",this.closeRewards],["closing-amount",this.closingAmount],["confirmed-round",this.confirmedRound],["created-application-index",this.createdApplicationIndex],["created-asset-index",this.createdAssetIndex],["genesis-hash",this.genesisHash],["genesis-id",this.genesisId],["global-state-delta",typeof this.globalStateDelta<"u"?this.globalStateDelta.map(e=>e.toEncodingData()):void 0],["group",this.group],["heartbeat-transaction",typeof this.heartbeatTransaction<"u"?this.heartbeatTransaction.toEncodingData():void 0],["id",this.id],["inner-txns",typeof this.innerTxns<"u"?this.innerTxns.map(e=>e.toEncodingData()):void 0],["intra-round-offset",this.intraRoundOffset],["keyreg-transaction",typeof this.keyregTransaction<"u"?this.keyregTransaction.toEncodingData():void 0],["lease",this.lease],["local-state-delta",typeof this.localStateDelta<"u"?this.localStateDelta.map(e=>e.toEncodingData()):void 0],["logs",this.logs],["note",this.note],["payment-transaction",typeof this.paymentTransaction<"u"?this.paymentTransaction.toEncodingData():void 0],["receiver-rewards",this.receiverRewards],["rekey-to",typeof this.rekeyTo<"u"?this.rekeyTo.toString():void 0],["round-time",this.roundTime],["sender-rewards",this.senderRewards],["signature",typeof this.signature<"u"?this.signature.toEncodingData():void 0],["state-proof-transaction",typeof this.stateProofTransaction<"u"?this.stateProofTransaction.toEncodingData():void 0],["tx-type",this.txType]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Transaction: ${e}`);return new wn({fee:e.get("fee"),firstValid:e.get("first-valid"),lastValid:e.get("last-valid"),sender:e.get("sender"),applicationTransaction:typeof e.get("application-transaction")<"u"?uo.fromEncodingData(e.get("application-transaction")):void 0,assetConfigTransaction:typeof e.get("asset-config-transaction")<"u"?lo.fromEncodingData(e.get("asset-config-transaction")):void 0,assetFreezeTransaction:typeof e.get("asset-freeze-transaction")<"u"?fo.fromEncodingData(e.get("asset-freeze-transaction")):void 0,assetTransferTransaction:typeof e.get("asset-transfer-transaction")<"u"?go.fromEncodingData(e.get("asset-transfer-transaction")):void 0,authAddr:e.get("auth-addr"),closeRewards:e.get("close-rewards"),closingAmount:e.get("closing-amount"),confirmedRound:e.get("confirmed-round"),createdApplicationIndex:e.get("created-application-index"),createdAssetIndex:e.get("created-asset-index"),genesisHash:e.get("genesis-hash"),genesisId:e.get("genesis-id"),globalStateDelta:typeof e.get("global-state-delta")<"u"?e.get("global-state-delta").map(t=>fr.fromEncodingData(t)):void 0,group:e.get("group"),heartbeatTransaction:typeof e.get("heartbeat-transaction")<"u"?mo.fromEncodingData(e.get("heartbeat-transaction")):void 0,id:e.get("id"),innerTxns:typeof e.get("inner-txns")<"u"?e.get("inner-txns").map(t=>wn.fromEncodingData(t)):void 0,intraRoundOffset:e.get("intra-round-offset"),keyregTransaction:typeof e.get("keyreg-transaction")<"u"?po.fromEncodingData(e.get("keyreg-transaction")):void 0,lease:e.get("lease"),localStateDelta:typeof e.get("local-state-delta")<"u"?e.get("local-state-delta").map(t=>Li.fromEncodingData(t)):void 0,logs:e.get("logs"),note:e.get("note"),paymentTransaction:typeof e.get("payment-transaction")<"u"?yo.fromEncodingData(e.get("payment-transaction")):void 0,receiverRewards:e.get("receiver-rewards"),rekeyTo:e.get("rekey-to"),roundTime:e.get("round-time"),senderRewards:e.get("sender-rewards"),signature:typeof e.get("signature")<"u"?wo.fromEncodingData(e.get("signature")):void 0,stateProofTransaction:typeof e.get("state-proof-transaction")<"u"?Eo.fromEncodingData(e.get("state-proof-transaction")):void 0,txType:e.get("tx-type")})}}class uo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"application-id",valueSchema:new b,omitEmpty:!0},{key:"accounts",valueSchema:new f(new Ee(new de)),omitEmpty:!0},{key:"application-args",valueSchema:new f(new Ee(new Me)),omitEmpty:!0},{key:"approval-program",valueSchema:new f(new Me),omitEmpty:!0},{key:"box-references",valueSchema:new f(new Ee(Ji.encodingSchema)),omitEmpty:!0},{key:"clear-state-program",valueSchema:new f(new Me),omitEmpty:!0},{key:"extra-program-pages",valueSchema:new f(new b),omitEmpty:!0},{key:"foreign-apps",valueSchema:new f(new Ee(new b)),omitEmpty:!0},{key:"foreign-assets",valueSchema:new f(new Ee(new b)),omitEmpty:!0},{key:"global-state-schema",valueSchema:new f(er.encodingSchema),omitEmpty:!0},{key:"local-state-schema",valueSchema:new f(er.encodingSchema),omitEmpty:!0},{key:"on-completion",valueSchema:new f(new de),omitEmpty:!0},{key:"reject-version",valueSchema:new f(new b),omitEmpty:!0})),this.encodingSchemaValue}constructor({applicationId:e,accounts:t,applicationArgs:r,approvalProgram:i,boxReferences:o,clearStateProgram:h,extraProgramPages:v,foreignApps:V,foreignAssets:p,globalStateSchema:C,localStateSchema:J,onCompletion:Z,rejectVersion:he}){this.applicationId=oe(e),this.accounts=typeof t<"u"?t.map(ne=>typeof ne=="string"?rt.fromString(ne):ne):void 0,this.applicationArgs=r,this.approvalProgram=typeof i=="string"?_e(i):i,this.boxReferences=o,this.clearStateProgram=typeof h=="string"?_e(h):h,this.extraProgramPages=typeof v>"u"?void 0:De(v),this.foreignApps=typeof V>"u"?void 0:V.map(oe),this.foreignAssets=typeof p>"u"?void 0:p.map(oe),this.globalStateSchema=C,this.localStateSchema=J,this.onCompletion=Z,this.rejectVersion=typeof he>"u"?void 0:De(he)}getEncodingSchema(){return uo.encodingSchema}toEncodingData(){return new Map([["application-id",this.applicationId],["accounts",typeof this.accounts<"u"?this.accounts.map(e=>e.toString()):void 0],["application-args",this.applicationArgs],["approval-program",this.approvalProgram],["box-references",typeof this.boxReferences<"u"?this.boxReferences.map(e=>e.toEncodingData()):void 0],["clear-state-program",this.clearStateProgram],["extra-program-pages",this.extraProgramPages],["foreign-apps",this.foreignApps],["foreign-assets",this.foreignAssets],["global-state-schema",typeof this.globalStateSchema<"u"?this.globalStateSchema.toEncodingData():void 0],["local-state-schema",typeof this.localStateSchema<"u"?this.localStateSchema.toEncodingData():void 0],["on-completion",this.onCompletion],["reject-version",this.rejectVersion]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionApplication: ${e}`);return new uo({applicationId:e.get("application-id"),accounts:e.get("accounts"),applicationArgs:e.get("application-args"),approvalProgram:e.get("approval-program"),boxReferences:typeof e.get("box-references")<"u"?e.get("box-references").map(t=>Ji.fromEncodingData(t)):void 0,clearStateProgram:e.get("clear-state-program"),extraProgramPages:e.get("extra-program-pages"),foreignApps:e.get("foreign-apps"),foreignAssets:e.get("foreign-assets"),globalStateSchema:typeof e.get("global-state-schema")<"u"?er.fromEncodingData(e.get("global-state-schema")):void 0,localStateSchema:typeof e.get("local-state-schema")<"u"?er.fromEncodingData(e.get("local-state-schema")):void 0,onCompletion:e.get("on-completion"),rejectVersion:e.get("reject-version")})}}class lo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"asset-id",valueSchema:new f(new b),omitEmpty:!0},{key:"params",valueSchema:new f(dr.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({assetId:e,params:t}){this.assetId=typeof e>"u"?void 0:oe(e),this.params=t}getEncodingSchema(){return lo.encodingSchema}toEncodingData(){return new Map([["asset-id",this.assetId],["params",typeof this.params<"u"?this.params.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionAssetConfig: ${e}`);return new lo({assetId:e.get("asset-id"),params:typeof e.get("params")<"u"?dr.fromEncodingData(e.get("params")):void 0})}}class fo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new de,omitEmpty:!0},{key:"asset-id",valueSchema:new b,omitEmpty:!0},{key:"new-freeze-status",valueSchema:new ht,omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,assetId:t,newFreezeStatus:r}){this.address=e,this.assetId=oe(t),this.newFreezeStatus=r}getEncodingSchema(){return fo.encodingSchema}toEncodingData(){return new Map([["address",this.address],["asset-id",this.assetId],["new-freeze-status",this.newFreezeStatus]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionAssetFreeze: ${e}`);return new fo({address:e.get("address"),assetId:e.get("asset-id"),newFreezeStatus:e.get("new-freeze-status")})}}class go{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"amount",valueSchema:new b,omitEmpty:!0},{key:"asset-id",valueSchema:new b,omitEmpty:!0},{key:"receiver",valueSchema:new de,omitEmpty:!0},{key:"close-amount",valueSchema:new f(new b),omitEmpty:!0},{key:"close-to",valueSchema:new f(new de),omitEmpty:!0},{key:"sender",valueSchema:new f(new de),omitEmpty:!0})),this.encodingSchemaValue}constructor({amount:e,assetId:t,receiver:r,closeAmount:i,closeTo:o,sender:h}){this.amount=oe(e),this.assetId=oe(t),this.receiver=r,this.closeAmount=typeof i>"u"?void 0:oe(i),this.closeTo=o,this.sender=h}getEncodingSchema(){return go.encodingSchema}toEncodingData(){return new Map([["amount",this.amount],["asset-id",this.assetId],["receiver",this.receiver],["close-amount",this.closeAmount],["close-to",this.closeTo],["sender",this.sender]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionAssetTransfer: ${e}`);return new go({amount:e.get("amount"),assetId:e.get("asset-id"),receiver:e.get("receiver"),closeAmount:e.get("close-amount"),closeTo:e.get("close-to"),sender:e.get("sender")})}}class mo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"hb-address",valueSchema:new de,omitEmpty:!0},{key:"hb-key-dilution",valueSchema:new b,omitEmpty:!0},{key:"hb-proof",valueSchema:Zi.encodingSchema,omitEmpty:!0},{key:"hb-seed",valueSchema:new Me,omitEmpty:!0},{key:"hb-vote-id",valueSchema:new Me,omitEmpty:!0})),this.encodingSchemaValue}constructor({hbAddress:e,hbKeyDilution:t,hbProof:r,hbSeed:i,hbVoteId:o}){this.hbAddress=e,this.hbKeyDilution=oe(t),this.hbProof=r,this.hbSeed=typeof i=="string"?_e(i):i,this.hbVoteId=typeof o=="string"?_e(o):o}getEncodingSchema(){return mo.encodingSchema}toEncodingData(){return new Map([["hb-address",this.hbAddress],["hb-key-dilution",this.hbKeyDilution],["hb-proof",this.hbProof.toEncodingData()],["hb-seed",this.hbSeed],["hb-vote-id",this.hbVoteId]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionHeartbeat: ${e}`);return new mo({hbAddress:e.get("hb-address"),hbKeyDilution:e.get("hb-key-dilution"),hbProof:Zi.fromEncodingData(e.get("hb-proof")??new Map),hbSeed:e.get("hb-seed"),hbVoteId:e.get("hb-vote-id")})}}class po{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"non-participation",valueSchema:new f(new ht),omitEmpty:!0},{key:"selection-participation-key",valueSchema:new f(new Me),omitEmpty:!0},{key:"state-proof-key",valueSchema:new f(new Me),omitEmpty:!0},{key:"vote-first-valid",valueSchema:new f(new b),omitEmpty:!0},{key:"vote-key-dilution",valueSchema:new f(new b),omitEmpty:!0},{key:"vote-last-valid",valueSchema:new f(new b),omitEmpty:!0},{key:"vote-participation-key",valueSchema:new f(new Me),omitEmpty:!0})),this.encodingSchemaValue}constructor({nonParticipation:e,selectionParticipationKey:t,stateProofKey:r,voteFirstValid:i,voteKeyDilution:o,voteLastValid:h,voteParticipationKey:v}){this.nonParticipation=e,this.selectionParticipationKey=typeof t=="string"?_e(t):t,this.stateProofKey=typeof r=="string"?_e(r):r,this.voteFirstValid=typeof i>"u"?void 0:oe(i),this.voteKeyDilution=typeof o>"u"?void 0:oe(o),this.voteLastValid=typeof h>"u"?void 0:oe(h),this.voteParticipationKey=typeof v=="string"?_e(v):v}getEncodingSchema(){return po.encodingSchema}toEncodingData(){return new Map([["non-participation",this.nonParticipation],["selection-participation-key",this.selectionParticipationKey],["state-proof-key",this.stateProofKey],["vote-first-valid",this.voteFirstValid],["vote-key-dilution",this.voteKeyDilution],["vote-last-valid",this.voteLastValid],["vote-participation-key",this.voteParticipationKey]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionKeyreg: ${e}`);return new po({nonParticipation:e.get("non-participation"),selectionParticipationKey:e.get("selection-participation-key"),stateProofKey:e.get("state-proof-key"),voteFirstValid:e.get("vote-first-valid"),voteKeyDilution:e.get("vote-key-dilution"),voteLastValid:e.get("vote-last-valid"),voteParticipationKey:e.get("vote-participation-key")})}}class yo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"amount",valueSchema:new b,omitEmpty:!0},{key:"receiver",valueSchema:new de,omitEmpty:!0},{key:"close-amount",valueSchema:new f(new b),omitEmpty:!0},{key:"close-remainder-to",valueSchema:new f(new de),omitEmpty:!0})),this.encodingSchemaValue}constructor({amount:e,receiver:t,closeAmount:r,closeRemainderTo:i}){this.amount=oe(e),this.receiver=t,this.closeAmount=typeof r>"u"?void 0:oe(r),this.closeRemainderTo=i}getEncodingSchema(){return yo.encodingSchema}toEncodingData(){return new Map([["amount",this.amount],["receiver",this.receiver],["close-amount",this.closeAmount],["close-remainder-to",this.closeRemainderTo]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionPayment: ${e}`);return new yo({amount:e.get("amount"),receiver:e.get("receiver"),closeAmount:e.get("close-amount"),closeRemainderTo:e.get("close-remainder-to")})}}class Es{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"current-round",valueSchema:new b,omitEmpty:!0},{key:"transaction",valueSchema:wn.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({currentRound:e,transaction:t}){this.currentRound=oe(e),this.transaction=t}getEncodingSchema(){return Es.encodingSchema}toEncodingData(){return new Map([["current-round",this.currentRound],["transaction",this.transaction.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionResponse: ${e}`);return new Es({currentRound:e.get("current-round"),transaction:wn.fromEncodingData(e.get("transaction")??new Map)})}}class wo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"logicsig",valueSchema:new f(vo.encodingSchema),omitEmpty:!0},{key:"multisig",valueSchema:new f(mr.encodingSchema),omitEmpty:!0},{key:"sig",valueSchema:new f(new Me),omitEmpty:!0})),this.encodingSchemaValue}constructor({logicsig:e,multisig:t,sig:r}){this.logicsig=e,this.multisig=t,this.sig=typeof r=="string"?_e(r):r}getEncodingSchema(){return wo.encodingSchema}toEncodingData(){return new Map([["logicsig",typeof this.logicsig<"u"?this.logicsig.toEncodingData():void 0],["multisig",typeof this.multisig<"u"?this.multisig.toEncodingData():void 0],["sig",this.sig]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionSignature: ${e}`);return new wo({logicsig:typeof e.get("logicsig")<"u"?vo.fromEncodingData(e.get("logicsig")):void 0,multisig:typeof e.get("multisig")<"u"?mr.fromEncodingData(e.get("multisig")):void 0,sig:e.get("sig")})}}class vo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"logic",valueSchema:new Me,omitEmpty:!0},{key:"args",valueSchema:new f(new Ee(new Me)),omitEmpty:!0},{key:"multisig-signature",valueSchema:new f(mr.encodingSchema),omitEmpty:!0},{key:"signature",valueSchema:new f(new Me),omitEmpty:!0})),this.encodingSchemaValue}constructor({logic:e,args:t,multisigSignature:r,signature:i}){this.logic=typeof e=="string"?_e(e):e,this.args=t,this.multisigSignature=r,this.signature=typeof i=="string"?_e(i):i}getEncodingSchema(){return vo.encodingSchema}toEncodingData(){return new Map([["logic",this.logic],["args",this.args],["multisig-signature",typeof this.multisigSignature<"u"?this.multisigSignature.toEncodingData():void 0],["signature",this.signature]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionSignatureLogicsig: ${e}`);return new vo({logic:e.get("logic"),args:e.get("args"),multisigSignature:typeof e.get("multisig-signature")<"u"?mr.fromEncodingData(e.get("multisig-signature")):void 0,signature:e.get("signature")})}}class mr{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"subsignature",valueSchema:new f(new Ee(So.encodingSchema)),omitEmpty:!0},{key:"threshold",valueSchema:new f(new b),omitEmpty:!0},{key:"version",valueSchema:new f(new b),omitEmpty:!0})),this.encodingSchemaValue}constructor({subsignature:e,threshold:t,version:r}){this.subsignature=e,this.threshold=typeof t>"u"?void 0:De(t),this.version=typeof r>"u"?void 0:De(r)}getEncodingSchema(){return mr.encodingSchema}toEncodingData(){return new Map([["subsignature",typeof this.subsignature<"u"?this.subsignature.map(e=>e.toEncodingData()):void 0],["threshold",this.threshold],["version",this.version]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionSignatureMultisig: ${e}`);return new mr({subsignature:typeof e.get("subsignature")<"u"?e.get("subsignature").map(t=>So.fromEncodingData(t)):void 0,threshold:e.get("threshold"),version:e.get("version")})}}class So{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"public-key",valueSchema:new f(new Me),omitEmpty:!0},{key:"signature",valueSchema:new f(new Me),omitEmpty:!0})),this.encodingSchemaValue}constructor({publicKey:e,signature:t}){this.publicKey=typeof e=="string"?_e(e):e,this.signature=typeof t=="string"?_e(t):t}getEncodingSchema(){return So.encodingSchema}toEncodingData(){return new Map([["public-key",this.publicKey],["signature",this.signature]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionSignatureMultisigSubsignature: ${e}`);return new So({publicKey:e.get("public-key"),signature:e.get("signature")})}}class Eo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"message",valueSchema:new f(Qi.encodingSchema),omitEmpty:!0},{key:"state-proof",valueSchema:new f(no.encodingSchema),omitEmpty:!0},{key:"state-proof-type",valueSchema:new f(new b),omitEmpty:!0})),this.encodingSchemaValue}constructor({message:e,stateProof:t,stateProofType:r}){this.message=e,this.stateProof=t,this.stateProofType=typeof r>"u"?void 0:De(r)}getEncodingSchema(){return Eo.encodingSchema}toEncodingData(){return new Map([["message",typeof this.message<"u"?this.message.toEncodingData():void 0],["state-proof",typeof this.stateProof<"u"?this.stateProof.toEncodingData():void 0],["state-proof-type",this.stateProofType]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionStateProof: ${e}`);return new Eo({message:typeof e.get("message")<"u"?Qi.fromEncodingData(e.get("message")):void 0,stateProof:typeof e.get("state-proof")<"u"?no.fromEncodingData(e.get("state-proof")):void 0,stateProofType:e.get("state-proof-type")})}}class si{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new z([]),this.encodingSchemaValue.pushEntries({key:"current-round",valueSchema:new b,omitEmpty:!0},{key:"transactions",valueSchema:new Ee(wn.encodingSchema),omitEmpty:!0},{key:"next-token",valueSchema:new f(new de),omitEmpty:!0})),this.encodingSchemaValue}constructor({currentRound:e,transactions:t,nextToken:r}){this.currentRound=oe(e),this.transactions=t,this.nextToken=r}getEncodingSchema(){return si.encodingSchema}toEncodingData(){return new Map([["current-round",this.currentRound],["transactions",this.transactions.map(e=>e.toEncodingData())],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionsResponse: ${e}`);return new si({currentRound:e.get("current-round"),transactions:(e.get("transactions")??[]).map(t=>wn.fromEncodingData(t)),nextToken:e.get("next-token")})}}const Jm=Object.freeze(Object.defineProperty({__proto__:null,Account:hr,AccountParticipation:$i,AccountResponse:hs,AccountStateDelta:Li,AccountsResponse:us,Application:Cn,ApplicationLocalState:ur,ApplicationLocalStatesResponse:ls,ApplicationLogData:Fi,ApplicationLogsResponse:ds,ApplicationParams:qi,ApplicationResponse:fs,ApplicationStateSchema:yn,ApplicationsResponse:zi,Asset:Nn,AssetBalancesResponse:gs,AssetHolding:lr,AssetHoldingsResponse:ms,AssetParams:dr,AssetResponse:ps,AssetsResponse:Hi,Block:oi,BlockHeadersResponse:ys,BlockRewards:Gi,BlockUpgradeState:Ki,BlockUpgradeVote:Wi,Box:ws,BoxDescriptor:ji,BoxReference:Ji,BoxesResponse:vs,ErrorResponse:$s,EvalDelta:Yi,EvalDeltaKeyValue:fr,HashFactory:Xi,HbProofFields:Zi,HealthCheck:Ss,IndexerStateProofMessage:Qi,MerkleArrayProof:_n,MiniAssetHolding:eo,ParticipationUpdates:to,StateProofFields:no,StateProofParticipant:ro,StateProofReveal:io,StateProofSigSlot:oo,StateProofSignature:so,StateProofTracking:ao,StateProofVerifier:co,StateSchema:er,TealKeyValue:gr,TealValue:ho,Transaction:wn,TransactionApplication:uo,TransactionAssetConfig:lo,TransactionAssetFreeze:fo,TransactionAssetTransfer:go,TransactionHeartbeat:mo,TransactionKeyreg:po,TransactionPayment:yo,TransactionResponse:Es,TransactionSignature:wo,TransactionSignatureLogicsig:vo,TransactionSignatureMultisig:mr,TransactionSignatureMultisigSubsignature:So,TransactionStateProof:Eo,TransactionsResponse:si},Symbol.toStringTag,{value:"Module"}));class Ym extends Ye{path(){return"/health"}prepare(e){return ft(e.getJSONText(),Ss)}}class Xm extends Ye{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/assets/${this.index}/balances`}limit(e){return this.query.limit=e,this}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}prepare(e){return ft(e.getJSONText(),gs)}}function Ls(n){return typeof n=="string"?n:nn(n)}class Zm extends Ye{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}/transactions`}notePrefix(e){return this.query["note-prefix"]=Ls(e),this}txType(e){return this.query["tx-type"]=e,this}sigType(e){return this.query["sig-type"]=e,this}txid(e){return this.query.txid=e,this}round(e){return this.query.round=e,this}minRound(e){return this.query["min-round"]=e,this}maxRound(e){return this.query["max-round"]=e,this}assetID(e){return this.query["asset-id"]=e,this}limit(e){return this.query.limit=e,this}beforeTime(e){return this.query["before-time"]=e instanceof Date?e.toISOString():e,this}afterTime(e){return this.query["after-time"]=e instanceof Date?e.toISOString():e,this}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}nextToken(e){return this.query.next=e,this}rekeyTo(e){return this.query["rekey-to"]=e,this}prepare(e){return ft(e.getJSONText(),si)}}class Qm extends Ye{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/assets/${this.index}/transactions`}notePrefix(e){return this.query["note-prefix"]=Ls(e),this}txType(e){return this.query["tx-type"]=e,this}sigType(e){return this.query["sig-type"]=e,this}txid(e){return this.query.txid=e,this}round(e){return this.query.round=e,this}minRound(e){return this.query["min-round"]=e,this}maxRound(e){return this.query["max-round"]=e,this}limit(e){return this.query.limit=e,this}beforeTime(e){return this.query["before-time"]=e instanceof Date?e.toISOString():e,this}afterTime(e){return this.query["after-time"]=e instanceof Date?e.toISOString():e,this}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}addressRole(e){return this.query["address-role"]=e,this}address(e){return this.query.address=e.toString(),this}excludeCloseTo(e){return this.query["exclude-close-to"]=e,this}nextToken(e){return this.query.next=e,this}rekeyTo(e){return this.query["rekey-to"]=e,this}prepare(e){return ft(e.getJSONText(),si)}}class ep extends Ye{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/blocks/${this.round}`}headerOnly(e){return this.query["header-only"]=e,this}prepare(e){return ft(e.getJSONText(),oi)}}class tp extends Ye{constructor(e,t){super(e),this.txID=t}path(){return`/v2/transactions/${this.txID}`}prepare(e){return ft(e.getJSONText(),Es)}}class np extends Ye{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}`}round(e){return this.query.round=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}exclude(e){return this.query.exclude=e,this}prepare(e){return ft(e.getJSONText(),hs)}}class rp extends Ye{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}/assets`}limit(e){return this.query.limit=e,this}round(e){return this.query.round=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}assetId(e){return this.query["asset-id"]=e,this}prepare(e){return ft(e.getJSONText(),ms)}}class ip extends Ye{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}/created-assets`}limit(e){return this.query.limit=e,this}round(e){return this.query.round=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}assetID(e){return this.query["asset-id"]=e,this}prepare(e){return ft(e.getJSONText(),Hi)}}class op extends Ye{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}/apps-local-state`}limit(e){return this.query.limit=e,this}round(e){return this.query.round=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}applicationID(e){return this.query["application-id"]=e,this}prepare(e){return ft(e.getJSONText(),ls)}}class sp extends Ye{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}/created-applications`}limit(e){return this.query.limit=e,this}round(e){return this.query.round=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}applicationID(e){return this.query["application-id"]=e,this}prepare(e){return ft(e.getJSONText(),zi)}}class ap extends Ye{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/assets/${this.index}`}includeAll(e=!0){return this.query["include-all"]=e,this}prepare(e){return ft(e.getJSONText(),ps)}}class cp extends Ye{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/applications/${this.index}`}includeAll(e=!0){return this.query["include-all"]=e,this}prepare(e){return ft(e.getJSONText(),fs)}}class hp extends Ye{constructor(e,t){super(e),this.appID=BigInt(t)}path(){return`/v2/applications/${this.appID}/logs`}limit(e){return this.query.limit=e,this}minRound(e){return this.query["min-round"]=e,this}maxRound(e){return this.query["max-round"]=e,this}nextToken(e){return this.query.next=e,this}sender(e){return this.query["sender-address"]=e,this}txid(e){return this.query.txid=e,this}prepare(e){return ft(e.getJSONText(),ds)}}class up extends Ye{constructor(e,t,r){super(e),this.index=BigInt(t);const i=nn(r);this.query.name=encodeURI(`b64:${i}`)}path(){return`/v2/applications/${this.index}/box`}prepare(e){return ft(e.getJSONText(),ws)}}class lp extends Ye{path(){return"/v2/accounts"}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}limit(e){return this.query.limit=e,this}assetID(e){return this.query["asset-id"]=e,this}nextToken(e){return this.query.next=e,this}round(e){return this.query.round=e,this}authAddr(e){return this.query["auth-addr"]=e.toString(),this}applicationID(e){return this.query["application-id"]=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}exclude(e){return this.query.exclude=e,this}onlineOnly(e){return this.query["online-only"]=e,this}prepare(e){return ft(e.getJSONText(),us)}}class dp extends Ye{path(){return"/v2/block-headers"}absent(e){return this.query.absent=e,this}afterTime(e){return this.query["after-time"]=e instanceof Date?e.toISOString():e,this}beforeTime(e){return this.query["before-time"]=e instanceof Date?e.toISOString():e,this}expired(e){return this.query.expired=e,this}limit(e){return this.query.limit=e,this}maxRound(e){return this.query["max-round"]=e,this}minRound(e){return this.query["min-round"]=e,this}nextToken(e){return this.query.next=e,this}proposers(e){return this.query.proposers=e,this}prepare(e){return ft(e.getJSONText(),ys)}}class fp extends Ye{path(){return"/v2/transactions"}notePrefix(e){return this.query["note-prefix"]=Ls(e),this}txType(e){return this.query["tx-type"]=e,this}sigType(e){return this.query["sig-type"]=e,this}txid(e){return this.query.txid=e,this}groupid(e){return this.query["group-id"]=Ls(e),this}round(e){return this.query.round=e,this}minRound(e){return this.query["min-round"]=e,this}maxRound(e){return this.query["max-round"]=e,this}assetID(e){return this.query["asset-id"]=e,this}limit(e){return this.query.limit=e,this}beforeTime(e){return this.query["before-time"]=e instanceof Date?e.toISOString():e,this}afterTime(e){return this.query["after-time"]=e instanceof Date?e.toISOString():e,this}addressRole(e){return this.query["address-role"]=e,this}address(e){return this.query.address=e.toString(),this}excludeCloseTo(e){return this.query["exclude-close-to"]=e,this}nextToken(e){return this.query.next=e,this}rekeyTo(e){return this.query["rekey-to"]=e,this}applicationID(e){return this.query["application-id"]=e,this}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}prepare(e){return ft(e.getJSONText(),si)}}class gp extends Ye{path(){return"/v2/assets"}limit(e){return this.query.limit=e,this}creator(e){return this.query.creator=e.toString(),this}name(e){return this.query.name=e,this}unit(e){return this.query.unit=e,this}index(e){return this.query["asset-id"]=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}prepare(e){return ft(e.getJSONText(),Hi)}}class mp extends Ye{path(){return"/v2/applications"}index(e){return this.query["application-id"]=e,this}creator(e){return this.query.creator=e.toString(),this}nextToken(e){return this.query.next=e,this}limit(e){return this.query.limit=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}prepare(e){return ft(e.getJSONText(),zi)}}class pp extends Ye{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/applications/${this.index}/boxes`}nextToken(e){return this.query.next=e,this}limit(e){return this.query.limit=e,this}prepare(e){return ft(e.getJSONText(),vs)}}class yp extends Rc{constructor(e,t="http://127.0.0.1",r=8080,i={}){super("X-Indexer-API-Token",e,t,r,i)}makeHealthCheck(){return new Ym(this.c)}lookupAssetBalances(e){return new Xm(this.c,e)}lookupAssetTransactions(e){return new Qm(this.c,e)}lookupAccountTransactions(e){return new Zm(this.c,e)}lookupBlock(e){return new ep(this.c,e)}lookupTransactionByID(e){return new tp(this.c,e)}lookupAccountByID(e){return new np(this.c,e)}lookupAccountAssets(e){return new rp(this.c,e)}lookupAccountCreatedAssets(e){return new ip(this.c,e)}lookupAccountAppLocalStates(e){return new op(this.c,e)}lookupAccountCreatedApplications(e){return new sp(this.c,e)}lookupAssetByID(e){return new ap(this.c,e)}lookupApplications(e){return new cp(this.c,e)}lookupApplicationLogs(e){return new hp(this.c,e)}searchAccounts(){return new lp(this.c)}searchForBlockHeaders(){return new dp(this.c)}searchForTransactions(){return new fp(this.c)}searchForAssets(){return new gp(this.c)}searchForApplications(){return new mp(this.c)}searchForApplicationBoxes(e){return new pp(this.c,e)}lookupApplicationBoxByIDandName(e,t){return new up(this.c,e,t)}}async function Tu(n,e,t){const r=await n.status().do();if(typeof r>"u")throw new Error("Unable to get node status");const i=r.lastRound+BigInt(1),o=i+BigInt(t);let h=i;for(;h<o;){let v=!1;try{const V=await n.pendingTransactionInformation(e).do();if(V.confirmedRound)return V;if(V.poolError)throw v=!0,new Error(`Transaction Rejected: ${V.poolError}`)}catch(V){if(v)throw V}await n.statusAfterBlock(h).do(),h+=BigInt(1)}throw new Error(`Transaction not confirmed after ${t} rounds`)}function ai(n,e){let t=n.toString(16);t.length!==e*2&&(t=t.padStart(e*2,"0"));const r=new Uint8Array(t.length/2);for(let i=0,o=0;i<t.length/2;i++,o+=2)r[i]=parseInt(t.slice(o,o+2),16);return r}function Cc(n){let e=BigInt(0);const t=new DataView(n.buffer,n.byteOffset);for(let r=0;r<n.length;r++)e=BigInt(Number(t.getUint8(r)))+e*BigInt(256);return e}function wp(){const n=Af();return{addr:new rt(n.publicKey),sk:n.secretKey}}const yc=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"],Sa="failed to decode mnemonic",vp="the mnemonic contains a word that is not in the wordlist";function Ru(n){const e=[];let t=0,r=0;function i(h){t|=h<<r,r+=8,r>=11&&(e.push(t&2047),t>>=11,r-=11)}function o(){r&&e.push(t)}return n.forEach(i),o(),e}function Vu(n){return n.map(e=>yc[e])}function _u(n){const e=zn(n),t=Ru(e);return Vu(t)[0]}function Nc(n){if(n.length!==Da)throw new RangeError(`Seed length must be ${Da}`);const e=Ru(n),t=Vu(e),r=_u(n);return`${t.join(" ")} ${r}`}function Sp(n){const e=[];let t=0,r=0;function i(h){for(t|=h<<r,r+=11;r>=8;)e.push(t&255),t>>=8,r-=8}function o(){r&&e.push(t)}return n.forEach(i),o(),new Uint8Array(e)}function Uc(n){const e=n.split(" "),t=e.slice(0,24);for(const v of t)if(yc.indexOf(v)===-1)throw new Error(vp);const r=e[e.length-1],i=t.map(v=>yc.indexOf(v));let o=Sp(i);if(o.length!==33)throw new Error(Sa);if(o[o.length-1]!==0)throw new Error(Sa);if(o=o.slice(0,o.length-1),_u(o)===r)return o;throw new Error(Sa)}function Ep(n){const e=Uc(n),t=Jh(e);return{addr:new rt(t.publicKey),sk:t.secretKey}}function xp(n){const e=n.slice(0,Da);return Nc(e)}function bp(n){return Uc(n)}function kp(n){return Nc(n)}const lh=16,Mp=new TextEncoder().encode("TG");function Ap(n){if(n.length>lh)throw new Error(`${n.length} transactions grouped together but max group size is ${lh}`);if(n.length===0)throw new Error("Cannot compute group ID of zero transactions");const e=bs({txlist:n});return en(Mp,e)}function Bu(n){const e=[];for(const i of n)e.push(i.rawTxID());const t=Ap(e),r=zn(t);return Uint8Array.from(r)}function Pu(n){const e=Bu(n);for(const t of n)t.group=e;return n}function Dp(n,e,t){if(!e.verify(t.publicKey))throw new Error("Logic signature verification failed. Ensure the program and signature are valid.");let r;Xh(t.publicKey,n.sender.publicKey)||(r=t);const i=new Ct({lsig:e,txn:n,sgnr:r});return{txID:n.txID(),blob:Sn(i)}}function $c(n,e){let t,r;if(e instanceof Er)t=e.lsig,r=e.address();else if(t=e,t.sig)r=new rt(n.sender.publicKey);else if(t.msig){const i={version:t.msig.v,threshold:t.msig.thr,pks:t.msig.subsig.map(o=>o.pk)};r=Vr(i)}else r=t.address();return Dp(n,t,r)}function Ip(n,e){return $c(n,e)}const Tp="Not enough multisig transactions to merge. Need at least two",Rp="Cannot merge txs. txIDs differ",Vp="Cannot merge txs. Auth addrs differ",dh="Cannot merge txs. Multisig preimages differ",_p="Cannot merge txs. subsigs are mismatched.",Bp="Cannot add multisig signature. Signature is not of the correct length.",Pp="Key does not exist";function Ou(n,{version:e,threshold:t,addrs:r}){const i=Ao(r),o=i.map(C=>({pk:C})),h={v:e,thr:t,subsig:o},v=Vr({version:e,threshold:t,pks:i});let V;n.sender.equals(v)||(V=v);const p=new Ct({txn:n,msig:h,sgnr:V});return Sn(p)}function Cu(n,{rawSig:e,myPk:t},{version:r,threshold:i,pks:o}){const h=Ou(n,{version:r,threshold:i,addrs:o.map(p=>new rt(p))}),v=Ht(h,Ct);let V=!1;if(v.msig.subsig.forEach((p,C)=>{Xh(p.pk,t)&&(V=!0,v.msig.subsig[C].s=e)}),!V)throw new Error(Pp);return Sn(v)}function Nu(n,{version:e,threshold:t,pks:r},i){const o=Ks(i).publicKey;return Cu(n,{rawSig:n.rawSignTxn(i),myPk:o},{version:e,threshold:t,pks:r})}function Op(n,e,t,r){if(!Yh(r.length))throw new Error(Bp);const i=typeof t=="string"?rt.fromString(t):t;return Cu(n,{rawSig:r,myPk:i.publicKey},e)}function ia(n){if(n.length<2)throw new Error(Tp);const e=Ht(n[0],Ct);if(!e.msig)throw new Error("Invalid multisig transaction, multisig structure missing at index 0");const t=e.txn.txID(),r=e.sgnr?e.sgnr.toString():void 0,i={version:e.msig.v,threshold:e.msig.thr,pks:e.msig.subsig.map(C=>C.pk)},o=Vr(i),h=e.msig.subsig.map(C=>({...C}));for(let C=1;C<n.length;C++){const J=Ht(n[C],Ct);if(!J.msig)throw new Error(`Invalid multisig transaction, multisig structure missing at index ${C}`);if(J.txn.txID()!==t)throw new Error(Rp);const Z=J.sgnr?J.sgnr.toString():void 0;if(r!==Z)throw new Error(Vp);if(J.msig.subsig.length!==e.msig.subsig.length)throw new Error(dh);const he={version:J.msig.v,threshold:J.msig.thr,pks:J.msig.subsig.map(le=>le.pk)},ne=Vr(he);if(!o.equals(ne))throw new Error(dh);J.msig.subsig.forEach((le,k)=>{if(!le.s)return;const P=h[k];if(P.s&&!Bn(le.s,P.s))throw new Error(_p);P.s=le.s})}const v={v:e.msig.v,thr:e.msig.thr,subsig:h},V=typeof r<"u"?e.sgnr:void 0,p=new Ct({msig:v,txn:e.txn,sgnr:V});return Sn(p)}function Uu(n,{version:e,threshold:t,addrs:r},i){const o=Ao(r),h=Nu(n,{version:e,threshold:t,pks:o},i);return{txID:n.txID(),blob:h}}function Cp(n,{version:e,threshold:t,addrs:r},i){const o=Ao(r),h=Ht(n,Ct),v=Nu(h.txn,{version:e,threshold:t,pks:o},i);return{txID:h.txn.txID(),blob:ia([n,v])}}function Np(n,{version:e,threshold:t,addrs:r},i,o){const h=Ao(r),v=Ht(n,Ct),V=Op(v.txn,{version:e,threshold:t,pks:h},i,o);return{txID:v.txn.txID(),blob:ia([n,V])}}let $u={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split("").forEach(function(n,e){$u[n]=e});function Up(n){let e=[],t=0,r=0;for(let i=0;i<n.length;i+=1){let o=$u[n[i]];if(o===void 0)throw new Error("Invalid character ("+n[i]+")");const h=o&32;if(o&=31,r+=o<<t,h)t+=5;else{const v=r&1;r>>>=1,v?e.push(r===0?-2147483648:-r):e.push(r),r=t=0}}return e}class $p{constructor({version:e,sources:t,names:r,mappings:i}){if(this.version=e,this.sources=t,this.names=r,this.mappings=i,this.version!==3)throw new Error(`Only version 3 is supported, got ${this.version}`);if(this.mappings===void 0)throw new Error("mapping undefined, cannot build source map without `mapping`");const o=this.mappings.split(";").map(Up);this.pcToLocation=new Map,this.sourceAndLineToPc=new Map;const h={line:0,column:0,sourceIndex:0,nameIndex:0};for(const[v,V]of o.entries()){if(V.length<4)continue;const p=V.length>4?V[4]:void 0,[,C,J,Z]=V;h.sourceIndex+=C,h.line+=J,h.column+=Z,typeof p<"u"&&(h.nameIndex+=p);const he=`${h.sourceIndex}:${h.line}`;let ne=this.sourceAndLineToPc.get(he);ne===void 0&&(ne=[],this.sourceAndLineToPc.set(he,ne));const le={pc:v,column:h.column},k={line:h.line,column:h.column,sourceIndex:h.sourceIndex};typeof p<"u"&&(le.nameIndex=h.nameIndex,k.nameIndex=h.nameIndex),ne.push(le),this.pcToLocation.set(v,k)}}getPcs(){return Array.from(this.pcToLocation.keys())}getLocationForPc(e){return this.pcToLocation.get(e)}getPcsOnSourceLine(e,t){const r=this.sourceAndLineToPc.get(`${e}:${t}`);return r===void 0?[]:r}}const Lp=1380011588,Lc=30;async function Fp({client:n,txns:e,protocolVersion:t,latestTimestamp:r,round:i,sources:o}){const h=[],v=[],V=[],p=[],C=[];for(const ne of e)if(ne.txn.type===Dt.appl)if(C.push(ne.txn.sender.toString()),C.push(...ne.txn.applicationCall.accounts.map(le=>le.toString())),V.push(...ne.txn.applicationCall.foreignApps),C.push(...ne.txn.applicationCall.foreignApps.map(Ia).map(le=>le.toString())),p.push(...ne.txn.applicationCall.foreignAssets),ne.txn.applicationCall.appIndex===BigInt(0))h.push(new ti({id:Lp,params:new Ei({creator:ne.txn.sender.toString(),approvalProgram:ne.txn.applicationCall.approvalProgram,clearStateProgram:ne.txn.applicationCall.clearProgram,localStateSchema:new kn({numUint:ne.txn.applicationCall.numLocalInts,numByteSlice:ne.txn.applicationCall.numLocalByteSlices}),globalStateSchema:new kn({numUint:ne.txn.applicationCall.numGlobalInts,numByteSlice:ne.txn.applicationCall.numGlobalByteSlices})})}));else{const{appIndex:le}=ne.txn.applicationCall;V.push(le),C.push(Ia(le).toString())}const J=[];for(const ne of new Set(p))J.push(n.getAssetByID(ne).do().then(le=>{C.push(le.params.creator)}));await Promise.all(J);const Z=[];for(const ne of new Set(V))Z.push(n.getApplicationByID(ne).do().then(le=>{h.push(le),C.push(le.params.creator.toString())}));await Promise.all(Z);const he=[];for(const ne of new Set(C))he.push(n.accountInformation(ne).do().then(le=>{v.push(le)}));return await Promise.all(he),new Xo({txns:e.slice(),accounts:v,apps:h,latestTimestamp:r??0,round:i??0,protocolVersion:t??"",sources:o??[]})}function Ea(n,e){return n.length>e&&e>0?`${n.slice(0,e)}...`:n}function qp(n,e){if(e.length===0)return"";let t=null;for(let i=0;i<e.length;i++){if(i>n.length){t=i;continue}kr(n[i])!==kr(e[i])&&(t=i)}if(t==null)return"";const r=e[t];return r.bytes.length>0?`${t} = 0x${Ys(r.bytes)}`:`${t} = ${r.uint.toString()}`}function zp(n,e){return`[${(e?n.reverse():n).map(r=>{switch(r.type){case 1:return`0x${Ys(r.bytes)}`;case 2:return r.uint.toString();default:return""}}).join(", ")}]`}function Lu(n,e,t){const r=t.maxValueWidth||Lc,i=[["pc#","ln#","source","scratch","stack"]];for(let h=0;h<n.length;h++){const{line:v,error:V,pc:p,scratch:C,stack:J}=n[h],Z=C!==void 0?C:[],he=h>0&&n[h-1].scratch!==void 0?n[h-1].scratch:[],ne=V?`!! ${V} !!`:e[v];i.push([p.toString().padEnd(3," "),v.toString().padEnd(3," "),Ea(ne,r),Ea(qp(he,Z),r),Ea(zp(J,t.topOfStackFirst),r)])}const o=i.reduce((h,v)=>{const V=new Array(i[0].length).fill(0);for(let p=0;p<h.length;p++)V[p]=v[p].length>h[p]?v[p].length:h[p];return V},new Array(i[0].length).fill(0));return`${i.map(h=>h.map((v,V)=>v.padEnd(o[V]+1," ")).join("|").trim()).join(`
`)}
`}function Hp(n,e){if(!n.appCallTrace||!n.disassembly)return"";let t=e;return e!==void 0?t=e:t={maxValueWidth:Lc,topOfStackFirst:!1},Lu(n.appCallTrace,n.disassembly,t)}function Gp(n,e){if(!n.logicSigTrace||!n.logicSigDisassembly)return"";let t;return e!==void 0?t=e:t={maxValueWidth:Lc,topOfStackFirst:!0},Lu(n.logicSigTrace,n.logicSigDisassembly,t)}function Kp({sender:n,receiver:e,amount:t,closeRemainderTo:r,suggestedParams:i,note:o,lease:h,rekeyTo:v}){return new En({type:Dt.pay,sender:n,note:o,lease:h,rekeyTo:v,suggestedParams:i,paymentParams:{receiver:e,amount:t,closeRemainderTo:r}})}function Wp({sender:n,voteKey:e,selectionKey:t,stateProofKey:r,voteFirst:i,voteLast:o,voteKeyDilution:h,nonParticipation:v,suggestedParams:V,note:p,lease:C,rekeyTo:J}){return new En({type:Dt.keyreg,sender:n,note:p,lease:C,rekeyTo:J,suggestedParams:V,keyregParams:{voteKey:e,selectionKey:t,stateProofKey:r,voteFirst:i,voteLast:o,voteKeyDilution:h,nonParticipation:v}})}function oa({sender:n,assetIndex:e,total:t,decimals:r,defaultFrozen:i,manager:o,reserve:h,freeze:v,clawback:V,unitName:p,assetName:C,assetURL:J,assetMetadataHash:Z,note:he,lease:ne,rekeyTo:le,suggestedParams:k}){return new En({type:Dt.acfg,sender:n,note:he,lease:ne,rekeyTo:le,suggestedParams:k,assetConfigParams:{assetIndex:e,total:t,decimals:r,defaultFrozen:i,manager:o,reserve:h,freeze:v,clawback:V,unitName:p,assetName:C,assetURL:J,assetMetadataHash:Z}})}function jp({sender:n,total:e,decimals:t,defaultFrozen:r,manager:i,reserve:o,freeze:h,clawback:v,unitName:V,assetName:p,assetURL:C,assetMetadataHash:J,note:Z,lease:he,rekeyTo:ne,suggestedParams:le}){return oa({sender:n,total:e,decimals:t,defaultFrozen:r,manager:i,reserve:o,freeze:h,clawback:v,unitName:V,assetName:p,assetURL:C,assetMetadataHash:J,note:Z,lease:he,rekeyTo:ne,suggestedParams:le})}function Jp({sender:n,assetIndex:e,manager:t,reserve:r,freeze:i,clawback:o,strictEmptyAddressChecking:h,note:v,lease:V,rekeyTo:p,suggestedParams:C}){if(!e)throw Error("assetIndex must be provided");if((h??!0)&&(t==null||r==null||i==null||o==null))throw Error("strictEmptyAddressChecking is enabled, but an address is empty. If this is intentional, set strictEmptyAddressChecking to false.");return oa({sender:n,assetIndex:e,manager:t,reserve:r,freeze:i,clawback:o,note:v,lease:V,rekeyTo:p,suggestedParams:C})}function Yp({sender:n,assetIndex:e,note:t,lease:r,rekeyTo:i,suggestedParams:o}){if(!e)throw Error("assetIndex must be provided");return oa({sender:n,assetIndex:e,note:t,lease:r,rekeyTo:i,suggestedParams:o})}function Xp({sender:n,assetIndex:e,freezeTarget:t,frozen:r,suggestedParams:i,note:o,lease:h,rekeyTo:v}){return new En({type:Dt.afrz,sender:n,note:o,lease:h,rekeyTo:v,suggestedParams:i,assetFreezeParams:{assetIndex:e,freezeTarget:t,frozen:r}})}function Zp({sender:n,receiver:e,amount:t,closeRemainderTo:r,assetSender:i,note:o,assetIndex:h,suggestedParams:v,rekeyTo:V,lease:p}){if(!h)throw Error("assetIndex must be provided");return new En({type:Dt.axfer,sender:n,note:o,lease:p,rekeyTo:V,suggestedParams:v,assetTransferParams:{assetIndex:h,receiver:e,amount:t,assetSender:i,closeRemainderTo:r}})}function Wn({sender:n,appIndex:e,onComplete:t,appArgs:r,accounts:i,foreignApps:o,foreignAssets:h,boxes:v,approvalProgram:V,clearProgram:p,numLocalInts:C,numLocalByteSlices:J,numGlobalInts:Z,numGlobalByteSlices:he,extraPages:ne,note:le,lease:k,rekeyTo:P,suggestedParams:N}){if(t==null)throw Error("onComplete must be provided");return new En({type:Dt.appl,sender:n,note:le,lease:k,rekeyTo:P,suggestedParams:N,appCallParams:{appIndex:e,onComplete:t,appArgs:r,accounts:i,foreignAssets:h,foreignApps:o,boxes:v,approvalProgram:V,clearProgram:p,numLocalInts:C,numLocalByteSlices:J,numGlobalInts:Z,numGlobalByteSlices:he,extraPages:ne}})}function Qp({sender:n,onComplete:e,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:h,approvalProgram:v,clearProgram:V,numLocalInts:p,numLocalByteSlices:C,numGlobalInts:J,numGlobalByteSlices:Z,extraPages:he,note:ne,lease:le,rekeyTo:k,suggestedParams:P}){if(!v||!V)throw Error("approvalProgram and clearProgram must be provided");if(e==null)throw Error("onComplete must be provided");return Wn({sender:n,appIndex:0,onComplete:e,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:h,approvalProgram:v,clearProgram:V,numLocalInts:p,numLocalByteSlices:C,numGlobalInts:J,numGlobalByteSlices:Z,extraPages:he,note:ne,lease:le,rekeyTo:k,suggestedParams:P})}function ey({sender:n,appIndex:e,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:h,approvalProgram:v,clearProgram:V,note:p,lease:C,rekeyTo:J,suggestedParams:Z}){if(!e)throw Error("appIndex must be provided");if(!v||!V)throw Error("approvalProgram and clearProgram must be provided");return Wn({sender:n,appIndex:e,onComplete:rn.UpdateApplicationOC,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:h,approvalProgram:v,clearProgram:V,note:p,lease:C,rekeyTo:J,suggestedParams:Z})}function ty({sender:n,appIndex:e,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:h,note:v,lease:V,rekeyTo:p,suggestedParams:C}){if(!e)throw Error("appIndex must be provided");return Wn({sender:n,appIndex:e,onComplete:rn.DeleteApplicationOC,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:h,note:v,lease:V,rekeyTo:p,suggestedParams:C})}function ny({sender:n,appIndex:e,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:h,note:v,lease:V,rekeyTo:p,suggestedParams:C}){if(!e)throw Error("appIndex must be provided");return Wn({sender:n,appIndex:e,onComplete:rn.OptInOC,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:h,note:v,lease:V,rekeyTo:p,suggestedParams:C})}function ry({sender:n,appIndex:e,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:h,note:v,lease:V,rekeyTo:p,suggestedParams:C}){if(!e)throw Error("appIndex must be provided");return Wn({sender:n,appIndex:e,onComplete:rn.CloseOutOC,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:h,note:v,lease:V,rekeyTo:p,suggestedParams:C})}function iy({sender:n,appIndex:e,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:h,note:v,lease:V,rekeyTo:p,suggestedParams:C}){if(!e)throw Error("appIndex must be provided");return Wn({sender:n,appIndex:e,onComplete:rn.ClearStateOC,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:h,note:v,lease:V,rekeyTo:p,suggestedParams:C})}function oy({sender:n,appIndex:e,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:h,note:v,lease:V,rekeyTo:p,suggestedParams:C}){if(!e)throw Error("appIndex must be provided");return Wn({sender:n,appIndex:e,onComplete:rn.NoOpOC,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:h,note:v,lease:V,rekeyTo:p,suggestedParams:C})}function sy(n){return(e,t)=>{const r=[];for(const i of t)r.push(e[i].signTxn(n.sk));return Promise.resolve(r)}}function ay(n){return(e,t)=>{const r=[];for(const i of t){const{blob:o}=$c(e[i],n);r.push(o)}return Promise.resolve(r)}}function cy(n,e){return(t,r)=>{const i=[];for(const o of r){const h=t[o],v=[];for(const V of e){const{blob:p}=Uu(h,n,V);v.push(p)}v.length>1?i.push(ia(v)):i.push(v[0])}return Promise.resolve(i)}}function hy(){return(n,e)=>{const t=[];for(const r of e)t.push(bu(n[r]));return Promise.resolve(t)}}function wc(n){return typeof n=="object"&&Object.keys(n).length===2&&typeof n.txn=="object"&&typeof n.signer=="function"}const xr=2**16-1,Fu=32,qu=1,zu=1,gn=2,uy=/^([a-z\d[\](),]+)\[(0|[1-9][\d]*)]$/,ly=/^ufixed([1-9][\d]*)x([1-9][\d]*)$/;class hn{static from(e){if(e.endsWith("[]")){const t=hn.from(e.slice(0,e.length-2));return new ua(t)}if(e.endsWith("]")){const t=e.match(uy);if(!t||t.length!==3)throw new Error(`malformed static array string: ${e}`);const r=t[2],i=parseInt(r,10);if(i>xr)throw new Error(`array length exceeds limit ${xr}`);const o=hn.from(t[1]);return new ha(o,i)}if(e.startsWith("uint")){const t=o=>[...o].every(h=>"0123456789".includes(h)),r=e.slice(4,e.length);if(!t(r))throw new Error(`malformed uint string: ${r}`);const i=parseInt(r,10);if(i>xr)throw new Error(`malformed uint string: ${i}`);return new br(i)}if(e==="byte")return new aa;if(e.startsWith("ufixed")){const t=e.match(ly);if(!t||t.length!==3)throw new Error(`malformed ufixed type: ${e}`);const r=parseInt(t[1],10),i=parseInt(t[2],10);return new sa(r,i)}if(e==="bool")return new Fn;if(e==="address")return new ks;if(e==="string")return new ca;if(e.length>=2&&e[0]==="("&&e[e.length-1]===")"){const t=Kn.parseTupleContent(e.slice(1,e.length-1)),r=[];for(let i=0;i<t.length;i++){const o=hn.from(t[i]);r.push(o)}return new Kn(r)}throw new Error(`cannot convert a string ${e} to an ABI type`)}}class br extends hn{constructor(e){if(super(),e%8!==0||e<8||e>512)throw new Error(`unsupported uint type bitSize: ${e}`);this.bitSize=e}toString(){return`uint${this.bitSize}`}equals(e){return e instanceof br&&this.bitSize===e.bitSize}isDynamic(){return!1}byteLen(){return this.bitSize/8}encode(e){if(typeof e!="bigint"&&typeof e!="number")throw new Error(`Cannot encode value as uint${this.bitSize}: ${e}`);if(e>=BigInt(2**this.bitSize)||e<BigInt(0))throw new Error(`${e} is not a non-negative int or too big to fit in size uint${this.bitSize}`);if(typeof e=="number"&&!Number.isSafeInteger(e))throw new Error(`${e} should be converted into a BigInt before it is encoded`);return ai(e,this.bitSize/8)}decode(e){if(e.length!==this.bitSize/8)throw new Error(`byte string must correspond to a uint${this.bitSize}`);return Cc(e)}}class sa extends hn{constructor(e,t){if(super(),e%8!==0||e<8||e>512)throw new Error(`unsupported ufixed type bitSize: ${e}`);if(t>160||t<1)throw new Error(`unsupported ufixed type precision: ${t}`);this.bitSize=e,this.precision=t}toString(){return`ufixed${this.bitSize}x${this.precision}`}equals(e){return e instanceof sa&&this.bitSize===e.bitSize&&this.precision===e.precision}isDynamic(){return!1}byteLen(){return this.bitSize/8}encode(e){if(typeof e!="bigint"&&typeof e!="number")throw new Error(`Cannot encode value as ${this.toString()}: ${e}`);if(e>=BigInt(2**this.bitSize)||e<BigInt(0))throw new Error(`${e} is not a non-negative int or too big to fit in size ${this.toString()}`);if(typeof e=="number"&&!Number.isSafeInteger(e))throw new Error(`${e} should be converted into a BigInt before it is encoded`);return ai(e,this.bitSize/8)}decode(e){if(e.length!==this.bitSize/8)throw new Error(`byte string must correspond to a ${this.toString()}`);return Cc(e)}}class ks extends hn{toString(){return"address"}equals(e){return e instanceof ks}isDynamic(){return!1}byteLen(){return Fu}encode(e){if(typeof e=="string")return tu(e).publicKey;if(e instanceof rt)return e.publicKey;if(e instanceof Uint8Array){if(e.byteLength!==32)throw new Error("byte string must be 32 bytes long for an address");return e}throw new Error(`Cannot encode value as ${this.toString()}: ${e}`)}decode(e){if(e.byteLength!==32)throw new Error("byte string must be 32 bytes long for an address");return ru(e)}}class Fn extends hn{toString(){return"bool"}equals(e){return e instanceof Fn}isDynamic(){return!1}byteLen(){return zu}encode(e){if(typeof e!="boolean")throw new Error(`Cannot encode value as bool: ${e}`);return e?new Uint8Array([128]):new Uint8Array([0])}decode(e){if(e.byteLength!==1)throw new Error("bool string must be 1 byte long");const t=e[0];if(t===128)return!0;if(t===0)return!1;throw new Error("boolean could not be decoded from the byte string")}}class aa extends hn{toString(){return"byte"}equals(e){return e instanceof aa}isDynamic(){return!1}byteLen(){return qu}encode(e){if(typeof e!="number"&&typeof e!="bigint")throw new Error(`Cannot encode value as byte: ${e}`);if(typeof e=="bigint"&&(e=Number(e)),e<0||e>255)throw new Error(`${e} cannot be encoded into a byte`);return new Uint8Array([e])}decode(e){if(e.byteLength!==1)throw new Error("byte string must be 1 byte long");return e[0]}}class ca extends hn{toString(){return"string"}equals(e){return e instanceof ca}isDynamic(){return!0}byteLen(){throw new Error(`${this.toString()} is a dynamic type`)}encode(e){if(typeof e!="string"&&!(e instanceof Uint8Array))throw new Error(`Cannot encode value as string: ${e}`);let t;typeof e=="string"?t=new TextEncoder().encode(e):t=e;const r=ai(t.length,gn),i=new Uint8Array(t.length+gn);return i.set(r),i.set(t,gn),i}decode(e){if(e.length<gn)throw new Error(`byte string is too short to be decoded. Actual length is ${e.length}, but expected at least ${gn}`);const r=new DataView(e.buffer,e.byteOffset,gn).getUint16(0),i=e.slice(gn,e.length);if(r!==i.length)throw new Error(`string length bytes do not match the actual length of string. Expected ${r}, got ${i.length}`);return new TextDecoder("utf-8").decode(i)}}class ha extends hn{constructor(e,t){if(super(),t<0)throw new Error(`static array must have a non negative length: ${t}`);this.childType=e,this.staticLength=t}toString(){return`${this.childType.toString()}[${this.staticLength}]`}equals(e){return e instanceof ha&&this.staticLength===e.staticLength&&this.childType.equals(e.childType)}isDynamic(){return this.childType.isDynamic()}byteLen(){return this.childType.constructor===Fn?Math.ceil(this.staticLength/8):this.staticLength*this.childType.byteLen()}encode(e){if(!Array.isArray(e)&&!(e instanceof Uint8Array))throw new Error(`Cannot encode value as ${this.toString()}: ${e}`);if(e.length!==this.staticLength)throw new Error(`Value array does not match static array length. Expected ${this.staticLength}, got ${e.length}`);return this.toABITupleType().encode(e)}decode(e){return this.toABITupleType().decode(e)}toABITupleType(){return new Kn(Array(this.staticLength).fill(this.childType))}}class ua extends hn{constructor(e){super(),this.childType=e}toString(){return`${this.childType.toString()}[]`}equals(e){return e instanceof ua&&this.childType.equals(e.childType)}isDynamic(){return!0}byteLen(){throw new Error(`${this.toString()} is a dynamic type`)}encode(e){if(!Array.isArray(e)&&!(e instanceof Uint8Array))throw new Error(`Cannot encode value as ${this.toString()}: ${e}`);const t=this.toABITupleType(e.length),r=t.encode(e),i=ai(t.childTypes.length,gn);return en(i,r)}decode(e){const r=new DataView(e.buffer,0,gn).getUint16(0);return this.toABITupleType(r).decode(e.slice(gn,e.length))}toABITupleType(e){return new Kn(Array(e).fill(this.childType))}}class Kn extends hn{constructor(e){if(super(),e.length>=xr)throw new Error("tuple type child type number larger than maximum uint16 error");this.childTypes=e}toString(){const e=[];for(let t=0;t<this.childTypes.length;t++)e[t]=this.childTypes[t].toString();return`(${e.join(",")})`}equals(e){return e instanceof Kn&&this.childTypes.length===e.childTypes.length&&this.childTypes.every((t,r)=>t.equals(e.childTypes[r]))}isDynamic(){const e=t=>t.isDynamic();return this.childTypes.some(e)}byteLen(){let e=0;for(let t=0;t<this.childTypes.length;t++)if(this.childTypes[t].constructor===Fn){const r=Oo(this.childTypes,t,1),i=r+1;t+=r,e+=Math.trunc((i+7)/8)}else{const r=this.childTypes[t].byteLen();e+=r}return e}encode(e){if(!Array.isArray(e)&&!(e instanceof Uint8Array))throw new Error(`Cannot encode value as ${this.toString()}: ${e}`);const t=Array.from(e);if(e.length>xr)throw new Error("length of tuple array should not exceed a uint16");const r=this.childTypes,i=[],o=[],h=new Map;let v=0;for(;v<r.length;){const C=r[v];if(C.isDynamic())h.set(i.length,!0),i.push(new Uint8Array([0,0])),o.push(C.encode(t[v]));else{if(C.constructor===Fn){const J=Oo(r,v,-1);let Z=Oo(r,v,1);if(J%8!==0)throw new Error("expected before index should have number of bool mod 8 equal 0");Z=Math.min(7,Z);const he=dy(t.slice(v,v+Z+1));i.push(ai(he,1)),v+=Z}else{const J=C.encode(t[v]);i.push(J)}h.set(v,!1),o.push(new Uint8Array)}v+=1}let V=0;for(const C of i)V+=C.length;let p=0;for(let C=0;C<i.length;C++){if(h.get(C)){const J=V+p;if(J>xr)throw new Error(`byte length of ${J} should not exceed a uint16`);i[C]=ai(J,gn)}p+=o[C].length}return en(...i,...o)}decode(e){const t=this.childTypes,r=[],i=[];let o=0,h=0;const v=new DataView(e.buffer);for(;o<t.length;){const C=t[o];if(C.isDynamic()){if(e.slice(h,e.length).length<gn)throw new Error("dynamic type in tuple is too short to be decoded");const J=v.getUint16(h);if(r.length>0&&(r[r.length-1].right=J,J<r[r.length-1].left))throw new Error("dynamic index segment miscalculation: left is greater than right index");const Z={left:J,right:-1};r.push(Z),i.push(null),h+=gn}else if(C.constructor===Fn){const J=Oo(this.childTypes,o,-1);let Z=Oo(this.childTypes,o,1);if(J%8!==0)throw new Error("expected before bool number mod 8 === 0");Z=Math.min(7,Z);for(let he=0;he<=Z;he++){const ne=128>>he;(e[h]&ne)>0?i.push(new Uint8Array([128])):i.push(new Uint8Array([0]))}o+=Z,h+=1}else{const J=C.byteLen();i.push(e.slice(h,h+J)),h+=J}if(o!==t.length-1&&h>=e.length)throw new Error("input byte not enough to decode");o+=1}if(r.length>0&&(r[r.length-1].right=e.length,h=e.length),h<e.length)throw new Error("input byte not fully consumed");for(let C=0;C<r.length;C++){const J=r[C];if(J.left>J.right)throw new Error("dynamic segment should display a [l, r] space with l <= r");if(C!==r.length-1&&J.right!==r[C+1].left)throw new Error("dynamic segment should be consecutive")}let V=0;for(let C=0;C<t.length;C++)t[C].isDynamic()&&(i[C]=e.slice(r[V].left,r[V].right),V+=1);const p=[];for(let C=0;C<t.length;C++){const J=t[C].decode(i[C]);p.push(J)}return p}static parseTupleContent(e){if(e.length===0)return[];if(e.endsWith(",")||e.startsWith(","))throw new Error("tuple string should not start with comma");if(e.includes(",,"))throw new Error("tuple string should not have consecutive commas");const t=[];let r=0,i="";for(const o of e)i+=o,o==="("?r+=1:o===")"?r-=1:o===","&&r===0&&(t.push(i.slice(0,i.length-1)),i="");if(i.length!==0&&t.push(i),r!==0)throw new Error("tuple string has mismatched parentheses");return t}}function dy(n){let e=0;if(n.length>8)throw new Error("value list passed in should be no greater than length 8");for(let t=0;t<n.length;t++){const r=n[t];if(typeof r!="boolean")throw new Error("non-boolean values cannot be compressed into a byte");r&&(e|=1<<7-t)}return e}function Oo(n,e,t){let r=0;for(;;){const i=e+t*r;if(n[i].constructor===Fn)if(i!==n.length-1&&t===1)r+=1;else if(i>0&&t===-1)r+=1;else break;else{r-=1;break}}return r}var bn;(function(n){n.any="txn",n.pay="pay",n.keyreg="keyreg",n.acfg="acfg",n.axfer="axfer",n.afrz="afrz",n.appl="appl"})(bn||(bn={}));function Fs(n){return n===bn.any||n===bn.pay||n===bn.keyreg||n===bn.acfg||n===bn.axfer||n===bn.afrz||n===bn.appl}function Hu(n,e){return n===bn.any?!0:e.type?e.type.toString()===n.toString():!1}var qn;(function(n){n.account="account",n.application="application",n.asset="asset"})(qn||(qn={}));function Fc(n){return n===qn.account||n===qn.application||n===qn.asset}function fy(n){const e=n.indexOf("(");if(e===-1)throw new Error(`Invalid method signature: ${n}`);let t=-1,r=0;for(let i=e;i<n.length;i++){const o=n[i];if(o==="(")r+=1;else if(o===")"){if(r===0)break;if(r-=1,r===0){t=i;break}}}if(t===-1)throw new Error(`Invalid method signature: ${n}`);return{name:n.slice(0,e),args:Kn.parseTupleContent(n.slice(e+1,t)),returns:n.slice(t+1)}}class Io{constructor(e){if(typeof e.name!="string"||typeof e.returns!="object"||!Array.isArray(e.args))throw new Error("Invalid ABIMethod parameters");this.name=e.name,this.description=e.desc,this.args=e.args.map(({type:t,name:r,desc:i})=>Fs(t)||Fc(t)?{type:t,name:r,description:i}:{type:hn.from(t),name:r,description:i}),this.returns={type:e.returns.type==="void"?e.returns.type:hn.from(e.returns.type),description:e.returns.desc},this.events=e.events,this.readonly=e.readonly}getSignature(){const e=this.args.map(r=>r.type.toString()).join(","),t=this.returns.type.toString();return`${this.name}(${e})${t}`}getSelector(){const e=zn(this.getSignature());return new Uint8Array(e.slice(0,4))}txnCount(){let e=1;for(const t of this.args)typeof t.type=="string"&&Fs(t.type)&&(e+=1);return e}toJSON(){return{name:this.name,desc:this.description,args:this.args.map(({type:e,name:t,description:r})=>({type:e.toString(),name:t,desc:r})),returns:{type:this.returns.type.toString(),desc:this.returns.description},events:this.events,readonly:this.readonly}}static fromSignature(e){const{name:t,args:r,returns:i}=fy(e);return new Io({name:t,args:r.map(o=>({type:o})),returns:{type:i}})}}function qc(n,e){if(n===null||!Array.isArray(n)||!n.every(r=>r instanceof Io))throw new Error("Methods list provided is null or not the correct type");const t=n.filter(r=>r.name===e);if(t.length>1)throw new Error(`found ${t.length} methods with the same name ${t.map(r=>r.getSignature()).join(",")}`);if(t.length===0)throw new Error(`found 0 methods with the name ${e}`);return t[0]}class gy{constructor(e){if(typeof e.name!="string"||!Array.isArray(e.methods)||e.networks&&typeof e.networks!="object")throw new Error("Invalid ABIContract parameters");this.name=e.name,this.description=e.desc,this.networks=e.networks?{...e.networks}:{},this.methods=e.methods.map(t=>new Io(t)),this.events=e.events}toJSON(){return{name:this.name,desc:this.description,networks:this.networks,methods:this.methods.map(e=>e.toJSON()),events:this.events}}getMethodByName(e){return qc(this.methods,e)}}class my{constructor(e){if(typeof e.name!="string"||!Array.isArray(e.methods))throw new Error("Invalid ABIInterface parameters");this.name=e.name,this.description=e.desc,this.methods=e.methods.map(t=>new Io(t))}toJSON(){return{name:this.name,desc:this.description,methods:this.methods.map(e=>e.toJSON())}}getMethodByName(e){return qc(this.methods,e)}}const py=new Uint8Array([21,31,124,117]),Co=16;var cn;(function(n){n[n.BUILDING=0]="BUILDING",n[n.BUILT=1]="BUILT",n[n.SIGNED=2]="SIGNED",n[n.SUBMITTED=3]="SUBMITTED",n[n.COMMITTED=4]="COMMITTED"})(cn||(cn={}));function xa(n,e,t){if(t!=null&&n===t)return 0;const r=t==null?0:1;for(let i=0;i<e.length;i++)if(n===e[i])return i+r;return e.push(n),e.length-1+r}class Tn{constructor(){this.status=cn.BUILDING,this.transactions=[],this.methodCalls=new Map,this.signedTxns=[],this.txIDs=[]}getStatus(){return this.status}count(){return this.transactions.length}clone(){const e=new Tn;return e.transactions=this.transactions.map(({txn:t,signer:r})=>{const i=t.toEncodingData();return i.delete("grp"),{txn:En.fromEncodingData(i),signer:r}}),e.methodCalls=new Map(this.methodCalls),e}addTransaction(e){if(this.status!==cn.BUILDING)throw new Error("Cannot add transactions when composer status is not BUILDING");if(this.transactions.length===Tn.MAX_GROUP_SIZE)throw new Error(`Adding an additional transaction exceeds the maximum atomic group size of ${Tn.MAX_GROUP_SIZE}`);if(e.txn.group&&e.txn.group.some(t=>t!==0))throw new Error("Cannot add a transaction with nonzero group ID");this.transactions.push(e)}addMethodCall({appID:e,method:t,methodArgs:r,sender:i,suggestedParams:o,onComplete:h,approvalProgram:v,clearProgram:V,numGlobalInts:p,numGlobalByteSlices:C,numLocalInts:J,numLocalByteSlices:Z,extraPages:he,appAccounts:ne,appForeignApps:le,appForeignAssets:k,boxes:P,note:N,lease:G,rekeyTo:fe,signer:ve}){if(this.status!==cn.BUILDING)throw new Error("Cannot add transactions when composer status is not BUILDING");if(this.transactions.length+t.txnCount()>Tn.MAX_GROUP_SIZE)throw new Error(`Adding additional transactions exceeds the maximum atomic group size of ${Tn.MAX_GROUP_SIZE}`);if(BigInt(e)===BigInt(0)){if(v==null||V==null||p==null||C==null||J==null||Z==null)throw new Error("One of the following required parameters for application creation is missing: approvalProgram, clearProgram, numGlobalInts, numGlobalByteSlices, numLocalInts, numLocalByteSlices")}else if(h===rn.UpdateApplicationOC){if(v==null||V==null)throw new Error("One of the following required parameters for OnApplicationComplete.UpdateApplicationOC is missing: approvalProgram, clearProgram");if(p!=null||C!=null||J!=null||Z!=null||he!=null)throw new Error("One of the following application creation parameters were set on a non-creation call: numGlobalInts, numGlobalByteSlices, numLocalInts, numLocalByteSlices, extraPages")}else if(v!=null||V!=null||p!=null||C!=null||J!=null||Z!=null||he!=null)throw new Error("One of the following application creation parameters were set on a non-creation call: approvalProgram, clearProgram, numGlobalInts, numGlobalByteSlices, numLocalInts, numLocalByteSlices, extraPages");if(r==null&&(r=[]),r.length!==t.args.length)throw new Error(`Incorrect number of method arguments. Expected ${t.args.length}, got ${r.length}`);let D=[],Q=[];const Y=[],me=[],y=[],s=new Map,u=P||[];for(let c=0;c<r.length;c++){let T=t.args[c].type;const Ie=r[c];if(Fs(T)){if(!wc(Ie)||!Hu(T,Ie.txn))throw new Error(`Expected ${T} TransactionWithSigner for argument at index ${c}`);if(Ie.txn.group&&Ie.txn.group.some(ye=>ye!==0))throw new Error("Cannot add a transaction with nonzero group ID");Y.push(Ie);continue}if(wc(Ie))throw new Error(`Expected non-transaction value for argument at index ${c}`);if(Fc(T)&&(s.set(me.length,D.length),me.push(T),y.push(Ie),T=new br(8)),typeof T=="string")throw new Error(`Unknown ABI type: ${T}`);D.push(T),Q.push(Ie)}const d=[],S=ne==null?[]:ne.map(c=>c.toString()),A=le==null?[]:le.map(zt),_=k==null?[]:k.map(zt);for(let c=0;c<me.length;c++){const T=me[c],Ie=y[c];let ye=0;switch(T){case qn.account:{const pe=new ks,ee=pe.decode(pe.encode(Ie));ye=xa(ee,S,i.toString());break}case qn.application:{const pe=new br(64),ee=pe.decode(pe.encode(Ie));if(ee>Number.MAX_SAFE_INTEGER)throw new Error(`Expected safe integer for application value, got ${ee}`);ye=xa(ee,A,zt(e));break}case qn.asset:{const pe=new br(64),ee=pe.decode(pe.encode(Ie));if(ee>Number.MAX_SAFE_INTEGER)throw new Error(`Expected safe integer for asset value, got ${ee}`);ye=xa(ee,_);break}default:throw new Error(`Unknown reference type: ${T}`)}d.push(ye)}for(let c=0;c<d.length;c++){const T=s.get(c);Q[T]=d[c]}if(D.length>Co-1){const c=D.slice(Co-2),T=Q.slice(Co-2);D=D.slice(0,Co-2),Q=Q.slice(0,Co-2),D.push(new Kn(c)),Q.push(T)}const L=[t.getSelector()];for(let c=0;c<D.length;c++)L.push(D[c].encode(Q[c]));const I={txn:Wn({sender:i,appIndex:e,appArgs:L,accounts:S,foreignApps:A,foreignAssets:_,boxes:u,onComplete:h??rn.NoOpOC,approvalProgram:v,clearProgram:V,numGlobalInts:p,numGlobalByteSlices:C,numLocalInts:J,numLocalByteSlices:Z,extraPages:he,lease:G,note:N,rekeyTo:fe,suggestedParams:o}),signer:ve};this.transactions.push(...Y,I),this.methodCalls.set(this.transactions.length-1,t)}buildGroup(){if(this.status===cn.BUILDING){if(this.transactions.length===0)throw new Error("Cannot build a group with 0 transactions");this.transactions.length>1&&Pu(this.transactions.map(e=>e.txn)),this.status=cn.BUILT}return this.transactions}async gatherSignatures(){if(this.status>=cn.SIGNED)return this.signedTxns;const e=this.buildGroup(),t=e.map(p=>p.txn),r=new Map;for(let p=0;p<e.length;p++){const{signer:C}=e[p];r.has(C)||r.set(C,[]),r.get(C).push(p)}const i=Array.from(r),o=await Promise.all(i.map(([p,C])=>p(t,C))),h=e.map(()=>null);for(let p=0;p<i.length;p++){const C=i[p][1],J=o[p];for(let Z=0;Z<C.length;Z++)h[C[Z]]=J[Z]}function v(p){return p.every(C=>C!=null)}if(!v(h))throw new Error(`Missing signatures. Got ${h}`);const V=h.map((p,C)=>{try{return Ht(p,Ct).txn.txID()}catch(J){throw new Error(`Cannot decode signed transaction at index ${C}. ${J}`)}});return this.signedTxns=h,this.txIDs=V,this.status=cn.SIGNED,h}async submit(e){if(this.status>cn.SUBMITTED)throw new Error("Transaction group cannot be resubmitted");const t=await this.gatherSignatures();return await e.sendRawTransaction(t).do(),this.status=cn.SUBMITTED,this.txIDs}async simulate(e,t){if(this.status>cn.SUBMITTED)throw new Error("Simulated Transaction group has already been submitted to the network");const i=(await this.gatherSignatures()).map(V=>Ht(V,Ct)),o=t??new Pi({txnGroups:[]});o.txnGroups=[new sr({txns:i})];const h=await e.simulateTransactions(o).do(),v=[];for(const[V,p]of this.methodCalls){const C=this.txIDs[V],J=h.txnGroups[0].txnResults[V].txnResult,Z={txID:C,rawReturnValue:new Uint8Array,method:p};v.push(Tn.parseMethodResponse(p,Z,J))}return{methodResults:v,simulateResponse:h}}async execute(e,t){if(this.status===cn.COMMITTED)throw new Error("Transaction group has already been executed successfully");const r=await this.submit(e);this.status=cn.SUBMITTED;const i=this.transactions.findIndex((p,C)=>this.methodCalls.has(C)),h=await Tu(e,r[i===-1?0:i],t);this.status=cn.COMMITTED;const v=h.confirmedRound,V=[];for(const[p,C]of this.methodCalls){const J=r[p];let Z={txID:J,rawReturnValue:new Uint8Array,method:C};try{const he=p===i?h:await e.pendingTransactionInformation(J).do();Z=Tn.parseMethodResponse(C,Z,he)}catch(he){Z.decodeError=he}V.push(Z)}return{confirmedRound:v,txIDs:r,methodResults:V}}static parseMethodResponse(e,t,r){const i=t;try{if(i.txInfo=r,e.returns.type!=="void"){const o=r.logs||[];if(o.length===0)throw new Error(`App call transaction did not log a return value ${kr(r)}`);const h=o[o.length-1];if(h.byteLength<4||!Bn(h.slice(0,4),py))throw new Error(`App call transaction did not log a ABI return value ${kr(r)}`);i.rawReturnValue=new Uint8Array(h.slice(4)),i.returnValue=e.returns.type.decode(t.rawReturnValue)}}catch(o){i.decodeError=o}return i}}Tn.MAX_GROUP_SIZE=16;const Gu=Uint8Array.from([77,88]),Ku="The transaction sender address and multisig preimage do not match.";function yy(n,e){return{txID:n.txID(),blob:n.signTxn(e)}}function wy(n,e){const t=en(Gu,n);return Ws(t,e)}function vy(n,e,t){const r=en(Gu,n),i=typeof t=="string"?rt.fromString(t):t;return js(r,e,i.publicKey)}const Sy=new Error(Ku),Ey=new Error(Tc),_y=Object.freeze(Object.defineProperty({__proto__:null,ABIAddressType:ks,ABIArrayDynamicType:ua,ABIArrayStaticType:ha,ABIBoolType:Fn,ABIByteType:aa,ABIContract:gy,ABIInterface:my,ABIMethod:Io,get ABIReferenceType(){return qn},ABIStringType:ca,get ABITransactionType(){return bn},ABITupleType:Kn,ABIType:hn,ABIUfixedType:sa,ABIUintType:br,ADDR_BYTE_SIZE:Fu,ALGORAND_ZERO_ADDRESS_STRING:Rf,AccountBaseData:Wr,AccountData:jr,AccountDeltas:Yr,AccountTotals:ei,Address:rt,AlgoCount:Mn,Algodv2:Wm,AppLocalState:$r,AppLocalStateDelta:Lr,AppParams:Ur,AppParamsDelta:Fr,AppResourceRecord:qr,ApplyData:pi,AssetHolding:na,AssetHoldingDelta:zr,AssetParams:ra,AssetParamsDelta:Hr,AssetResourceRecord:Gr,AtomicTransactionComposer:Tn,get AtomicTransactionComposerStatus(){return cn},BalanceRecord:Jr,Block:Ps,BlockHeader:Hn,ENCODED_MULTISIG_SCHEMA:Bc,ENCODED_SUBSIG_SCHEMA:wu,ERROR_INVALID_MICROALGOS:Ey,ERROR_MULTISIG_BAD_SENDER:Sy,EvalDelta:Ua,FalconSignatureStruct:Ir,FalconVerifier:Dr,HashFactory:Zs,INVALID_MICROALGOS_ERROR_MSG:Tc,IncludedTransactions:Zr,Indexer:yp,IntDecoding:Qt,Kmd:jm,KvValueDelta:Xr,LENGTH_ENCODE_BYTE_SIZE:gn,LedgerStateDelta:Gn,LogicSig:pn,LogicSigAccount:Er,MAX_LEN:xr,MULTISIG_BAD_SENDER_ERROR_MSG:Ku,MerkleArrayProof:ir,MerkleSignatureVerifier:Mr,ModifiedCreatable:Qr,get OnApplicationComplete(){return rn},Participant:Ar,ParticipationUpdates:ta,ProgramSourceMap:$p,Reveal:Rr,RewardState:Pr,SINGLE_BOOL_SIZE:zu,SINGLE_BYTE_SIZE:qu,SignedTransaction:Ct,SignedTxnInBlock:Nr,SignedTxnWithAD:or,SigslotCommit:Tr,StateProof:Qs,StateProofMessage:ea,StateProofTrackingData:_r,StateSchema:On,TealValue:Do,Transaction:En,get TransactionType(){return Dt},TxnCommitments:Br,UntypedValue:tn,UpgradeState:Or,UpgradeVote:Cr,ValueDelta:$n,VotingData:Kr,abiCheckTransactionType:Hu,abiTypeIsReference:Fc,abiTypeIsTransaction:Fs,algosToMicroalgos:Pf,appendSignMultisigTransaction:Cp,appendSignRawMultisigSignature:Np,assignGroupID:Pu,base64ToBytes:_e,bigIntToBytes:ai,bytesToBase64:nn,bytesToBigInt:Cc,bytesToHex:Ys,bytesToString:Js,coerceToBytes:Pn,computeGroupID:Bu,createDryrun:Fp,createMultisigTransaction:Ou,decodeAddress:tu,decodeJSON:ft,decodeMsgpack:Ht,decodeObj:Tg,decodeSignedTransaction:rm,decodeUint64:If,decodeUnsignedTransaction:Kg,dryrunTxnResultAppTrace:Hp,dryrunTxnResultLogicSigTrace:Gp,encodeAddress:ru,encodeJSON:Vg,encodeMsgpack:Sn,encodeObj:Ig,encodeUint64:eu,encodeUnsignedSimulateTransaction:bu,encodeUnsignedTransaction:Gg,encodedMultiSigFromEncodingData:Pc,encodedMultiSigToEncodingData:Oc,encodedSubsigFromEncodingData:vu,encodedSubsigToEncodingData:Su,generateAccount:wp,getApplicationAddress:Ia,getMethodByName:qc,hexToBytes:Tf,indexerModels:Jm,isOnApplicationComplete:gu,isTransactionType:Ba,isTransactionWithSigner:wc,isValidAddress:nu,logicSigFromByte:em,makeApplicationCallTxnFromObject:Wn,makeApplicationClearStateTxnFromObject:iy,makeApplicationCloseOutTxnFromObject:ry,makeApplicationCreateTxnFromObject:Qp,makeApplicationDeleteTxnFromObject:ty,makeApplicationNoOpTxnFromObject:oy,makeApplicationOptInTxnFromObject:ny,makeApplicationUpdateTxnFromObject:ey,makeAssetConfigTxnWithSuggestedParamsFromObject:Jp,makeAssetCreateTxnWithSuggestedParamsFromObject:jp,makeAssetDestroyTxnWithSuggestedParamsFromObject:Yp,makeAssetFreezeTxnWithSuggestedParamsFromObject:Xp,makeAssetTransferTxnWithSuggestedParamsFromObject:Zp,makeBaseAssetConfigTxn:oa,makeBasicAccountTransactionSigner:sy,makeEmptyTransactionSigner:hy,makeKeyRegistrationTxnWithSuggestedParamsFromObject:Wp,makeLogicSigAccountTransactionSigner:ay,makeMultiSigAccountTransactionSigner:cy,makePaymentTxnWithSuggestedParamsFromObject:Kp,masterDerivationKeyToMnemonic:kp,mergeMultisigTransactions:ia,microalgosToAlgos:Bf,mnemonicFromSeed:Nc,mnemonicToMasterDerivationKey:bp,mnemonicToSecretKey:Ep,modelsv2:sm,msgpackRawDecode:lu,msgpackRawDecodeAsMap:du,msgpackRawEncode:bs,multisigAddress:Zg,parseJSON:Ic,secretKeyToMnemonic:xp,seedFromMnemonic:Uc,signBytes:wy,signLogicSigTransaction:Ip,signLogicSigTransactionObject:$c,signMultisigTransaction:Uu,signTransaction:yy,stringifyJSON:kr,tealSign:xu,tealSignFromProgram:nm,verifyBytes:vy,verifyMultisig:yu,verifyTealSign:tm,waitForConfirmation:Tu},Symbol.toStringTag,{value:"Module"})),xy={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},Wu={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Jt={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},un={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Jn={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class ke{static getFirstMatch(e,t){const r=t.match(e);return r&&r.length>0&&r[1]||""}static getSecondMatch(e,t){const r=t.match(e);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(e,t,r){if(e.test(t))return r}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const t=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(t.push(0),t[0]===10)switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const t=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(t.push(0),!(t[0]===1&&t[1]<5)){if(t[0]===1&&t[1]<6)return"Cupcake";if(t[0]===1&&t[1]>=6)return"Donut";if(t[0]===2&&t[1]<2)return"Eclair";if(t[0]===2&&t[1]===2)return"Froyo";if(t[0]===2&&t[1]>2)return"Gingerbread";if(t[0]===3)return"Honeycomb";if(t[0]===4&&t[1]<1)return"Ice Cream Sandwich";if(t[0]===4&&t[1]<4)return"Jelly Bean";if(t[0]===4&&t[1]>=4)return"KitKat";if(t[0]===5)return"Lollipop";if(t[0]===6)return"Marshmallow";if(t[0]===7)return"Nougat";if(t[0]===8)return"Oreo";if(t[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,t,r=!1){const i=ke.getVersionPrecision(e),o=ke.getVersionPrecision(t);let h=Math.max(i,o),v=0;const V=ke.map([e,t],p=>{const C=h-ke.getVersionPrecision(p),J=p+new Array(C+1).join(".0");return ke.map(J.split("."),Z=>new Array(20-Z.length).join("0")+Z).reverse()});for(r&&(v=h-Math.min(i,o)),h-=1;h>=v;){if(V[0][h]>V[1][h])return 1;if(V[0][h]===V[1][h]){if(h===v)return 0;h-=1}else if(V[0][h]<V[1][h])return-1}}static map(e,t){const r=[];let i;if(Array.prototype.map)return Array.prototype.map.call(e,t);for(i=0;i<e.length;i+=1)r.push(t(e[i]));return r}static find(e,t){let r,i;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,i=e.length;r<i;r+=1){const o=e[r];if(t(o,r))return o}}static assign(e,...t){const r=e;let i,o;if(Object.assign)return Object.assign(e,...t);for(i=0,o=t.length;i<o;i+=1){const h=t[i];typeof h=="object"&&h!==null&&Object.keys(h).forEach(V=>{r[V]=h[V]})}return e}static getBrowserAlias(e){return xy[e]}static getBrowserTypeByAlias(e){return Wu[e]||""}}const Lt=/version\/(\d+(\.?_?\d+)+)/i,by=[{test:[/googlebot/i],describe(n){const e={name:"Googlebot"},t=ke.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,n)||ke.getFirstMatch(Lt,n);return t&&(e.version=t),e}},{test:[/opera/i],describe(n){const e={name:"Opera"},t=ke.getFirstMatch(Lt,n)||ke.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/opr\/|opios/i],describe(n){const e={name:"Opera"},t=ke.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,n)||ke.getFirstMatch(Lt,n);return t&&(e.version=t),e}},{test:[/SamsungBrowser/i],describe(n){const e={name:"Samsung Internet for Android"},t=ke.getFirstMatch(Lt,n)||ke.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/Whale/i],describe(n){const e={name:"NAVER Whale Browser"},t=ke.getFirstMatch(Lt,n)||ke.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/MZBrowser/i],describe(n){const e={name:"MZ Browser"},t=ke.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,n)||ke.getFirstMatch(Lt,n);return t&&(e.version=t),e}},{test:[/focus/i],describe(n){const e={name:"Focus"},t=ke.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,n)||ke.getFirstMatch(Lt,n);return t&&(e.version=t),e}},{test:[/swing/i],describe(n){const e={name:"Swing"},t=ke.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,n)||ke.getFirstMatch(Lt,n);return t&&(e.version=t),e}},{test:[/coast/i],describe(n){const e={name:"Opera Coast"},t=ke.getFirstMatch(Lt,n)||ke.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(n){const e={name:"Opera Touch"},t=ke.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,n)||ke.getFirstMatch(Lt,n);return t&&(e.version=t),e}},{test:[/yabrowser/i],describe(n){const e={name:"Yandex Browser"},t=ke.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,n)||ke.getFirstMatch(Lt,n);return t&&(e.version=t),e}},{test:[/ucbrowser/i],describe(n){const e={name:"UC Browser"},t=ke.getFirstMatch(Lt,n)||ke.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/Maxthon|mxios/i],describe(n){const e={name:"Maxthon"},t=ke.getFirstMatch(Lt,n)||ke.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/epiphany/i],describe(n){const e={name:"Epiphany"},t=ke.getFirstMatch(Lt,n)||ke.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/puffin/i],describe(n){const e={name:"Puffin"},t=ke.getFirstMatch(Lt,n)||ke.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/sleipnir/i],describe(n){const e={name:"Sleipnir"},t=ke.getFirstMatch(Lt,n)||ke.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/k-meleon/i],describe(n){const e={name:"K-Meleon"},t=ke.getFirstMatch(Lt,n)||ke.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/micromessenger/i],describe(n){const e={name:"WeChat"},t=ke.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,n)||ke.getFirstMatch(Lt,n);return t&&(e.version=t),e}},{test:[/qqbrowser/i],describe(n){const e={name:/qqbrowserlite/i.test(n)?"QQ Browser Lite":"QQ Browser"},t=ke.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,n)||ke.getFirstMatch(Lt,n);return t&&(e.version=t),e}},{test:[/msie|trident/i],describe(n){const e={name:"Internet Explorer"},t=ke.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/\sedg\//i],describe(n){const e={name:"Microsoft Edge"},t=ke.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/edg([ea]|ios)/i],describe(n){const e={name:"Microsoft Edge"},t=ke.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/vivaldi/i],describe(n){const e={name:"Vivaldi"},t=ke.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/seamonkey/i],describe(n){const e={name:"SeaMonkey"},t=ke.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/sailfish/i],describe(n){const e={name:"Sailfish"},t=ke.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,n);return t&&(e.version=t),e}},{test:[/silk/i],describe(n){const e={name:"Amazon Silk"},t=ke.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/phantom/i],describe(n){const e={name:"PhantomJS"},t=ke.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/slimerjs/i],describe(n){const e={name:"SlimerJS"},t=ke.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(n){const e={name:"BlackBerry"},t=ke.getFirstMatch(Lt,n)||ke.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/(web|hpw)[o0]s/i],describe(n){const e={name:"WebOS Browser"},t=ke.getFirstMatch(Lt,n)||ke.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/bada/i],describe(n){const e={name:"Bada"},t=ke.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/tizen/i],describe(n){const e={name:"Tizen"},t=ke.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,n)||ke.getFirstMatch(Lt,n);return t&&(e.version=t),e}},{test:[/qupzilla/i],describe(n){const e={name:"QupZilla"},t=ke.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,n)||ke.getFirstMatch(Lt,n);return t&&(e.version=t),e}},{test:[/firefox|iceweasel|fxios/i],describe(n){const e={name:"Firefox"},t=ke.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/electron/i],describe(n){const e={name:"Electron"},t=ke.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/MiuiBrowser/i],describe(n){const e={name:"Miui"},t=ke.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/chromium/i],describe(n){const e={name:"Chromium"},t=ke.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,n)||ke.getFirstMatch(Lt,n);return t&&(e.version=t),e}},{test:[/chrome|crios|crmo/i],describe(n){const e={name:"Chrome"},t=ke.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/GSA/i],describe(n){const e={name:"Google Search"},t=ke.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test(n){const e=!n.test(/like android/i),t=n.test(/android/i);return e&&t},describe(n){const e={name:"Android Browser"},t=ke.getFirstMatch(Lt,n);return t&&(e.version=t),e}},{test:[/playstation 4/i],describe(n){const e={name:"PlayStation 4"},t=ke.getFirstMatch(Lt,n);return t&&(e.version=t),e}},{test:[/safari|applewebkit/i],describe(n){const e={name:"Safari"},t=ke.getFirstMatch(Lt,n);return t&&(e.version=t),e}},{test:[/.*/i],describe(n){const e=/^(.*)\/(.*) /,t=/^(.*)\/(.*)[ \t]\((.*)/,i=n.search("\\(")!==-1?t:e;return{name:ke.getFirstMatch(i,n),version:ke.getSecondMatch(i,n)}}}],ky=[{test:[/Roku\/DVP/],describe(n){const e=ke.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,n);return{name:un.Roku,version:e}}},{test:[/windows phone/i],describe(n){const e=ke.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,n);return{name:un.WindowsPhone,version:e}}},{test:[/windows /i],describe(n){const e=ke.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,n),t=ke.getWindowsVersionName(e);return{name:un.Windows,version:e,versionName:t}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(n){const e={name:un.iOS},t=ke.getSecondMatch(/(Version\/)(\d[\d.]+)/,n);return t&&(e.version=t),e}},{test:[/macintosh/i],describe(n){const e=ke.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,n).replace(/[_\s]/g,"."),t=ke.getMacOSVersionName(e),r={name:un.MacOS,version:e};return t&&(r.versionName=t),r}},{test:[/(ipod|iphone|ipad)/i],describe(n){const e=ke.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,n).replace(/[_\s]/g,".");return{name:un.iOS,version:e}}},{test(n){const e=!n.test(/like android/i),t=n.test(/android/i);return e&&t},describe(n){const e=ke.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,n),t=ke.getAndroidVersionName(e),r={name:un.Android,version:e};return t&&(r.versionName=t),r}},{test:[/(web|hpw)[o0]s/i],describe(n){const e=ke.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,n),t={name:un.WebOS};return e&&e.length&&(t.version=e),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(n){const e=ke.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,n)||ke.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,n)||ke.getFirstMatch(/\bbb(\d+)/i,n);return{name:un.BlackBerry,version:e}}},{test:[/bada/i],describe(n){const e=ke.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,n);return{name:un.Bada,version:e}}},{test:[/tizen/i],describe(n){const e=ke.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,n);return{name:un.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:un.Linux}}},{test:[/CrOS/],describe(){return{name:un.ChromeOS}}},{test:[/PlayStation 4/],describe(n){const e=ke.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,n);return{name:un.PlayStation4,version:e}}}],My=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(n){const e=ke.getFirstMatch(/(can-l01)/i,n)&&"Nova",t={type:Jt.mobile,vendor:"Huawei"};return e&&(t.model=e),t}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:Jt.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:Jt.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:Jt.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:Jt.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:Jt.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:Jt.tablet}}},{test(n){const e=n.test(/ipod|iphone/i),t=n.test(/like (ipod|iphone)/i);return e&&!t},describe(n){const e=ke.getFirstMatch(/(ipod|iphone)/i,n);return{type:Jt.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:Jt.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:Jt.mobile}}},{test(n){return n.getBrowserName(!0)==="blackberry"},describe(){return{type:Jt.mobile,vendor:"BlackBerry"}}},{test(n){return n.getBrowserName(!0)==="bada"},describe(){return{type:Jt.mobile}}},{test(n){return n.getBrowserName()==="windows phone"},describe(){return{type:Jt.mobile,vendor:"Microsoft"}}},{test(n){const e=Number(String(n.getOSVersion()).split(".")[0]);return n.getOSName(!0)==="android"&&e>=3},describe(){return{type:Jt.tablet}}},{test(n){return n.getOSName(!0)==="android"},describe(){return{type:Jt.mobile}}},{test(n){return n.getOSName(!0)==="macos"},describe(){return{type:Jt.desktop,vendor:"Apple"}}},{test(n){return n.getOSName(!0)==="windows"},describe(){return{type:Jt.desktop}}},{test(n){return n.getOSName(!0)==="linux"},describe(){return{type:Jt.desktop}}},{test(n){return n.getOSName(!0)==="playstation 4"},describe(){return{type:Jt.tv}}},{test(n){return n.getOSName(!0)==="roku"},describe(){return{type:Jt.tv}}}],Ay=[{test(n){return n.getBrowserName(!0)==="microsoft edge"},describe(n){if(/\sedg\//i.test(n))return{name:Jn.Blink};const t=ke.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,n);return{name:Jn.EdgeHTML,version:t}}},{test:[/trident/i],describe(n){const e={name:Jn.Trident},t=ke.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test(n){return n.test(/presto/i)},describe(n){const e={name:Jn.Presto},t=ke.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test(n){const e=n.test(/gecko/i),t=n.test(/like gecko/i);return e&&!t},describe(n){const e={name:Jn.Gecko},t=ke.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Jn.Blink}}},{test:[/(apple)?webkit/i],describe(n){const e={name:Jn.WebKit},t=ke.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}}];class fh{constructor(e,t=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},t!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=ke.find(by,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=ke.find(ky,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:t}=this.getOS();return e?String(t).toLowerCase()||"":t||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:t}=this.getPlatform();return e?String(t).toLowerCase()||"":t||""}parsePlatform(){this.parsedResult.platform={};const e=ke.find(My,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=ke.find(Ay,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return ke.assign({},this.parsedResult)}satisfies(e){const t={};let r=0;const i={};let o=0;if(Object.keys(e).forEach(v=>{const V=e[v];typeof V=="string"?(i[v]=V,o+=1):typeof V=="object"&&(t[v]=V,r+=1)}),r>0){const v=Object.keys(t),V=ke.find(v,C=>this.isOS(C));if(V){const C=this.satisfies(t[V]);if(C!==void 0)return C}const p=ke.find(v,C=>this.isPlatform(C));if(p){const C=this.satisfies(t[p]);if(C!==void 0)return C}}if(o>0){const v=Object.keys(i),V=ke.find(v,p=>this.isBrowser(p,!0));if(V!==void 0)return this.compareVersion(i[V])}}isBrowser(e,t=!1){const r=this.getBrowserName().toLowerCase();let i=e.toLowerCase();const o=ke.getBrowserTypeByAlias(i);return t&&o&&(i=o.toLowerCase()),i===r}compareVersion(e){let t=[0],r=e,i=!1;const o=this.getBrowserVersion();if(typeof o=="string")return e[0]===">"||e[0]==="<"?(r=e.substr(1),e[1]==="="?(i=!0,r=e.substr(2)):t=[],e[0]===">"?t.push(1):t.push(-1)):e[0]==="="?r=e.substr(1):e[0]==="~"&&(i=!0,r=e.substr(1)),t.indexOf(ke.compareVersions(o,r,i))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,t=!1){return this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(t=>this.is(t))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class By{static getParser(e,t=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new fh(e,t)}static parse(e){return new fh(e).getResult()}static get BROWSER_MAP(){return Wu}static get ENGINE_MAP(){return Jn}static get OS_MAP(){return un}static get PLATFORMS_MAP(){return Jt}}export{By as B,Ty as W,_y as a};
